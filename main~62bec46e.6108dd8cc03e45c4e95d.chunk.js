(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{224:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"polyfill\", function() { return polyfill; });\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  }\n  // Binding \"this\" is important for shallow renderer support.\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(\n      prevProps,\n      prevState\n    );\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n}\n\n// React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (\n    typeof Component.getDerivedStateFromProps !== 'function' &&\n    typeof prototype.getSnapshotBeforeUpdate !== 'function'\n  ) {\n    return Component;\n  }\n\n  // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n  if (\n    foundWillMountName !== null ||\n    foundWillReceivePropsName !== null ||\n    foundWillUpdateName !== null\n  ) {\n    var componentName = Component.displayName || Component.name;\n    var newApiName =\n      typeof Component.getDerivedStateFromProps === 'function'\n        ? 'getDerivedStateFromProps()'\n        : 'getSnapshotBeforeUpdate()';\n\n    throw Error(\n      'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n        componentName +\n        ' uses ' +\n        newApiName +\n        ' but also contains the following legacy lifecycles:' +\n        (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') +\n        (foundWillReceivePropsName !== null\n          ? '\\n  ' + foundWillReceivePropsName\n          : '') +\n        (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') +\n        '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' +\n        'https://fb.me/react-async-component-lifecycle-hooks'\n    );\n  }\n\n  // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  }\n\n  // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error(\n        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'\n      );\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(\n      prevProps,\n      prevState,\n      maybeSnapshot\n    ) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag\n        ? this.__reactInternalSnapshot\n        : maybeSnapshot;\n\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWxpZmVjeWNsZXMtY29tcGF0L3JlYWN0LWxpZmVjeWNsZXMtY29tcGF0LmVzLmpzPzkxZGIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5mdW5jdGlvbiBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gIC8vIENhbGwgdGhpcy5jb25zdHJ1Y3Rvci5nRFNGUCB0byBzdXBwb3J0IHN1Yi1jbGFzc2VzLlxuICB2YXIgc3RhdGUgPSB0aGlzLmNvbnN0cnVjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlKTtcbiAgaWYgKHN0YXRlICE9PSBudWxsICYmIHN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAvLyBDYWxsIHRoaXMuY29uc3RydWN0b3IuZ0RTRlAgdG8gc3VwcG9ydCBzdWItY2xhc3Nlcy5cbiAgLy8gVXNlIHRoZSBzZXRTdGF0ZSgpIHVwZGF0ZXIgdG8gZW5zdXJlIHN0YXRlIGlzbid0IHN0YWxlIGluIGNlcnRhaW4gZWRnZSBjYXNlcy5cbiAgZnVuY3Rpb24gdXBkYXRlcihwcmV2U3RhdGUpIHtcbiAgICB2YXIgc3RhdGUgPSB0aGlzLmNvbnN0cnVjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSk7XG4gICAgcmV0dXJuIHN0YXRlICE9PSBudWxsICYmIHN0YXRlICE9PSB1bmRlZmluZWQgPyBzdGF0ZSA6IG51bGw7XG4gIH1cbiAgLy8gQmluZGluZyBcInRoaXNcIiBpcyBpbXBvcnRhbnQgZm9yIHNoYWxsb3cgcmVuZGVyZXIgc3VwcG9ydC5cbiAgdGhpcy5zZXRTdGF0ZSh1cGRhdGVyLmJpbmQodGhpcykpO1xufVxuXG5mdW5jdGlvbiBjb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gIHRyeSB7XG4gICAgdmFyIHByZXZQcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgdmFyIHByZXZTdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgdGhpcy5wcm9wcyA9IG5leHRQcm9wcztcbiAgICB0aGlzLnN0YXRlID0gbmV4dFN0YXRlO1xuICAgIHRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3RGbGFnID0gdHJ1ZTtcbiAgICB0aGlzLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90ID0gdGhpcy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShcbiAgICAgIHByZXZQcm9wcyxcbiAgICAgIHByZXZTdGF0ZVxuICAgICk7XG4gIH0gZmluYWxseSB7XG4gICAgdGhpcy5wcm9wcyA9IHByZXZQcm9wcztcbiAgICB0aGlzLnN0YXRlID0gcHJldlN0YXRlO1xuICB9XG59XG5cbi8vIFJlYWN0IG1heSB3YXJuIGFib3V0IGNXTS9jV1JQL2NXVSBtZXRob2RzIGJlaW5nIGRlcHJlY2F0ZWQuXG4vLyBBZGQgYSBmbGFnIHRvIHN1cHByZXNzIHRoZXNlIHdhcm5pbmdzIGZvciB0aGlzIHNwZWNpYWwgY2FzZS5cbmNvbXBvbmVudFdpbGxNb3VudC5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nID0gdHJ1ZTtcbmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyA9IHRydWU7XG5jb21wb25lbnRXaWxsVXBkYXRlLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgPSB0cnVlO1xuXG5mdW5jdGlvbiBwb2x5ZmlsbChDb21wb25lbnQpIHtcbiAgdmFyIHByb3RvdHlwZSA9IENvbXBvbmVudC5wcm90b3R5cGU7XG5cbiAgaWYgKCFwcm90b3R5cGUgfHwgIXByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW4gb25seSBwb2x5ZmlsbCBjbGFzcyBjb21wb25lbnRzJyk7XG4gIH1cblxuICBpZiAoXG4gICAgdHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgIT09ICdmdW5jdGlvbicgJiZcbiAgICB0eXBlb2YgcHJvdG90eXBlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlICE9PSAnZnVuY3Rpb24nXG4gICkge1xuICAgIHJldHVybiBDb21wb25lbnQ7XG4gIH1cblxuICAvLyBJZiBuZXcgY29tcG9uZW50IEFQSXMgYXJlIGRlZmluZWQsIFwidW5zYWZlXCIgbGlmZWN5Y2xlcyB3b24ndCBiZSBjYWxsZWQuXG4gIC8vIEVycm9yIGlmIGFueSBvZiB0aGVzZSBsaWZlY3ljbGVzIGFyZSBwcmVzZW50LFxuICAvLyBCZWNhdXNlIHRoZXkgd291bGQgd29yayBkaWZmZXJlbnRseSBiZXR3ZWVuIG9sZGVyIGFuZCBuZXdlciAoMTYuMyspIHZlcnNpb25zIG9mIFJlYWN0LlxuICB2YXIgZm91bmRXaWxsTW91bnROYW1lID0gbnVsbDtcbiAgdmFyIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgPSBudWxsO1xuICB2YXIgZm91bmRXaWxsVXBkYXRlTmFtZSA9IG51bGw7XG4gIGlmICh0eXBlb2YgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZvdW5kV2lsbE1vdW50TmFtZSA9ICdjb21wb25lbnRXaWxsTW91bnQnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZvdW5kV2lsbE1vdW50TmFtZSA9ICdVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JztcbiAgfVxuICBpZiAodHlwZW9mIHByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSA9ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJztcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvdG90eXBlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSA9ICdVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyc7XG4gIH1cbiAgaWYgKHR5cGVvZiBwcm90b3R5cGUuY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSAnY29tcG9uZW50V2lsbFVwZGF0ZSc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSAnVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUnO1xuICB9XG4gIGlmIChcbiAgICBmb3VuZFdpbGxNb3VudE5hbWUgIT09IG51bGwgfHxcbiAgICBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lICE9PSBudWxsIHx8XG4gICAgZm91bmRXaWxsVXBkYXRlTmFtZSAhPT0gbnVsbFxuICApIHtcbiAgICB2YXIgY29tcG9uZW50TmFtZSA9IENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZTtcbiAgICB2YXIgbmV3QXBpTmFtZSA9XG4gICAgICB0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/ICdnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoKSdcbiAgICAgICAgOiAnZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSc7XG5cbiAgICB0aHJvdyBFcnJvcihcbiAgICAgICdVbnNhZmUgbGVnYWN5IGxpZmVjeWNsZXMgd2lsbCBub3QgYmUgY2FsbGVkIGZvciBjb21wb25lbnRzIHVzaW5nIG5ldyBjb21wb25lbnQgQVBJcy5cXG5cXG4nICtcbiAgICAgICAgY29tcG9uZW50TmFtZSArXG4gICAgICAgICcgdXNlcyAnICtcbiAgICAgICAgbmV3QXBpTmFtZSArXG4gICAgICAgICcgYnV0IGFsc28gY29udGFpbnMgdGhlIGZvbGxvd2luZyBsZWdhY3kgbGlmZWN5Y2xlczonICtcbiAgICAgICAgKGZvdW5kV2lsbE1vdW50TmFtZSAhPT0gbnVsbCA/ICdcXG4gICcgKyBmb3VuZFdpbGxNb3VudE5hbWUgOiAnJykgK1xuICAgICAgICAoZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSAhPT0gbnVsbFxuICAgICAgICAgID8gJ1xcbiAgJyArIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWVcbiAgICAgICAgICA6ICcnKSArXG4gICAgICAgIChmb3VuZFdpbGxVcGRhdGVOYW1lICE9PSBudWxsID8gJ1xcbiAgJyArIGZvdW5kV2lsbFVwZGF0ZU5hbWUgOiAnJykgK1xuICAgICAgICAnXFxuXFxuVGhlIGFib3ZlIGxpZmVjeWNsZXMgc2hvdWxkIGJlIHJlbW92ZWQuIExlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6XFxuJyArXG4gICAgICAgICdodHRwczovL2ZiLm1lL3JlYWN0LWFzeW5jLWNvbXBvbmVudC1saWZlY3ljbGUtaG9va3MnXG4gICAgKTtcbiAgfVxuXG4gIC8vIFJlYWN0IDw9IDE2LjIgZG9lcyBub3Qgc3VwcG9ydCBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLlxuICAvLyBBcyBhIHdvcmthcm91bmQsIHVzZSBjV00gYW5kIGNXUlAgdG8gaW52b2tlIHRoZSBuZXcgc3RhdGljIGxpZmVjeWNsZS5cbiAgLy8gTmV3ZXIgdmVyc2lvbnMgb2YgUmVhY3Qgd2lsbCBpZ25vcmUgdGhlc2UgbGlmZWN5Y2xlcyBpZiBnRFNGUCBleGlzdHMuXG4gIGlmICh0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPSBjb21wb25lbnRXaWxsTW91bnQ7XG4gICAgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzO1xuICB9XG5cbiAgLy8gUmVhY3QgPD0gMTYuMiBkb2VzIG5vdCBzdXBwb3J0IGdldFNuYXBzaG90QmVmb3JlVXBkYXRlLlxuICAvLyBBcyBhIHdvcmthcm91bmQsIHVzZSBjV1UgdG8gaW52b2tlIHRoZSBuZXcgbGlmZWN5Y2xlLlxuICAvLyBOZXdlciB2ZXJzaW9ucyBvZiBSZWFjdCB3aWxsIGlnbm9yZSB0aGF0IGxpZmVjeWNsZSBpZiBnU0JVIGV4aXN0cy5cbiAgaWYgKHR5cGVvZiBwcm90b3R5cGUuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAodHlwZW9mIHByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0Nhbm5vdCBwb2x5ZmlsbCBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpIGZvciBjb21wb25lbnRzIHRoYXQgZG8gbm90IGRlZmluZSBjb21wb25lbnREaWRVcGRhdGUoKSBvbiB0aGUgcHJvdG90eXBlJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBwcm90b3R5cGUuY29tcG9uZW50V2lsbFVwZGF0ZSA9IGNvbXBvbmVudFdpbGxVcGRhdGU7XG5cbiAgICB2YXIgY29tcG9uZW50RGlkVXBkYXRlID0gcHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZTtcblxuICAgIHByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGVQb2x5ZmlsbChcbiAgICAgIHByZXZQcm9wcyxcbiAgICAgIHByZXZTdGF0ZSxcbiAgICAgIG1heWJlU25hcHNob3RcbiAgICApIHtcbiAgICAgIC8vIDE2LjMrIHdpbGwgbm90IGV4ZWN1dGUgb3VyIHdpbGwtdXBkYXRlIG1ldGhvZDtcbiAgICAgIC8vIEl0IHdpbGwgcGFzcyBhIHNuYXBzaG90IHZhbHVlIHRvIGRpZC11cGRhdGUgdGhvdWdoLlxuICAgICAgLy8gT2xkZXIgdmVyc2lvbnMgd2lsbCByZXF1aXJlIG91ciBwb2x5ZmlsbGVkIHdpbGwtdXBkYXRlIHZhbHVlLlxuICAgICAgLy8gV2UgbmVlZCB0byBoYW5kbGUgYm90aCBjYXNlcywgYnV0IGNhbid0IGp1c3QgY2hlY2sgZm9yIHRoZSBwcmVzZW5jZSBvZiBcIm1heWJlU25hcHNob3RcIixcbiAgICAgIC8vIEJlY2F1c2UgZm9yIDw9IDE1LnggdmVyc2lvbnMgdGhpcyBtaWdodCBiZSBhIFwicHJldkNvbnRleHRcIiBvYmplY3QuXG4gICAgICAvLyBXZSBhbHNvIGNhbid0IGp1c3QgY2hlY2sgXCJfX3JlYWN0SW50ZXJuYWxTbmFwc2hvdFwiLFxuICAgICAgLy8gQmVjYXVzZSBnZXQtc25hcHNob3QgbWlnaHQgcmV0dXJuIGEgZmFsc3kgdmFsdWUuXG4gICAgICAvLyBTbyBjaGVjayBmb3IgdGhlIGV4cGxpY2l0IF9fcmVhY3RJbnRlcm5hbFNuYXBzaG90RmxhZyBmbGFnIHRvIGRldGVybWluZSBiZWhhdmlvci5cbiAgICAgIHZhciBzbmFwc2hvdCA9IHRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3RGbGFnXG4gICAgICAgID8gdGhpcy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdFxuICAgICAgICA6IG1heWJlU25hcHNob3Q7XG5cbiAgICAgIGNvbXBvbmVudERpZFVwZGF0ZS5jYWxsKHRoaXMsIHByZXZQcm9wcywgcHJldlN0YXRlLCBzbmFwc2hvdCk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBDb21wb25lbnQ7XG59XG5cbmV4cG9ydCB7IHBvbHlmaWxsIH07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///224\n")},554:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(6);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _fscreen = __webpack_require__(751);\n\nvar _fscreen2 = _interopRequireDefault(_fscreen);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FullScreen = function (_Component) {\n  _inherits(FullScreen, _Component);\n\n  function FullScreen(props) {\n    _classCallCheck(this, FullScreen);\n\n    var _this = _possibleConstructorReturn(this, (FullScreen.__proto__ || Object.getPrototypeOf(FullScreen)).call(this, props));\n\n    _this.detectFullScreen = _this.detectFullScreen.bind(_this);\n    return _this;\n  }\n\n  _createClass(FullScreen, [{\n    key: "componentDidMount",\n    value: function componentDidMount() {\n      _fscreen2.default.addEventListener("fullscreenchange", this.detectFullScreen);\n    }\n  }, {\n    key: "componentWillUnmount",\n    value: function componentWillUnmount() {\n      _fscreen2.default.removeEventListener("fullscreenchange", this.detectFullScreen);\n    }\n  }, {\n    key: "componentDidUpdate",\n    value: function componentDidUpdate() {\n      this.handleProps(this.props);\n    }\n  }, {\n    key: "handleProps",\n    value: function handleProps(props) {\n      var enabled = _fscreen2.default.fullscreenElement === this.node;\n      if (enabled && !props.enabled) {\n        this.leaveFullScreen();\n      } else if (!enabled && props.enabled) {\n        this.enterFullScreen();\n      }\n    }\n  }, {\n    key: "detectFullScreen",\n    value: function detectFullScreen() {\n      if (this.props.onChange) {\n        this.props.onChange(_fscreen2.default.fullscreenElement === this.node);\n      }\n    }\n  }, {\n    key: "enterFullScreen",\n    value: function enterFullScreen() {\n      if (_fscreen2.default.fullscreenEnabled) {\n        _fscreen2.default.requestFullscreen(this.node);\n      }\n    }\n  }, {\n    key: "leaveFullScreen",\n    value: function leaveFullScreen() {\n      if (_fscreen2.default.fullscreenEnabled) {\n        _fscreen2.default.exitFullscreen();\n      }\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var _this2 = this;\n\n      var className = ["fullscreen"];\n      if (this.props.enabled) {\n        className.push("fullscreen-enabled");\n      }\n\n      return _react2.default.createElement(\n        "div",\n        {\n          className: className.join(" "),\n          ref: function ref(node) {\n            return _this2.node = node;\n          },\n          style: this.props.enabled ? { height: "100%", width: "100%" } : undefined\n        },\n        this.props.children\n      );\n    }\n  }]);\n\n  return FullScreen;\n}(_react.Component);\n\nFullScreen.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  enabled: _propTypes2.default.bool.isRequired,\n  onChange: _propTypes2.default.func\n};\nFullScreen.defaultProps = {\n  enabled: false\n};\nexports.default = FullScreen;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTU0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWZ1bGwtc2NyZWVuL2Rpc3QvaW5kZXguanM/YzI4NSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZShcInByb3AtdHlwZXNcIik7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfZnNjcmVlbiA9IHJlcXVpcmUoXCJmc2NyZWVuXCIpO1xuXG52YXIgX2ZzY3JlZW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnNjcmVlbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEZ1bGxTY3JlZW4gPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRnVsbFNjcmVlbiwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRnVsbFNjcmVlbihwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGdWxsU2NyZWVuKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChGdWxsU2NyZWVuLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRnVsbFNjcmVlbikpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmRldGVjdEZ1bGxTY3JlZW4gPSBfdGhpcy5kZXRlY3RGdWxsU2NyZWVuLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhGdWxsU2NyZWVuLCBbe1xuICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIF9mc2NyZWVuMi5kZWZhdWx0LmFkZEV2ZW50TGlzdGVuZXIoXCJmdWxsc2NyZWVuY2hhbmdlXCIsIHRoaXMuZGV0ZWN0RnVsbFNjcmVlbik7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgX2ZzY3JlZW4yLmRlZmF1bHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZ1bGxzY3JlZW5jaGFuZ2VcIiwgdGhpcy5kZXRlY3RGdWxsU2NyZWVuKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY29tcG9uZW50RGlkVXBkYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIHRoaXMuaGFuZGxlUHJvcHModGhpcy5wcm9wcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhbmRsZVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVByb3BzKHByb3BzKSB7XG4gICAgICB2YXIgZW5hYmxlZCA9IF9mc2NyZWVuMi5kZWZhdWx0LmZ1bGxzY3JlZW5FbGVtZW50ID09PSB0aGlzLm5vZGU7XG4gICAgICBpZiAoZW5hYmxlZCAmJiAhcHJvcHMuZW5hYmxlZCkge1xuICAgICAgICB0aGlzLmxlYXZlRnVsbFNjcmVlbigpO1xuICAgICAgfSBlbHNlIGlmICghZW5hYmxlZCAmJiBwcm9wcy5lbmFibGVkKSB7XG4gICAgICAgIHRoaXMuZW50ZXJGdWxsU2NyZWVuKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRldGVjdEZ1bGxTY3JlZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0ZWN0RnVsbFNjcmVlbigpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLm9uQ2hhbmdlKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25DaGFuZ2UoX2ZzY3JlZW4yLmRlZmF1bHQuZnVsbHNjcmVlbkVsZW1lbnQgPT09IHRoaXMubm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVudGVyRnVsbFNjcmVlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbnRlckZ1bGxTY3JlZW4oKSB7XG4gICAgICBpZiAoX2ZzY3JlZW4yLmRlZmF1bHQuZnVsbHNjcmVlbkVuYWJsZWQpIHtcbiAgICAgICAgX2ZzY3JlZW4yLmRlZmF1bHQucmVxdWVzdEZ1bGxzY3JlZW4odGhpcy5ub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibGVhdmVGdWxsU2NyZWVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxlYXZlRnVsbFNjcmVlbigpIHtcbiAgICAgIGlmIChfZnNjcmVlbjIuZGVmYXVsdC5mdWxsc2NyZWVuRW5hYmxlZCkge1xuICAgICAgICBfZnNjcmVlbjIuZGVmYXVsdC5leGl0RnVsbHNjcmVlbigpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBjbGFzc05hbWUgPSBbXCJmdWxsc2NyZWVuXCJdO1xuICAgICAgaWYgKHRoaXMucHJvcHMuZW5hYmxlZCkge1xuICAgICAgICBjbGFzc05hbWUucHVzaChcImZ1bGxzY3JlZW4tZW5hYmxlZFwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUuam9pbihcIiBcIiksXG4gICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5ub2RlID0gbm9kZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0eWxlOiB0aGlzLnByb3BzLmVuYWJsZWQgPyB7IGhlaWdodDogXCIxMDAlXCIsIHdpZHRoOiBcIjEwMCVcIiB9IDogdW5kZWZpbmVkXG4gICAgICAgIH0sXG4gICAgICAgIHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZ1bGxTY3JlZW47XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5GdWxsU2NyZWVuLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQubm9kZS5pc1JlcXVpcmVkLFxuICBlbmFibGVkOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wuaXNSZXF1aXJlZCxcbiAgb25DaGFuZ2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY1xufTtcbkZ1bGxTY3JlZW4uZGVmYXVsdFByb3BzID0ge1xuICBlbmFibGVkOiBmYWxzZVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IEZ1bGxTY3JlZW47Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///554\n')},687:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Modal\", function() { return Modal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ModalGateway\", function() { return ModalGateway; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"carouselComponents\", function() { return carouselComponents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"modalComponents\", function() { return modalComponents; });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(76);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var glam__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(8);\n/* harmony import */ var glam__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(glam__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var raf_schd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(560);\n/* harmony import */ var react_view_pager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(222);\n/* harmony import */ var react_view_pager__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_view_pager__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var html_react_parser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(553);\n/* harmony import */ var html_react_parser__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(html_react_parser__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_focus_on__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(772);\n/* harmony import */ var react_full_screen__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(554);\n/* harmony import */ var react_full_screen__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_full_screen__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var a11y_focus_store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(523);\n/* harmony import */ var a11y_focus_store__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(a11y_focus_store__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(511);\n/* harmony import */ var react_transition_group__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_transition_group__WEBPACK_IMPORTED_MODULE_9__);\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar Base = function Base(_ref) {\n  var css = _ref.css,\n      innerRef = _ref.innerRef,\n      Tag = _ref.tag,\n      props = objectWithoutProperties(_ref, ['css', 'innerRef', 'tag']);\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(Tag, _extends({\n    ref: innerRef,\n    css: _extends({\n      boxSizing: 'border-box'\n    }, css)\n  }, props));\n};\nvar Button = function Button(props) {\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(Base, _extends({ tag: 'button' }, props));\n};\nvar Div = function Div(props) {\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(Base, _extends({ tag: 'div' }, props));\n};\nvar Img = function Img(props) {\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(Base, _extends({ tag: 'img' }, props));\n};\nvar Nav = function Nav(props) {\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(Base, _extends({ tag: 'nav' }, props));\n};\nvar Span = function Span(props) {\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(Base, _extends({ tag: 'span' }, props));\n};\n\n// ==============================\n// Class Name Prefixer\n// ==============================\n\nvar CLASS_PREFIX = 'react-images';\n\n/**\r\n String representation of component state for styling with class names.\r\n\r\n Expects an array of strings OR a string/object pair:\r\n - className(['comp', 'comp-arg', 'comp-arg-2'])\r\n   @returns 'react-images__comp react-images__comp-arg react-images__comp-arg-2'\r\n - className('comp', { some: true, state: false })\r\n   @returns 'react-images__comp react-images__comp--some'\r\n*/\nfunction className(name, state) {\n  var arr = Array.isArray(name) ? name : [name];\n\n  // loop through state object, remove falsey values and combine with name\n  if (state && typeof name === 'string') {\n    for (var _key in state) {\n      if (state.hasOwnProperty(_key) && state[_key]) {\n        arr.push(name + '--' + _key);\n      }\n    }\n  }\n\n  // prefix everything and return a string\n  return arr.map(function (cn) {\n    return CLASS_PREFIX + '__' + cn;\n  }).join(' ');\n}\n\n// ==============================\n// Touch Capability Detector\n// ==============================\n\nfunction isTouch() {\n  try {\n    document.createEvent('TouchEvent');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar containerCSS = function containerCSS(_ref) {\n  var isFullscreen = _ref.isFullscreen;\n  return {\n    backgroundColor: isFullscreen ? 'black' : null,\n    display: 'flex ',\n    flexDirection: 'column',\n    height: '100%'\n  };\n};\n\nvar Container = function Container(props) {\n  var children = props.children,\n      getStyles = props.getStyles,\n      isFullscreen = props.isFullscreen,\n      isModal = props.isModal,\n      innerProps = props.innerProps;\n\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Div,\n    _extends({\n      css: getStyles('container', props),\n      className: className('container', { isFullscreen: isFullscreen, isModal: isModal })\n    }, innerProps),\n    children\n  );\n};\n\nvar smallDevice = '@media (max-width: 769px)';\n\n/**\r\n * Used to get the HTML class to select specific components.\r\n * We call `className()` in utils with each of these to get the full className,\r\n * with prefixes.\r\n */\nvar componentBaseClassNames = {\n  Header: 'header',\n  Footer: 'footer',\n  View: 'view',\n  Track: 'track',\n  Positioner: 'positioner'\n};\n\nvar footerCSS = function footerCSS(_ref) {\n  var isModal = _ref.isModal,\n      interactionIsIdle = _ref.interactionIsIdle;\n  return defineProperty({\n    alignItems: 'top',\n    bottom: isModal ? 0 : null,\n    color: isModal ? 'rgba(255, 255, 255, 0.9)' : '#666',\n    display: 'flex ',\n    flex: '0 0 auto',\n    fontSize: 13,\n    justifyContent: 'space-between',\n    left: isModal ? 0 : null,\n    opacity: interactionIsIdle && isModal ? 0 : 1,\n    padding: isModal ? '30px 20px 20px' : '10px 0',\n    position: isModal ? 'absolute' : null,\n    right: isModal ? 0 : null,\n    transform: isModal ? 'translateY(' + (interactionIsIdle ? 10 : 0) + 'px)' : null,\n    transition: 'opacity 300ms, transform 300ms',\n    zIndex: isModal ? 1 : null,\n\n    '& *:focus': {\n      outline: '1.5px solid orange'\n    }\n\n  }, smallDevice, {\n    padding: isModal ? '20px 15px 15px' : '5px 0'\n  });\n};\n\nvar footerBaseClassName = componentBaseClassNames.Footer;\n\nvar Footer = function Footer(props) {\n  var components = props.components,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps,\n      isFullscreen = props.isFullscreen,\n      isModal = props.isModal;\n\n\n  var style = isModal ? { background: 'linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.33))' } : null;\n\n  var state = { isFullscreen: isFullscreen, isModal: isModal };\n  var cn = {\n    container: className(footerBaseClassName, state),\n    caption: className('footer__caption', state),\n    count: className('footer__count', state)\n  };\n  var css = {\n    container: getStyles(footerBaseClassName, props),\n    caption: getStyles('footerCaption', props),\n    count: getStyles('footerCount', props)\n  };\n  var Caption = components.Caption,\n      Count = components.Count;\n\n\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Div,\n    _extends({\n      css: css.container,\n      className: cn.container\n      // TODO glam prefixer fails on gradients\n      // https://github.com/threepointone/glam/issues/35\n      , style: style\n    }, innerProps),\n    glam__WEBPACK_IMPORTED_MODULE_2___default()(Caption, props),\n    glam__WEBPACK_IMPORTED_MODULE_2___default()(Count, props)\n  );\n};\n\n// ==============================\n// Inner Elements\n// ==============================\n\nvar footerCaptionCSS = function footerCaptionCSS() {\n  return {};\n};\n\nvar FooterCaption = function FooterCaption(props) {\n  var currentView = props.currentView,\n      getStyles = props.getStyles,\n      isFullscreen = props.isFullscreen,\n      isModal = props.isModal;\n  var caption = currentView.caption;\n\n  var state = { isFullscreen: isFullscreen, isModal: isModal };\n\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Span,\n    {\n      css: getStyles('footerCaption', props),\n      className: className('footer__caption', state)\n    },\n    typeof caption === 'string' ? html_react_parser__WEBPACK_IMPORTED_MODULE_5___default()('<span>' + caption + '</span>') : caption\n  );\n};\n\nvar footerCountCSS = function footerCountCSS() {\n  return { flexShrink: 0, marginLeft: '1em' };\n};\n\nvar FooterCount = function FooterCount(props) {\n  var currentIndex = props.currentIndex,\n      getStyles = props.getStyles,\n      isFullscreen = props.isFullscreen,\n      isModal = props.isModal,\n      views = props.views;\n\n  var state = { isFullscreen: isFullscreen, isModal: isModal };\n  var activeView = currentIndex + 1;\n  var totalViews = views.length;\n\n  if (!activeView || !totalViews) return null;\n\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Span,\n    {\n      css: getStyles('footerCount', props),\n      className: className('footer__count', state)\n    },\n    activeView,\n    ' of ',\n    totalViews\n  );\n};\n\nvar Svg = function Svg(_ref) {\n  var size = _ref.size,\n      props = objectWithoutProperties(_ref, ['size']);\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()('svg', _extends({\n    role: 'presentation',\n    viewBox: '0 0 24 24',\n    css: {\n      display: 'inline-block',\n      fill: 'currentColor',\n      height: size,\n      stroke: 'currentColor',\n      strokeWidth: 0,\n      width: size\n    }\n  }, props));\n};\n\nvar ChevronLeft = function ChevronLeft(_ref2) {\n  var _ref2$size = _ref2.size,\n      size = _ref2$size === undefined ? 32 : _ref2$size,\n      props = objectWithoutProperties(_ref2, ['size']);\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Svg,\n    _extends({ size: size }, props),\n    glam__WEBPACK_IMPORTED_MODULE_2___default()('path', { d: 'M15.422 16.078l-1.406 1.406-6-6 6-6 1.406 1.406-4.594 4.594z' })\n  );\n};\nvar ChevronRight = function ChevronRight(_ref3) {\n  var _ref3$size = _ref3.size,\n      size = _ref3$size === undefined ? 32 : _ref3$size,\n      props = objectWithoutProperties(_ref3, ['size']);\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Svg,\n    _extends({ size: size }, props),\n    glam__WEBPACK_IMPORTED_MODULE_2___default()('path', { d: 'M9.984 6l6 6-6 6-1.406-1.406 4.594-4.594-4.594-4.594z' })\n  );\n};\nvar Close = function Close(_ref4) {\n  var _ref4$size = _ref4.size,\n      size = _ref4$size === undefined ? 32 : _ref4$size,\n      props = objectWithoutProperties(_ref4, ['size']);\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Svg,\n    _extends({ size: size }, props),\n    glam__WEBPACK_IMPORTED_MODULE_2___default()('path', { d: 'M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z' })\n  );\n};\nvar FullscreenEnter = function FullscreenEnter(_ref5) {\n  var _ref5$size = _ref5.size,\n      size = _ref5$size === undefined ? 32 : _ref5$size,\n      props = objectWithoutProperties(_ref5, ['size']);\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Svg,\n    _extends({ size: size }, props),\n    glam__WEBPACK_IMPORTED_MODULE_2___default()('path', { d: 'M14.016 5.016h4.969v4.969h-1.969v-3h-3v-1.969zM17.016 17.016v-3h1.969v4.969h-4.969v-1.969h3zM5.016 9.984v-4.969h4.969v1.969h-3v3h-1.969zM6.984 14.016v3h3v1.969h-4.969v-4.969h1.969z' })\n  );\n};\nvar FullscreenExit = function FullscreenExit(_ref6) {\n  var _ref6$size = _ref6.size,\n      size = _ref6$size === undefined ? 32 : _ref6$size,\n      props = objectWithoutProperties(_ref6, ['size']);\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Svg,\n    _extends({ size: size }, props),\n    glam__WEBPACK_IMPORTED_MODULE_2___default()('path', { d: 'M15.984 8.016h3v1.969h-4.969v-4.969h1.969v3zM14.016 18.984v-4.969h4.969v1.969h-3v3h-1.969zM8.016 8.016v-3h1.969v4.969h-4.969v-1.969h3zM5.016 15.984v-1.969h4.969v4.969h-1.969v-3h-3z' })\n  );\n};\n\nvar headerCSS = function headerCSS(_ref) {\n  var interactionIsIdle = _ref.interactionIsIdle;\n  return {\n    alignItems: 'center',\n    display: 'flex ',\n    flex: '0 0 auto',\n    justifyContent: 'space-between',\n    opacity: interactionIsIdle ? 0 : 1,\n    padding: 10,\n    paddingBottom: 20,\n    position: 'absolute',\n    transform: 'translateY(' + (interactionIsIdle ? -10 : 0) + 'px)',\n    transition: 'opacity 300ms, transform 300ms',\n    top: 0,\n    left: 0,\n    right: 0,\n    zIndex: 1,\n    '& *:focus': {\n      outline: '1.5px solid orange'\n    }\n  };\n};\n\nvar headerBaseClassName = componentBaseClassNames.Header;\n\nvar Header = function Header(props) {\n  var components = props.components,\n      getStyles = props.getStyles,\n      getCloseLabel = props.getCloseLabel,\n      getFullscreenLabel = props.getFullscreenLabel,\n      innerProps = props.innerProps,\n      isModal = props.isModal,\n      modalProps = props.modalProps;\n\n\n  if (!isModal) return null;\n\n  var allowFullscreen = modalProps.allowFullscreen,\n      isFullscreen = modalProps.isFullscreen,\n      onClose = modalProps.onClose,\n      toggleFullscreen = modalProps.toggleFullscreen;\n\n  var FsIcon = isFullscreen ? FullscreenExit : FullscreenEnter;\n  var CloseButton = components.CloseButton,\n      FullscreenButton = components.FullscreenButton;\n\n  var state = { isFullscreen: isFullscreen, isModal: isModal };\n\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Div,\n    _extends({\n      css: getStyles(headerBaseClassName, props),\n      className: className(headerBaseClassName, state)\n      // TODO glam prefixer fails on gradients\n      // https://github.com/threepointone/glam/issues/35\n      , style: {\n        background: 'linear-gradient(rgba(0,0,0,0.33), rgba(0,0,0,0))'\n      }\n    }, innerProps),\n    glam__WEBPACK_IMPORTED_MODULE_2___default()('span', null),\n    glam__WEBPACK_IMPORTED_MODULE_2___default()(\n      'span',\n      null,\n      allowFullscreen ? glam__WEBPACK_IMPORTED_MODULE_2___default()(\n        FullscreenButton,\n        {\n          getStyles: getStyles,\n          innerProps: {\n            onClick: toggleFullscreen,\n            title: getFullscreenLabel(state)\n          }\n        },\n        glam__WEBPACK_IMPORTED_MODULE_2___default()(FsIcon, { size: 32 })\n      ) : null,\n      glam__WEBPACK_IMPORTED_MODULE_2___default()(\n        CloseButton,\n        {\n          getStyles: getStyles,\n          innerProps: {\n            onClick: onClose,\n            title: getCloseLabel(state)\n          }\n        },\n        glam__WEBPACK_IMPORTED_MODULE_2___default()(Close, { size: 32 })\n      )\n    )\n  );\n};\n\n// ==============================\n// Header Buttons\n// ==============================\n\nvar headerButtonCSS = function headerButtonCSS() {\n  return {\n    alignItems: 'center',\n    background: 0,\n    border: 0,\n    color: 'rgba(255, 255, 255, 0.75)',\n    cursor: 'pointer',\n    display: 'inline-flex ',\n    height: 44,\n    justifyContent: 'center',\n    outline: 0,\n    padding: 0,\n    position: 'relative',\n    width: 44,\n\n    '&:hover': {\n      color: 'white'\n    }\n  };\n};\n\nvar headerFullscreenCSS = headerButtonCSS;\nvar HeaderFullscreen = function HeaderFullscreen(props) {\n  var children = props.children,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n\n\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Button,\n    _extends({\n      css: getStyles('headerFullscreen', props),\n      className: className(['header_button', 'header_button--fullscreen']),\n      type: 'button'\n    }, innerProps),\n    children\n  );\n};\n\nvar headerCloseCSS = headerButtonCSS;\nvar HeaderClose = function HeaderClose(props) {\n  var children = props.children,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n\n\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Button,\n    _extends({\n      css: getStyles('headerClose', props),\n      className: className(['header_button', 'header_button--close']),\n      type: 'button'\n    }, innerProps),\n    children\n  );\n};\n\n// ==============================\n// Navigation\n// ==============================\n\nvar navigationCSS = function navigationCSS(_ref) {\n  var interactionIsIdle = _ref.interactionIsIdle;\n  return {\n    display: 'flex ',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    opacity: interactionIsIdle ? 0 : 1,\n    transition: 'opacity 300ms',\n    '& *:focus': {\n      outline: '1.5px solid orange'\n    }\n  };\n};\n\nvar Navigation = function Navigation(props) {\n  var children = props.children,\n      getStyles = props.getStyles,\n      isFullscreen = props.isFullscreen,\n      isModal = props.isModal,\n      showNavigationOnTouchDevice = props.showNavigationOnTouchDevice;\n\n  return !isTouch() || isTouch() && showNavigationOnTouchDevice ? glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Nav,\n    {\n      css: getStyles('navigation', props),\n      className: className('navigation', { isFullscreen: isFullscreen, isModal: isModal })\n    },\n    children\n  ) : null;\n};\n\n// ==============================\n// Nav Item\n// ==============================\n\nvar BUTTON_SIZE = 50;\n\nvar navigationItemCSS = function navigationItemCSS(_ref2) {\n  var _ref3;\n\n  var align = _ref2.align;\n  return _ref3 = {\n    alignItems: 'center',\n    background: 'rgba(255, 255, 255, 0.2)',\n    border: 0,\n    borderRadius: '50%',\n    color: 'white',\n    cursor: 'pointer',\n    display: 'flex ',\n    fontSize: 'inherit',\n    height: BUTTON_SIZE,\n    justifyContent: 'center',\n    marginTop: -(BUTTON_SIZE / 2),\n    outline: 0,\n    position: 'absolute',\n    top: '50%',\n    transition: 'background-color 200ms',\n    width: BUTTON_SIZE\n  }, defineProperty(_ref3, align, 20), defineProperty(_ref3, '&:hover', {\n    background: 'rgba(255, 255, 255, 0.3)'\n  }), defineProperty(_ref3, '&:active', {\n    background: 'rgba(255, 255, 255, 0.2)'\n  }), _ref3;\n};\n\nvar navigationPrevCSS = navigationItemCSS;\nvar NavigationPrev = function NavigationPrev(props) {\n  var _props$children = props.children,\n      children = _props$children === undefined ? glam__WEBPACK_IMPORTED_MODULE_2___default()(ChevronLeft, { size: 48 }) : _props$children,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n\n\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Button,\n    _extends({\n      type: 'button',\n      css: getStyles('navigationPrev', props)\n    }, innerProps),\n    children\n  );\n};\n\nvar navigationNextCSS = navigationItemCSS;\nvar NavigationNext = function NavigationNext(props) {\n  var _props$children2 = props.children,\n      children = _props$children2 === undefined ? glam__WEBPACK_IMPORTED_MODULE_2___default()(ChevronRight, { size: 48 }) : _props$children2,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n\n\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Button,\n    _extends({\n      type: 'button',\n      css: getStyles('navigationNext', props)\n    }, innerProps),\n    children\n  );\n};\n\n// ==============================\n// Blanket\n// ==============================\n\nvar blanketCSS = function blanketCSS(_ref) {\n  var isFullscreen = _ref.isFullscreen;\n  return {\n    backgroundColor: isFullscreen ? 'black' : 'rgba(0, 0, 0, 0.8)',\n    bottom: 0,\n    left: 0,\n    position: 'fixed',\n    right: 0,\n    top: 0,\n    zIndex: 1199\n  };\n};\n\nvar Blanket = function Blanket(props) {\n  var getStyles = props.getStyles,\n      innerProps = props.innerProps,\n      isFullscreen = props.isFullscreen;\n\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(Div, _extends({\n    css: getStyles('blanket', props),\n    className: className('blanket', { isFullscreen: isFullscreen })\n  }, innerProps));\n};\n\n// ==============================\n// Positioner\n// ==============================\n\nvar positionerCSS = function positionerCSS() {\n  return {\n    alignItems: 'center',\n    bottom: 0,\n    display: 'flex ',\n    justifyContent: 'center',\n    left: 0,\n    position: 'fixed',\n    right: 0,\n    top: 0,\n    zIndex: 1200\n  };\n};\n\nvar Positioner = function Positioner(props) {\n  var children = props.children,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps,\n      isFullscreen = props.isFullscreen;\n\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Div,\n    _extends({\n      css: getStyles(componentBaseClassNames.Positioner, props),\n      className: className(componentBaseClassNames.Positioner, { isFullscreen: isFullscreen })\n    }, innerProps),\n    children\n  );\n};\n\n// ==============================\n// Dialog\n// ==============================\n\nvar dialogCSS = function dialogCSS() {\n  return {\n    width: '100%'\n  };\n};\n\nvar Dialog = function Dialog(props) {\n  var children = props.children,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps,\n      isFullscreen = props.isFullscreen,\n      removeFocusOn = props.removeFocusOn;\n\n\n  return removeFocusOn ? glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Div,\n    _extends({\n      css: getStyles('dialog', props),\n      className: className('dialog', { isFullscreen: isFullscreen })\n    }, innerProps),\n    children\n  ) : glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    react_focus_on__WEBPACK_IMPORTED_MODULE_6__[/* FocusOn */ \"a\"],\n    null,\n    glam__WEBPACK_IMPORTED_MODULE_2___default()(\n      Div,\n      _extends({\n        css: getStyles('dialog', props),\n        className: className('dialog', { isFullscreen: isFullscreen })\n      }, innerProps),\n      children\n    )\n  );\n};\n\nfunction getSource(_ref) {\n  var data = _ref.data,\n      isFullscreen = _ref.isFullscreen;\n  var _data$source = data.source,\n      source = _data$source === undefined ? data.src : _data$source;\n\n  if (typeof source === 'string') return source;\n\n  return isFullscreen ? source.fullscreen : source.regular;\n}\n\nvar viewCSS = function viewCSS() {\n  return {\n    lineHeight: 0,\n    position: 'relative',\n    textAlign: 'center'\n  };\n};\n\nvar viewBaseClassName = componentBaseClassNames.View;\n\nvar View = function View(props) {\n  var data = props.data,\n      formatters = props.formatters,\n      getStyles = props.getStyles,\n      index = props.index,\n      isFullscreen = props.isFullscreen,\n      isModal = props.isModal;\n\n  var innerProps = {\n    alt: formatters.getAltText({ data: data, index: index }),\n    src: getSource({ data: data, isFullscreen: isFullscreen })\n  };\n\n  return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n    Div,\n    {\n      css: getStyles(viewBaseClassName, props),\n      className: className(viewBaseClassName, { isFullscreen: isFullscreen, isModal: isModal })\n    },\n    glam__WEBPACK_IMPORTED_MODULE_2___default()(Img, _extends({}, innerProps, {\n      className: className('view-image', { isFullscreen: isFullscreen, isModal: isModal }),\n      css: {\n        height: 'auto',\n        maxHeight: '100%',\n        maxWidth: '100%',\n        userSelect: 'none',\n        margin: 'auto'\n      }\n    }))\n  );\n};\n\nvar carouselComponents = {\n  Container: Container,\n  Footer: Footer,\n  FooterCaption: FooterCaption,\n  FooterCount: FooterCount,\n  Header: Header,\n  HeaderClose: HeaderClose,\n  HeaderFullscreen: HeaderFullscreen,\n  Navigation: Navigation,\n  NavigationPrev: NavigationPrev,\n  NavigationNext: NavigationNext,\n  View: View\n};\n\nvar defaultCarouselComponents = function defaultCarouselComponents(providedComponents) {\n  return _extends({}, carouselComponents, providedComponents);\n};\n\n// ==============================\n// Modal\n// ==============================\n\nvar modalComponents = {\n  Blanket: Blanket,\n  Positioner: Positioner,\n  Dialog: Dialog\n};\n\nvar defaultModalComponents = function defaultModalComponents(providedComponents) {\n  return _extends({}, modalComponents, providedComponents);\n};\n\nvar defaultCarouselStyles = {\n  container: containerCSS,\n  footer: footerCSS,\n  footerCaption: footerCaptionCSS,\n  footerCount: footerCountCSS,\n  header: headerCSS,\n  headerClose: headerCloseCSS,\n  headerFullscreen: headerFullscreenCSS,\n  navigation: navigationCSS,\n  navigationPrev: navigationPrevCSS,\n  navigationNext: navigationNextCSS,\n  view: viewCSS\n};\nvar defaultModalStyles = {\n  blanket: blanketCSS,\n  dialog: dialogCSS,\n  positioner: positionerCSS\n};\n\nvar easing = 'cubic-bezier(0.23, 1, 0.32, 1)'; // easeOutQuint\nvar verticalOffset = 40;\n\n// ==============================\n// Fade\n// ==============================\n\nvar Fade = function Fade(_ref) {\n  var Tag = _ref.component,\n      onEntered = _ref.onEntered,\n      onExited = _ref.onExited,\n      inProp = _ref.in,\n      originalProps = _ref.innerProps,\n      props = objectWithoutProperties(_ref, ['component', 'onEntered', 'onExited', 'in', 'innerProps']);\n\n  var enter = 300;\n  var exit = 500;\n  var fadeStyle = {\n    transition: 'opacity 200ms',\n    opacity: 0\n  };\n  var fadeTransition = {\n    entering: { opacity: 0 },\n    entered: { opacity: 1 },\n    exiting: { opacity: 0, transitionDuration: exit + 'ms' }\n  };\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n    react_transition_group__WEBPACK_IMPORTED_MODULE_9__[\"Transition\"],\n    {\n      appear: true,\n      mountOnEnter: true,\n      unmountOnExit: true,\n      onEntered: onEntered,\n      onExited: onExited,\n      key: 'fade',\n      'in': inProp,\n      timeout: { enter: enter, exit: exit }\n    },\n    function (status) {\n      var innerProps = _extends({}, originalProps, {\n        style: _extends({}, fadeStyle, fadeTransition[status])\n      });\n\n      if (status === 'exited') return null;\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tag, _extends({ innerProps: innerProps }, props));\n    }\n  );\n};\nvar SlideUp = function SlideUp(_ref2) {\n  var Tag = _ref2.component,\n      onEntered = _ref2.onEntered,\n      onExited = _ref2.onExited,\n      inProp = _ref2.in,\n      originalProps = _ref2.innerProps,\n      props = objectWithoutProperties(_ref2, ['component', 'onEntered', 'onExited', 'in', 'innerProps']);\n\n  var enter = 300;\n  var exit = 500;\n  var restingTransform = 'translate3d(0, 0, 0)';\n  var slideStyle = {\n    transition: 'transform ' + enter + 'ms ' + easing + ', opacity ' + enter + 'ms ' + easing,\n    transform: restingTransform\n  };\n  var slideTransition = {\n    entering: {\n      opacity: 0,\n      transform: 'translate3d(0, ' + verticalOffset + 'px, 0) scale(0.9)'\n    },\n    entered: {\n      opacity: 1,\n      transform: restingTransform\n    },\n    exiting: {\n      opacity: 0,\n      transform: 'translate3d(0, ' + verticalOffset + 'px, 0) scale(0.9)',\n      transition: 'transform ' + exit + 'ms ' + easing + ', opacity ' + exit + 'ms ' + easing\n    }\n  };\n\n  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n    react_transition_group__WEBPACK_IMPORTED_MODULE_9__[\"Transition\"],\n    {\n      appear: true,\n      'in': inProp,\n      mountOnEnter: true,\n      onEntered: onEntered,\n      onExited: onExited,\n      timeout: { enter: enter, exit: exit },\n      unmountOnExit: true\n    },\n    function (status) {\n      if (status === 'exited') return null;\n\n      var innerProps = _extends({}, originalProps, {\n        style: _extends({}, slideStyle, slideTransition[status])\n      });\n\n      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tag, _extends({ innerProps: innerProps }, props));\n    }\n  );\n};\n\nvar defaultProps = {\n  allowFullscreen: !isTouch(),\n  closeOnBackdropClick: true,\n  closeOnEsc: true,\n  preventScroll: true,\n  styles: {}\n};\n\n/** Classes that when clicked on, close the backdrop */\nvar backdropClassNames = new Set([componentBaseClassNames.View, componentBaseClassNames.Header, componentBaseClassNames.Footer, componentBaseClassNames.Track, componentBaseClassNames.Positioner].map(className));\n\nvar Modal = function (_Component) {\n  inherits(Modal, _Component);\n\n  // TODO\n  function Modal(props) {\n    classCallCheck(this, Modal);\n\n    var _this = possibleConstructorReturn(this, (Modal.__proto__ || Object.getPrototypeOf(Modal)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.cacheComponents(props.components);\n\n    _this.state = { isFullscreen: false, isClosing: false };\n    return _this;\n  }\n\n  createClass(Modal, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.components !== this.props.components) {\n        this.cacheComponents(prevProps.components);\n      }\n    }\n\n    // emulate `componentDidMount` & `componentWillUnmount`\n    // called on complete of enter & exit transitions respectively\n\n  }, {\n    key: 'getCommonProps',\n    value: function getCommonProps() {\n      var isFullscreen = this.state.isFullscreen;\n\n\n      return {\n        getStyles: this.getStyles,\n        isFullscreen: isFullscreen,\n        modalProps: this.props\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _components = this.components,\n          Blanket = _components.Blanket,\n          Positioner = _components.Positioner,\n          Dialog = _components.Dialog;\n      var _props = this.props,\n          allowFullscreen = _props.allowFullscreen,\n          children = _props.children;\n      var isFullscreen = this.state.isFullscreen;\n\n      var commonProps = this.commonProps = this.getCommonProps();\n\n      // $FlowFixMe\n      var transitionIn = this.props.in;\n\n      // forward props to modal for use in internal components\n      var modalProps = {\n        allowFullscreen: allowFullscreen,\n        isFullscreen: isFullscreen,\n        onClose: this.handleClose,\n        preventScroll: this.preventScroll,\n        toggleFullscreen: this.toggleFullscreen\n      };\n\n      // augment user carousel with modal props\n      // $FlowFixMe\n      var carouselComponent = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"cloneElement\"])(children, {\n        isModal: true,\n        modalProps: modalProps\n      });\n\n      return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n        react_full_screen__WEBPACK_IMPORTED_MODULE_7___default.a,\n        { enabled: isFullscreen, onChange: this.handleFullscreenChange },\n        glam__WEBPACK_IMPORTED_MODULE_2___default()(Fade, _extends({}, commonProps, { component: Blanket, 'in': transitionIn })),\n        glam__WEBPACK_IMPORTED_MODULE_2___default()(\n          SlideUp,\n          _extends({}, commonProps, {\n            component: Positioner,\n            'in': transitionIn,\n            innerProps: {\n              onClick: this.state.isClosing ? null : this.handleBackdropClick\n            },\n            onEntered: this.modalDidMount,\n            onExited: this.modalWillUnmount\n          }),\n          glam__WEBPACK_IMPORTED_MODULE_2___default()(\n            Dialog,\n            _extends({ removeFocusOn: this.state.isClosing }, commonProps),\n            carouselComponent\n          )\n        )\n      );\n    }\n  }]);\n  return Modal;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\nModal.defaultProps = defaultProps;\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.modalDidMount = function () {\n    document.addEventListener('keyup', _this2.handleKeyUp);\n    a11y_focus_store__WEBPACK_IMPORTED_MODULE_8___default.a.storeFocus();\n  };\n\n  this.modalWillUnmount = function () {\n    document.removeEventListener('keyup', _this2.handleKeyUp);\n    a11y_focus_store__WEBPACK_IMPORTED_MODULE_8___default.a.restoreFocus();\n    _this2.setState({ isClosing: false });\n  };\n\n  this.cacheComponents = function (comps) {\n    _this2.components = defaultModalComponents(comps);\n  };\n\n  this.handleFullscreenChange = function (isFullscreen) {\n    _this2.setState({ isFullscreen: isFullscreen });\n  };\n\n  this.handleKeyUp = function (event) {\n    var _props2 = _this2.props,\n        allowFullscreen = _props2.allowFullscreen,\n        closeOnEsc = _props2.closeOnEsc;\n    var isFullscreen = _this2.state.isFullscreen;\n\n    var allowClose = event.key === 'Escape' && closeOnEsc && !isFullscreen;\n\n    // toggle fullscreen\n    if (allowFullscreen && event.key === 'f') {\n      _this2.toggleFullscreen();\n    }\n\n    // close on escape when not fullscreen\n    if (allowClose) _this2.handleClose(event);\n  };\n\n  this.handleBackdropClick = function (event) {\n    var hasBackdropClassName = false;\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = event.target.classList[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var targetClass = _step.value;\n\n        if (backdropClassNames.has(targetClass)) {\n          hasBackdropClassName = true;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    if (!hasBackdropClassName || !_this2.props.closeOnBackdropClick) {\n      return;\n    }\n\n    _this2.handleClose(event);\n  };\n\n  this.toggleFullscreen = function () {\n    _this2.setState(function (state) {\n      return { isFullscreen: !state.isFullscreen };\n    });\n  };\n\n  this.handleClose = function (event) {\n    var onClose = _this2.props.onClose;\n    var isFullscreen = _this2.state.isFullscreen;\n\n\n    _this2.setState({ isClosing: true });\n\n    // force exit fullscreen mode on close\n    if (isFullscreen) {\n      _this2.toggleFullscreen();\n    }\n\n    // call the consumer's onClose func\n    onClose(event);\n  };\n\n  this.getStyles = function (key, props) {\n    var base = defaultModalStyles[key](props);\n    base.boxSizing = 'border-box';\n    var custom = _this2.props.styles[key];\n    return custom ? custom(base, props) : base;\n  };\n};\n\n// ==============================\n// Navigation\n// ==============================\n\n/* ARIA label for the next button */\n\n\n// NOTE: props aren't used by default for some getters but consumers may need\n// them, this needs to be reflected in the flow type.\n\n/* eslint-disable no-unused-vars */\n\nfunction getNextLabel(_ref) {\n  var currentIndex = _ref.currentIndex,\n      views = _ref.views;\n\n  return 'Show slide ' + (currentIndex + 2) + ' of ' + views.length;\n}\n\n/* ARIA label for the previous button */\nfunction getPrevLabel(_ref2) {\n  var currentIndex = _ref2.currentIndex,\n      views = _ref2.views;\n\n  return 'Show slide ' + currentIndex + ' of ' + views.length;\n}\n\n/* HTML title for the next button */\nfunction getNextTitle(props) {\n  return 'Next (right arrow)';\n}\n\n/* HTML title for the previous button */\nfunction getPrevTitle(props) {\n  return 'Previous (left arrow)';\n}\n\n// ==============================\n// Header\n// ==============================\n\n/* ARIA label for the close button */\nfunction getCloseLabel(props) {\n  return 'Close (esc)';\n}\n/* ARIA label for the fullscreen button */\nfunction getFullscreenLabel(_ref3) {\n  var isFullscreen = _ref3.isFullscreen;\n\n  return isFullscreen ? 'Exit fullscreen (f)' : 'Enter fullscreen (f)';\n}\n\n// ==============================\n// View\n// ==============================\n\n/* alt text for each image in the carousel */\nfunction getAltText(_ref4) {\n  var data = _ref4.data,\n      index = _ref4.index;\n\n  if (data.caption) return data.caption;\n\n  return 'Image ' + (index + 1);\n}\n\n// ==============================\n// Exports\n// ==============================\n\nvar formatters = {\n  getAltText: getAltText,\n  getNextLabel: getNextLabel,\n  getPrevLabel: getPrevLabel,\n  getNextTitle: getNextTitle,\n  getPrevTitle: getPrevTitle,\n  getCloseLabel: getCloseLabel,\n  getFullscreenLabel: getFullscreenLabel\n};\n\nvar viewPagerStyles = {\n  flex: '1 1 auto',\n  position: 'relative'\n};\nvar frameStyles = { outline: 0 };\n\nvar defaultProps$1 = {\n  currentIndex: 0,\n  formatters: formatters,\n  hideControlsWhenIdle: 3000,\n  showNavigationOnTouchDevice: false,\n  styles: {},\n  trackProps: {\n    instant: !isTouch(),\n    swipe: 'touch'\n  }\n};\n\nvar trackBaseClassName = componentBaseClassNames.Track;\n\nvar Carousel = function (_Component) {\n  inherits(Carousel, _Component);\n\n  function Carousel(props) {\n    classCallCheck(this, Carousel);\n\n    var _this = possibleConstructorReturn(this, (Carousel.__proto__ || Object.getPrototypeOf(Carousel)).call(this, props));\n\n    _initialiseProps$1.call(_this);\n\n    _this.cacheComponents(props.components);\n\n    _this.state = {\n      currentIndex: props.currentIndex,\n      interactionIsIdle: isTouch()\n    };\n    return _this;\n  } // TODO\n\n\n  createClass(Carousel, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          hideControlsWhenIdle = _props.hideControlsWhenIdle,\n          modalProps = _props.modalProps;\n\n      var isModal = Boolean(modalProps);\n\n      this.mounted = true;\n\n      if (hideControlsWhenIdle && this.container) {\n        this.container.addEventListener('mousedown', this.handleMouseActivity);\n        this.container.addEventListener('mousemove', this.handleMouseActivity);\n        this.container.addEventListener('touchmove', this.handleMouseActivity);\n      }\n      if (isModal) {\n        this.focusViewFrame();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.components !== this.props.components) {\n        this.cacheComponents(prevProps.components);\n      }\n\n      if (this.props.currentIndex !== prevProps.currentIndex) {\n        this.setState({ currentIndex: this.props.currentIndex });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.mounted = false;\n\n      if (this.props.hideControlsWhenIdle && this.container) {\n        this.container.removeEventListener('mousedown', this.handleMouseActivity);\n        this.container.removeEventListener('mousemove', this.handleMouseActivity);\n        this.container.removeEventListener('touchmove', this.handleMouseActivity);\n        this.handleMouseActivity.cancel();\n      }\n    }\n\n    // ==============================\n    // Refs\n    // ==============================\n\n    // ==============================\n    // Utilities\n    // ==============================\n\n    // combine defaultProps with consumer props to maintain expected behaviour\n\n    // combine defaultProps with consumer props to maintain expected behaviour\n\n\n    // ==============================\n    // Handlers\n    // ==============================\n\n    // ==============================\n    // Renderers\n    // ==============================\n\n  }, {\n    key: 'getCommonProps',\n    value: function getCommonProps() {\n      var _props2 = this.props,\n          frameProps = _props2.frameProps,\n          trackProps = _props2.trackProps,\n          modalProps = _props2.modalProps,\n          views = _props2.views,\n          showNavigationOnTouchDevice = _props2.showNavigationOnTouchDevice;\n\n      var isModal = Boolean(modalProps);\n      var isFullscreen = Boolean(modalProps && modalProps.isFullscreen);\n      var _state = this.state,\n          currentIndex = _state.currentIndex,\n          interactionIsIdle = _state.interactionIsIdle;\n\n      var currentView = this.getViewData();\n\n      return {\n        carouselProps: this.props,\n        currentIndex: currentIndex,\n        currentView: currentView,\n        formatters: this.props.formatters,\n        frameProps: frameProps,\n        getStyles: this.getStyles,\n        showNavigationOnTouchDevice: showNavigationOnTouchDevice,\n        isFullscreen: isFullscreen,\n        isModal: isModal,\n        modalProps: modalProps,\n        interactionIsIdle: interactionIsIdle,\n        trackProps: trackProps,\n        views: views\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _components = this.components,\n          Container = _components.Container,\n          View = _components.View;\n      var currentIndex = this.state.currentIndex;\n      var _props3 = this.props,\n          frameProps = _props3.frameProps,\n          views = _props3.views;\n\n      var commonProps = this.commonProps = this.getCommonProps();\n\n      return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n        Container,\n        _extends({}, commonProps, { innerProps: { innerRef: this.getContainer } }),\n        this.renderHeader(),\n        glam__WEBPACK_IMPORTED_MODULE_2___default()(\n          react_view_pager__WEBPACK_IMPORTED_MODULE_4__[\"ViewPager\"],\n          {\n            tag: 'main',\n            style: viewPagerStyles,\n            className: className('pager')\n          },\n          glam__WEBPACK_IMPORTED_MODULE_2___default()(\n            react_view_pager__WEBPACK_IMPORTED_MODULE_4__[\"Frame\"],\n            _extends({}, frameProps, {\n              ref: this.getFrame,\n              className: className('frame'),\n              style: frameStyles,\n              tabIndex: '-1'\n            }),\n            glam__WEBPACK_IMPORTED_MODULE_2___default()(\n              react_view_pager__WEBPACK_IMPORTED_MODULE_4__[\"Track\"],\n              _extends({}, this.getTrackProps(this.props), {\n                style: { display: 'flex', alignItems: 'center' },\n                currentView: currentIndex,\n                className: className(trackBaseClassName),\n                onViewChange: this.handleViewChange,\n                ref: this.getTrack\n              }),\n              views && views.map(function (data, index) {\n                return glam__WEBPACK_IMPORTED_MODULE_2___default()(\n                  react_view_pager__WEBPACK_IMPORTED_MODULE_4__[\"View\"],\n                  { className: className('view-wrapper'), key: index },\n                  glam__WEBPACK_IMPORTED_MODULE_2___default()(View, _extends({}, commonProps, { data: data, index: index }))\n                );\n              })\n            )\n          ),\n          this.renderNavigation()\n        ),\n        this.renderFooter()\n      );\n    }\n  }]);\n  return Carousel;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\nCarousel.defaultProps = defaultProps$1;\n\nvar _initialiseProps$1 = function _initialiseProps() {\n  var _this2 = this;\n\n  this.mounted = false;\n\n  this.cacheComponents = function (comps) {\n    _this2.components = defaultCarouselComponents(comps);\n  };\n\n  this.getContainer = function (ref) {\n    _this2.container = ref;\n  };\n\n  this.getFooter = function (ref) {\n    _this2.footer = ref;\n  };\n\n  this.getFrame = function (ref) {\n    _this2.frame = Object(react_dom__WEBPACK_IMPORTED_MODULE_1__[\"findDOMNode\"])(ref);\n  };\n\n  this.getHeader = function (ref) {\n    _this2.header = ref;\n  };\n\n  this.getTrack = function (ref) {\n    _this2.track = ref;\n  };\n\n  this.hasPreviousView = function () {\n    var trackProps = _this2.props.trackProps;\n    var currentIndex = _this2.state.currentIndex;\n\n\n    return trackProps.infinite || currentIndex !== 0;\n  };\n\n  this.hasNextView = function () {\n    var _props4 = _this2.props,\n        trackProps = _props4.trackProps,\n        views = _props4.views;\n    var currentIndex = _this2.state.currentIndex;\n\n\n    return trackProps.infinite || currentIndex !== views.length - 1;\n  };\n\n  this.getStyles = function (key, props) {\n    var base = defaultCarouselStyles[key](props);\n    base.boxSizing = 'border-box';\n    var custom = _this2.props.styles[key];\n    return custom ? custom(base, props) : base;\n  };\n\n  this.getTrackProps = function (props) {\n    return _extends({}, defaultProps$1.trackProps, props.trackProps);\n  };\n\n  this.getFormatters = function () {\n    return _extends({}, defaultProps$1.formatters, _this2.props.formatters);\n  };\n\n  this.getViewData = function () {\n    var views = _this2.props.views;\n    var currentIndex = _this2.state.currentIndex;\n\n\n    return views[currentIndex];\n  };\n\n  this.focusViewFrame = function () {\n    if (_this2.frame && document.activeElement !== _this2.frame) {\n      _this2.frame.focus();\n    }\n  };\n\n  this.prev = function (event) {\n    event.stopPropagation();\n    _this2.track.prev();\n    _this2.focusViewFrame();\n  };\n\n  this.next = function (event) {\n    event.stopPropagation();\n    _this2.track.next();\n    _this2.focusViewFrame();\n  };\n\n  this.handleMouseActivity = Object(raf_schd__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(function () {\n    clearTimeout(_this2.timer);\n\n    if (_this2.state.interactionIsIdle) {\n      _this2.setState({ interactionIsIdle: false });\n    }\n\n    _this2.timer = setTimeout(function () {\n      if (_this2.mounted) {\n        _this2.setState({ interactionIsIdle: true });\n      }\n    }, _this2.props.hideControlsWhenIdle);\n  });\n\n  this.handleViewChange = function (indicies) {\n    var trackProps = _this2.props.trackProps;\n\n    // simplify by enforcing number\n\n    var currentIndex = indicies[0];\n\n    _this2.setState({ currentIndex: currentIndex });\n\n    // call the consumer's onViewChange fn\n    if (trackProps && trackProps.onViewChange) {\n      trackProps.onViewChange(currentIndex);\n    }\n  };\n\n  this.renderNavigation = function () {\n    var _getFormatters = _this2.getFormatters(),\n        getNextLabel = _getFormatters.getNextLabel,\n        getPrevLabel = _getFormatters.getPrevLabel,\n        getNextTitle = _getFormatters.getNextTitle,\n        getPrevTitle = _getFormatters.getPrevTitle;\n\n    var _components2 = _this2.components,\n        Navigation = _components2.Navigation,\n        NavigationPrev = _components2.NavigationPrev,\n        NavigationNext = _components2.NavigationNext;\n    var commonProps = _this2.commonProps;\n\n\n    var showPrev = _this2.hasPreviousView();\n    var showNext = _this2.hasNextView();\n    var showNav = (showPrev || showNext) && Navigation;\n\n    return showNav ? glam__WEBPACK_IMPORTED_MODULE_2___default()(\n      Navigation,\n      commonProps,\n      showPrev && glam__WEBPACK_IMPORTED_MODULE_2___default()(NavigationPrev, _extends({}, commonProps, {\n        align: 'left',\n        innerProps: {\n          'aria-label': getPrevLabel(commonProps),\n          onClick: _this2.prev,\n          title: getPrevTitle(commonProps)\n        }\n      })),\n      showNext && glam__WEBPACK_IMPORTED_MODULE_2___default()(NavigationNext, _extends({}, commonProps, {\n        align: 'right',\n        innerProps: {\n          'aria-label': getNextLabel(commonProps),\n          onClick: _this2.next,\n          title: getNextTitle(commonProps)\n        }\n      }))\n    ) : null;\n  };\n\n  this.renderFooter = function () {\n    var _components3 = _this2.components,\n        Footer = _components3.Footer,\n        FooterCaption = _components3.FooterCaption,\n        FooterCount = _components3.FooterCount;\n    var commonProps = _this2.commonProps;\n\n\n    return Footer ? glam__WEBPACK_IMPORTED_MODULE_2___default()(Footer, _extends({}, commonProps, {\n      components: {\n        Caption: FooterCaption,\n        Count: FooterCount\n      },\n      innerProps: { innerRef: _this2.getFooter }\n    })) : null;\n  };\n\n  this.renderHeader = function () {\n    var _components4 = _this2.components,\n        Header = _components4.Header,\n        HeaderClose = _components4.HeaderClose,\n        HeaderFullscreen = _components4.HeaderFullscreen;\n\n    var _getFormatters2 = _this2.getFormatters(),\n        getCloseLabel = _getFormatters2.getCloseLabel,\n        getFullscreenLabel = _getFormatters2.getFullscreenLabel;\n\n    var commonProps = _this2.commonProps;\n\n\n    return Header ? glam__WEBPACK_IMPORTED_MODULE_2___default()(Header, _extends({}, commonProps, {\n      getCloseLabel: getCloseLabel,\n      getFullscreenLabel: getFullscreenLabel,\n      components: {\n        CloseButton: HeaderClose,\n        FullscreenButton: HeaderFullscreen\n      },\n      data: _this2.getViewData(),\n      innerProps: { innerRef: _this2.getHeader }\n    })) : null;\n  };\n};\n\nvar FirstChild = function FirstChild(_ref) {\n  var children = _ref.children;\n  return react__WEBPACK_IMPORTED_MODULE_0__[\"Children\"].toArray(children)[0] || null;\n};\n\nvar ModalGateway = function (_Component) {\n  inherits(ModalGateway, _Component);\n\n  function ModalGateway() {\n    classCallCheck(this, ModalGateway);\n    return possibleConstructorReturn(this, (ModalGateway.__proto__ || Object.getPrototypeOf(ModalGateway)).apply(this, arguments));\n  }\n\n  createClass(ModalGateway, [{\n    key: 'render',\n    value: function render() {\n      if (typeof window === 'undefined') return null;\n      var _props = this.props,\n          target = _props.target,\n          children = _props.children;\n\n      return Object(react_dom__WEBPACK_IMPORTED_MODULE_1__[\"createPortal\"])(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_transition_group__WEBPACK_IMPORTED_MODULE_9__[\"TransitionGroup\"], { component: FirstChild, children: children }), target);\n    }\n  }]);\n  return ModalGateway;\n}(react__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]);\n\nModalGateway.defaultProps = {\n  target: typeof window !== 'undefined' ? document.body : null\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Carousel);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjg3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWltYWdlcy9kaXN0L3JlYWN0LWltYWdlcy5lcy5qcz8zZTM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBjbG9uZUVsZW1lbnQsIENvbXBvbmVudCwgQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBmaW5kRE9NTm9kZSwgY3JlYXRlUG9ydGFsIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBnbGFtIGZyb20gJ2dsYW0nO1xuaW1wb3J0IHJhZlNjaGVkdWxlciBmcm9tICdyYWYtc2NoZCc7XG5pbXBvcnQgeyBWaWV3UGFnZXIsIEZyYW1lLCBUcmFjaywgVmlldyBhcyBWaWV3JDEgfSBmcm9tICdyZWFjdC12aWV3LXBhZ2VyJztcbmltcG9ydCBQYXJzZUh0bWwgZnJvbSAnaHRtbC1yZWFjdC1wYXJzZXInO1xuaW1wb3J0IHsgRm9jdXNPbiB9IGZyb20gJ3JlYWN0LWZvY3VzLW9uJztcbmltcG9ydCBGdWxsc2NyZWVuIGZyb20gJ3JlYWN0LWZ1bGwtc2NyZWVuJztcbmltcG9ydCBmb2N1c1N0b3JlIGZyb20gJ2ExMXktZm9jdXMtc3RvcmUnO1xuaW1wb3J0IHsgVHJhbnNpdGlvbiwgVHJhbnNpdGlvbkdyb3VwIH0gZnJvbSAncmVhY3QtdHJhbnNpdGlvbi1ncm91cCc7XG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbnZhciBpbmhlcml0cyA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07XG5cbnZhciBvYmplY3RXaXRob3V0UHJvcGVydGllcyA9IGZ1bmN0aW9uIChvYmosIGtleXMpIHtcbiAgdmFyIHRhcmdldCA9IHt9O1xuXG4gIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTtcbiAgICB0YXJnZXRbaV0gPSBvYmpbaV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxudmFyIHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn07XG5cbnZhciBCYXNlID0gZnVuY3Rpb24gQmFzZShfcmVmKSB7XG4gIHZhciBjc3MgPSBfcmVmLmNzcyxcbiAgICAgIGlubmVyUmVmID0gX3JlZi5pbm5lclJlZixcbiAgICAgIFRhZyA9IF9yZWYudGFnLFxuICAgICAgcHJvcHMgPSBvYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbJ2NzcycsICdpbm5lclJlZicsICd0YWcnXSk7XG4gIHJldHVybiBnbGFtKFRhZywgX2V4dGVuZHMoe1xuICAgIHJlZjogaW5uZXJSZWYsXG4gICAgY3NzOiBfZXh0ZW5kcyh7XG4gICAgICBib3hTaXppbmc6ICdib3JkZXItYm94J1xuICAgIH0sIGNzcylcbiAgfSwgcHJvcHMpKTtcbn07XG52YXIgQnV0dG9uID0gZnVuY3Rpb24gQnV0dG9uKHByb3BzKSB7XG4gIHJldHVybiBnbGFtKEJhc2UsIF9leHRlbmRzKHsgdGFnOiAnYnV0dG9uJyB9LCBwcm9wcykpO1xufTtcbnZhciBEaXYgPSBmdW5jdGlvbiBEaXYocHJvcHMpIHtcbiAgcmV0dXJuIGdsYW0oQmFzZSwgX2V4dGVuZHMoeyB0YWc6ICdkaXYnIH0sIHByb3BzKSk7XG59O1xudmFyIEltZyA9IGZ1bmN0aW9uIEltZyhwcm9wcykge1xuICByZXR1cm4gZ2xhbShCYXNlLCBfZXh0ZW5kcyh7IHRhZzogJ2ltZycgfSwgcHJvcHMpKTtcbn07XG52YXIgTmF2ID0gZnVuY3Rpb24gTmF2KHByb3BzKSB7XG4gIHJldHVybiBnbGFtKEJhc2UsIF9leHRlbmRzKHsgdGFnOiAnbmF2JyB9LCBwcm9wcykpO1xufTtcbnZhciBTcGFuID0gZnVuY3Rpb24gU3Bhbihwcm9wcykge1xuICByZXR1cm4gZ2xhbShCYXNlLCBfZXh0ZW5kcyh7IHRhZzogJ3NwYW4nIH0sIHByb3BzKSk7XG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENsYXNzIE5hbWUgUHJlZml4ZXJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG52YXIgQ0xBU1NfUFJFRklYID0gJ3JlYWN0LWltYWdlcyc7XG5cbi8qKlxyXG4gU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGNvbXBvbmVudCBzdGF0ZSBmb3Igc3R5bGluZyB3aXRoIGNsYXNzIG5hbWVzLlxyXG5cclxuIEV4cGVjdHMgYW4gYXJyYXkgb2Ygc3RyaW5ncyBPUiBhIHN0cmluZy9vYmplY3QgcGFpcjpcclxuIC0gY2xhc3NOYW1lKFsnY29tcCcsICdjb21wLWFyZycsICdjb21wLWFyZy0yJ10pXHJcbiAgIEByZXR1cm5zICdyZWFjdC1pbWFnZXNfX2NvbXAgcmVhY3QtaW1hZ2VzX19jb21wLWFyZyByZWFjdC1pbWFnZXNfX2NvbXAtYXJnLTInXHJcbiAtIGNsYXNzTmFtZSgnY29tcCcsIHsgc29tZTogdHJ1ZSwgc3RhdGU6IGZhbHNlIH0pXHJcbiAgIEByZXR1cm5zICdyZWFjdC1pbWFnZXNfX2NvbXAgcmVhY3QtaW1hZ2VzX19jb21wLS1zb21lJ1xyXG4qL1xuZnVuY3Rpb24gY2xhc3NOYW1lKG5hbWUsIHN0YXRlKSB7XG4gIHZhciBhcnIgPSBBcnJheS5pc0FycmF5KG5hbWUpID8gbmFtZSA6IFtuYW1lXTtcblxuICAvLyBsb29wIHRocm91Z2ggc3RhdGUgb2JqZWN0LCByZW1vdmUgZmFsc2V5IHZhbHVlcyBhbmQgY29tYmluZSB3aXRoIG5hbWVcbiAgaWYgKHN0YXRlICYmIHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykge1xuICAgIGZvciAodmFyIF9rZXkgaW4gc3RhdGUpIHtcbiAgICAgIGlmIChzdGF0ZS5oYXNPd25Qcm9wZXJ0eShfa2V5KSAmJiBzdGF0ZVtfa2V5XSkge1xuICAgICAgICBhcnIucHVzaChuYW1lICsgJy0tJyArIF9rZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIHByZWZpeCBldmVyeXRoaW5nIGFuZCByZXR1cm4gYSBzdHJpbmdcbiAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKGNuKSB7XG4gICAgcmV0dXJuIENMQVNTX1BSRUZJWCArICdfXycgKyBjbjtcbiAgfSkuam9pbignICcpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFRvdWNoIENhcGFiaWxpdHkgRGV0ZWN0b3Jcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBpc1RvdWNoKCkge1xuICB0cnkge1xuICAgIGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdUb3VjaEV2ZW50Jyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxudmFyIGNvbnRhaW5lckNTUyA9IGZ1bmN0aW9uIGNvbnRhaW5lckNTUyhfcmVmKSB7XG4gIHZhciBpc0Z1bGxzY3JlZW4gPSBfcmVmLmlzRnVsbHNjcmVlbjtcbiAgcmV0dXJuIHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IGlzRnVsbHNjcmVlbiA/ICdibGFjaycgOiBudWxsLFxuICAgIGRpc3BsYXk6ICdmbGV4ICcsXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgaGVpZ2h0OiAnMTAwJSdcbiAgfTtcbn07XG5cbnZhciBDb250YWluZXIgPSBmdW5jdGlvbiBDb250YWluZXIocHJvcHMpIHtcbiAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBnZXRTdHlsZXMgPSBwcm9wcy5nZXRTdHlsZXMsXG4gICAgICBpc0Z1bGxzY3JlZW4gPSBwcm9wcy5pc0Z1bGxzY3JlZW4sXG4gICAgICBpc01vZGFsID0gcHJvcHMuaXNNb2RhbCxcbiAgICAgIGlubmVyUHJvcHMgPSBwcm9wcy5pbm5lclByb3BzO1xuXG4gIHJldHVybiBnbGFtKFxuICAgIERpdixcbiAgICBfZXh0ZW5kcyh7XG4gICAgICBjc3M6IGdldFN0eWxlcygnY29udGFpbmVyJywgcHJvcHMpLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUoJ2NvbnRhaW5lcicsIHsgaXNGdWxsc2NyZWVuOiBpc0Z1bGxzY3JlZW4sIGlzTW9kYWw6IGlzTW9kYWwgfSlcbiAgICB9LCBpbm5lclByb3BzKSxcbiAgICBjaGlsZHJlblxuICApO1xufTtcblxudmFyIHNtYWxsRGV2aWNlID0gJ0BtZWRpYSAobWF4LXdpZHRoOiA3NjlweCknO1xuXG4vKipcclxuICogVXNlZCB0byBnZXQgdGhlIEhUTUwgY2xhc3MgdG8gc2VsZWN0IHNwZWNpZmljIGNvbXBvbmVudHMuXHJcbiAqIFdlIGNhbGwgYGNsYXNzTmFtZSgpYCBpbiB1dGlscyB3aXRoIGVhY2ggb2YgdGhlc2UgdG8gZ2V0IHRoZSBmdWxsIGNsYXNzTmFtZSxcclxuICogd2l0aCBwcmVmaXhlcy5cclxuICovXG52YXIgY29tcG9uZW50QmFzZUNsYXNzTmFtZXMgPSB7XG4gIEhlYWRlcjogJ2hlYWRlcicsXG4gIEZvb3RlcjogJ2Zvb3RlcicsXG4gIFZpZXc6ICd2aWV3JyxcbiAgVHJhY2s6ICd0cmFjaycsXG4gIFBvc2l0aW9uZXI6ICdwb3NpdGlvbmVyJ1xufTtcblxudmFyIGZvb3RlckNTUyA9IGZ1bmN0aW9uIGZvb3RlckNTUyhfcmVmKSB7XG4gIHZhciBpc01vZGFsID0gX3JlZi5pc01vZGFsLFxuICAgICAgaW50ZXJhY3Rpb25Jc0lkbGUgPSBfcmVmLmludGVyYWN0aW9uSXNJZGxlO1xuICByZXR1cm4gZGVmaW5lUHJvcGVydHkoe1xuICAgIGFsaWduSXRlbXM6ICd0b3AnLFxuICAgIGJvdHRvbTogaXNNb2RhbCA/IDAgOiBudWxsLFxuICAgIGNvbG9yOiBpc01vZGFsID8gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC45KScgOiAnIzY2NicsXG4gICAgZGlzcGxheTogJ2ZsZXggJyxcbiAgICBmbGV4OiAnMCAwIGF1dG8nLFxuICAgIGZvbnRTaXplOiAxMyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgIGxlZnQ6IGlzTW9kYWwgPyAwIDogbnVsbCxcbiAgICBvcGFjaXR5OiBpbnRlcmFjdGlvbklzSWRsZSAmJiBpc01vZGFsID8gMCA6IDEsXG4gICAgcGFkZGluZzogaXNNb2RhbCA/ICczMHB4IDIwcHggMjBweCcgOiAnMTBweCAwJyxcbiAgICBwb3NpdGlvbjogaXNNb2RhbCA/ICdhYnNvbHV0ZScgOiBudWxsLFxuICAgIHJpZ2h0OiBpc01vZGFsID8gMCA6IG51bGwsXG4gICAgdHJhbnNmb3JtOiBpc01vZGFsID8gJ3RyYW5zbGF0ZVkoJyArIChpbnRlcmFjdGlvbklzSWRsZSA/IDEwIDogMCkgKyAncHgpJyA6IG51bGwsXG4gICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgMzAwbXMsIHRyYW5zZm9ybSAzMDBtcycsXG4gICAgekluZGV4OiBpc01vZGFsID8gMSA6IG51bGwsXG5cbiAgICAnJiAqOmZvY3VzJzoge1xuICAgICAgb3V0bGluZTogJzEuNXB4IHNvbGlkIG9yYW5nZSdcbiAgICB9XG5cbiAgfSwgc21hbGxEZXZpY2UsIHtcbiAgICBwYWRkaW5nOiBpc01vZGFsID8gJzIwcHggMTVweCAxNXB4JyA6ICc1cHggMCdcbiAgfSk7XG59O1xuXG52YXIgZm9vdGVyQmFzZUNsYXNzTmFtZSA9IGNvbXBvbmVudEJhc2VDbGFzc05hbWVzLkZvb3RlcjtcblxudmFyIEZvb3RlciA9IGZ1bmN0aW9uIEZvb3Rlcihwcm9wcykge1xuICB2YXIgY29tcG9uZW50cyA9IHByb3BzLmNvbXBvbmVudHMsXG4gICAgICBnZXRTdHlsZXMgPSBwcm9wcy5nZXRTdHlsZXMsXG4gICAgICBpbm5lclByb3BzID0gcHJvcHMuaW5uZXJQcm9wcyxcbiAgICAgIGlzRnVsbHNjcmVlbiA9IHByb3BzLmlzRnVsbHNjcmVlbixcbiAgICAgIGlzTW9kYWwgPSBwcm9wcy5pc01vZGFsO1xuXG5cbiAgdmFyIHN0eWxlID0gaXNNb2RhbCA/IHsgYmFja2dyb3VuZDogJ2xpbmVhci1ncmFkaWVudChyZ2JhKDAsMCwwLDApLCByZ2JhKDAsMCwwLDAuMzMpKScgfSA6IG51bGw7XG5cbiAgdmFyIHN0YXRlID0geyBpc0Z1bGxzY3JlZW46IGlzRnVsbHNjcmVlbiwgaXNNb2RhbDogaXNNb2RhbCB9O1xuICB2YXIgY24gPSB7XG4gICAgY29udGFpbmVyOiBjbGFzc05hbWUoZm9vdGVyQmFzZUNsYXNzTmFtZSwgc3RhdGUpLFxuICAgIGNhcHRpb246IGNsYXNzTmFtZSgnZm9vdGVyX19jYXB0aW9uJywgc3RhdGUpLFxuICAgIGNvdW50OiBjbGFzc05hbWUoJ2Zvb3Rlcl9fY291bnQnLCBzdGF0ZSlcbiAgfTtcbiAgdmFyIGNzcyA9IHtcbiAgICBjb250YWluZXI6IGdldFN0eWxlcyhmb290ZXJCYXNlQ2xhc3NOYW1lLCBwcm9wcyksXG4gICAgY2FwdGlvbjogZ2V0U3R5bGVzKCdmb290ZXJDYXB0aW9uJywgcHJvcHMpLFxuICAgIGNvdW50OiBnZXRTdHlsZXMoJ2Zvb3RlckNvdW50JywgcHJvcHMpXG4gIH07XG4gIHZhciBDYXB0aW9uID0gY29tcG9uZW50cy5DYXB0aW9uLFxuICAgICAgQ291bnQgPSBjb21wb25lbnRzLkNvdW50O1xuXG5cbiAgcmV0dXJuIGdsYW0oXG4gICAgRGl2LFxuICAgIF9leHRlbmRzKHtcbiAgICAgIGNzczogY3NzLmNvbnRhaW5lcixcbiAgICAgIGNsYXNzTmFtZTogY24uY29udGFpbmVyXG4gICAgICAvLyBUT0RPIGdsYW0gcHJlZml4ZXIgZmFpbHMgb24gZ3JhZGllbnRzXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdGhyZWVwb2ludG9uZS9nbGFtL2lzc3Vlcy8zNVxuICAgICAgLCBzdHlsZTogc3R5bGVcbiAgICB9LCBpbm5lclByb3BzKSxcbiAgICBnbGFtKENhcHRpb24sIHByb3BzKSxcbiAgICBnbGFtKENvdW50LCBwcm9wcylcbiAgKTtcbn07XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSW5uZXIgRWxlbWVudHNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG52YXIgZm9vdGVyQ2FwdGlvbkNTUyA9IGZ1bmN0aW9uIGZvb3RlckNhcHRpb25DU1MoKSB7XG4gIHJldHVybiB7fTtcbn07XG5cbnZhciBGb290ZXJDYXB0aW9uID0gZnVuY3Rpb24gRm9vdGVyQ2FwdGlvbihwcm9wcykge1xuICB2YXIgY3VycmVudFZpZXcgPSBwcm9wcy5jdXJyZW50VmlldyxcbiAgICAgIGdldFN0eWxlcyA9IHByb3BzLmdldFN0eWxlcyxcbiAgICAgIGlzRnVsbHNjcmVlbiA9IHByb3BzLmlzRnVsbHNjcmVlbixcbiAgICAgIGlzTW9kYWwgPSBwcm9wcy5pc01vZGFsO1xuICB2YXIgY2FwdGlvbiA9IGN1cnJlbnRWaWV3LmNhcHRpb247XG5cbiAgdmFyIHN0YXRlID0geyBpc0Z1bGxzY3JlZW46IGlzRnVsbHNjcmVlbiwgaXNNb2RhbDogaXNNb2RhbCB9O1xuXG4gIHJldHVybiBnbGFtKFxuICAgIFNwYW4sXG4gICAge1xuICAgICAgY3NzOiBnZXRTdHlsZXMoJ2Zvb3RlckNhcHRpb24nLCBwcm9wcyksXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSgnZm9vdGVyX19jYXB0aW9uJywgc3RhdGUpXG4gICAgfSxcbiAgICB0eXBlb2YgY2FwdGlvbiA9PT0gJ3N0cmluZycgPyBQYXJzZUh0bWwoJzxzcGFuPicgKyBjYXB0aW9uICsgJzwvc3Bhbj4nKSA6IGNhcHRpb25cbiAgKTtcbn07XG5cbnZhciBmb290ZXJDb3VudENTUyA9IGZ1bmN0aW9uIGZvb3RlckNvdW50Q1NTKCkge1xuICByZXR1cm4geyBmbGV4U2hyaW5rOiAwLCBtYXJnaW5MZWZ0OiAnMWVtJyB9O1xufTtcblxudmFyIEZvb3RlckNvdW50ID0gZnVuY3Rpb24gRm9vdGVyQ291bnQocHJvcHMpIHtcbiAgdmFyIGN1cnJlbnRJbmRleCA9IHByb3BzLmN1cnJlbnRJbmRleCxcbiAgICAgIGdldFN0eWxlcyA9IHByb3BzLmdldFN0eWxlcyxcbiAgICAgIGlzRnVsbHNjcmVlbiA9IHByb3BzLmlzRnVsbHNjcmVlbixcbiAgICAgIGlzTW9kYWwgPSBwcm9wcy5pc01vZGFsLFxuICAgICAgdmlld3MgPSBwcm9wcy52aWV3cztcblxuICB2YXIgc3RhdGUgPSB7IGlzRnVsbHNjcmVlbjogaXNGdWxsc2NyZWVuLCBpc01vZGFsOiBpc01vZGFsIH07XG4gIHZhciBhY3RpdmVWaWV3ID0gY3VycmVudEluZGV4ICsgMTtcbiAgdmFyIHRvdGFsVmlld3MgPSB2aWV3cy5sZW5ndGg7XG5cbiAgaWYgKCFhY3RpdmVWaWV3IHx8ICF0b3RhbFZpZXdzKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gZ2xhbShcbiAgICBTcGFuLFxuICAgIHtcbiAgICAgIGNzczogZ2V0U3R5bGVzKCdmb290ZXJDb3VudCcsIHByb3BzKSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lKCdmb290ZXJfX2NvdW50Jywgc3RhdGUpXG4gICAgfSxcbiAgICBhY3RpdmVWaWV3LFxuICAgICcgb2YgJyxcbiAgICB0b3RhbFZpZXdzXG4gICk7XG59O1xuXG52YXIgU3ZnID0gZnVuY3Rpb24gU3ZnKF9yZWYpIHtcbiAgdmFyIHNpemUgPSBfcmVmLnNpemUsXG4gICAgICBwcm9wcyA9IG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFsnc2l6ZSddKTtcbiAgcmV0dXJuIGdsYW0oJ3N2ZycsIF9leHRlbmRzKHtcbiAgICByb2xlOiAncHJlc2VudGF0aW9uJyxcbiAgICB2aWV3Qm94OiAnMCAwIDI0IDI0JyxcbiAgICBjc3M6IHtcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgZmlsbDogJ2N1cnJlbnRDb2xvcicsXG4gICAgICBoZWlnaHQ6IHNpemUsXG4gICAgICBzdHJva2U6ICdjdXJyZW50Q29sb3InLFxuICAgICAgc3Ryb2tlV2lkdGg6IDAsXG4gICAgICB3aWR0aDogc2l6ZVxuICAgIH1cbiAgfSwgcHJvcHMpKTtcbn07XG5cbnZhciBDaGV2cm9uTGVmdCA9IGZ1bmN0aW9uIENoZXZyb25MZWZ0KF9yZWYyKSB7XG4gIHZhciBfcmVmMiRzaXplID0gX3JlZjIuc2l6ZSxcbiAgICAgIHNpemUgPSBfcmVmMiRzaXplID09PSB1bmRlZmluZWQgPyAzMiA6IF9yZWYyJHNpemUsXG4gICAgICBwcm9wcyA9IG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYyLCBbJ3NpemUnXSk7XG4gIHJldHVybiBnbGFtKFxuICAgIFN2ZyxcbiAgICBfZXh0ZW5kcyh7IHNpemU6IHNpemUgfSwgcHJvcHMpLFxuICAgIGdsYW0oJ3BhdGgnLCB7IGQ6ICdNMTUuNDIyIDE2LjA3OGwtMS40MDYgMS40MDYtNi02IDYtNiAxLjQwNiAxLjQwNi00LjU5NCA0LjU5NHonIH0pXG4gICk7XG59O1xudmFyIENoZXZyb25SaWdodCA9IGZ1bmN0aW9uIENoZXZyb25SaWdodChfcmVmMykge1xuICB2YXIgX3JlZjMkc2l6ZSA9IF9yZWYzLnNpemUsXG4gICAgICBzaXplID0gX3JlZjMkc2l6ZSA9PT0gdW5kZWZpbmVkID8gMzIgOiBfcmVmMyRzaXplLFxuICAgICAgcHJvcHMgPSBvYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmMywgWydzaXplJ10pO1xuICByZXR1cm4gZ2xhbShcbiAgICBTdmcsXG4gICAgX2V4dGVuZHMoeyBzaXplOiBzaXplIH0sIHByb3BzKSxcbiAgICBnbGFtKCdwYXRoJywgeyBkOiAnTTkuOTg0IDZsNiA2LTYgNi0xLjQwNi0xLjQwNiA0LjU5NC00LjU5NC00LjU5NC00LjU5NHonIH0pXG4gICk7XG59O1xudmFyIENsb3NlID0gZnVuY3Rpb24gQ2xvc2UoX3JlZjQpIHtcbiAgdmFyIF9yZWY0JHNpemUgPSBfcmVmNC5zaXplLFxuICAgICAgc2l6ZSA9IF9yZWY0JHNpemUgPT09IHVuZGVmaW5lZCA/IDMyIDogX3JlZjQkc2l6ZSxcbiAgICAgIHByb3BzID0gb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZjQsIFsnc2l6ZSddKTtcbiAgcmV0dXJuIGdsYW0oXG4gICAgU3ZnLFxuICAgIF9leHRlbmRzKHsgc2l6ZTogc2l6ZSB9LCBwcm9wcyksXG4gICAgZ2xhbSgncGF0aCcsIHsgZDogJ00xOC45ODQgNi40MjJsLTUuNTc4IDUuNTc4IDUuNTc4IDUuNTc4LTEuNDA2IDEuNDA2LTUuNTc4LTUuNTc4LTUuNTc4IDUuNTc4LTEuNDA2LTEuNDA2IDUuNTc4LTUuNTc4LTUuNTc4LTUuNTc4IDEuNDA2LTEuNDA2IDUuNTc4IDUuNTc4IDUuNTc4LTUuNTc4eicgfSlcbiAgKTtcbn07XG52YXIgRnVsbHNjcmVlbkVudGVyID0gZnVuY3Rpb24gRnVsbHNjcmVlbkVudGVyKF9yZWY1KSB7XG4gIHZhciBfcmVmNSRzaXplID0gX3JlZjUuc2l6ZSxcbiAgICAgIHNpemUgPSBfcmVmNSRzaXplID09PSB1bmRlZmluZWQgPyAzMiA6IF9yZWY1JHNpemUsXG4gICAgICBwcm9wcyA9IG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWY1LCBbJ3NpemUnXSk7XG4gIHJldHVybiBnbGFtKFxuICAgIFN2ZyxcbiAgICBfZXh0ZW5kcyh7IHNpemU6IHNpemUgfSwgcHJvcHMpLFxuICAgIGdsYW0oJ3BhdGgnLCB7IGQ6ICdNMTQuMDE2IDUuMDE2aDQuOTY5djQuOTY5aC0xLjk2OXYtM2gtM3YtMS45Njl6TTE3LjAxNiAxNy4wMTZ2LTNoMS45Njl2NC45NjloLTQuOTY5di0xLjk2OWgzek01LjAxNiA5Ljk4NHYtNC45NjloNC45Njl2MS45NjloLTN2M2gtMS45Njl6TTYuOTg0IDE0LjAxNnYzaDN2MS45NjloLTQuOTY5di00Ljk2OWgxLjk2OXonIH0pXG4gICk7XG59O1xudmFyIEZ1bGxzY3JlZW5FeGl0ID0gZnVuY3Rpb24gRnVsbHNjcmVlbkV4aXQoX3JlZjYpIHtcbiAgdmFyIF9yZWY2JHNpemUgPSBfcmVmNi5zaXplLFxuICAgICAgc2l6ZSA9IF9yZWY2JHNpemUgPT09IHVuZGVmaW5lZCA/IDMyIDogX3JlZjYkc2l6ZSxcbiAgICAgIHByb3BzID0gb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZjYsIFsnc2l6ZSddKTtcbiAgcmV0dXJuIGdsYW0oXG4gICAgU3ZnLFxuICAgIF9leHRlbmRzKHsgc2l6ZTogc2l6ZSB9LCBwcm9wcyksXG4gICAgZ2xhbSgncGF0aCcsIHsgZDogJ00xNS45ODQgOC4wMTZoM3YxLjk2OWgtNC45Njl2LTQuOTY5aDEuOTY5djN6TTE0LjAxNiAxOC45ODR2LTQuOTY5aDQuOTY5djEuOTY5aC0zdjNoLTEuOTY5ek04LjAxNiA4LjAxNnYtM2gxLjk2OXY0Ljk2OWgtNC45Njl2LTEuOTY5aDN6TTUuMDE2IDE1Ljk4NHYtMS45NjloNC45Njl2NC45NjloLTEuOTY5di0zaC0zeicgfSlcbiAgKTtcbn07XG5cbnZhciBoZWFkZXJDU1MgPSBmdW5jdGlvbiBoZWFkZXJDU1MoX3JlZikge1xuICB2YXIgaW50ZXJhY3Rpb25Jc0lkbGUgPSBfcmVmLmludGVyYWN0aW9uSXNJZGxlO1xuICByZXR1cm4ge1xuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIGRpc3BsYXk6ICdmbGV4ICcsXG4gICAgZmxleDogJzAgMCBhdXRvJyxcbiAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgIG9wYWNpdHk6IGludGVyYWN0aW9uSXNJZGxlID8gMCA6IDEsXG4gICAgcGFkZGluZzogMTAsXG4gICAgcGFkZGluZ0JvdHRvbTogMjAsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgnICsgKGludGVyYWN0aW9uSXNJZGxlID8gLTEwIDogMCkgKyAncHgpJyxcbiAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAzMDBtcywgdHJhbnNmb3JtIDMwMG1zJyxcbiAgICB0b3A6IDAsXG4gICAgbGVmdDogMCxcbiAgICByaWdodDogMCxcbiAgICB6SW5kZXg6IDEsXG4gICAgJyYgKjpmb2N1cyc6IHtcbiAgICAgIG91dGxpbmU6ICcxLjVweCBzb2xpZCBvcmFuZ2UnXG4gICAgfVxuICB9O1xufTtcblxudmFyIGhlYWRlckJhc2VDbGFzc05hbWUgPSBjb21wb25lbnRCYXNlQ2xhc3NOYW1lcy5IZWFkZXI7XG5cbnZhciBIZWFkZXIgPSBmdW5jdGlvbiBIZWFkZXIocHJvcHMpIHtcbiAgdmFyIGNvbXBvbmVudHMgPSBwcm9wcy5jb21wb25lbnRzLFxuICAgICAgZ2V0U3R5bGVzID0gcHJvcHMuZ2V0U3R5bGVzLFxuICAgICAgZ2V0Q2xvc2VMYWJlbCA9IHByb3BzLmdldENsb3NlTGFiZWwsXG4gICAgICBnZXRGdWxsc2NyZWVuTGFiZWwgPSBwcm9wcy5nZXRGdWxsc2NyZWVuTGFiZWwsXG4gICAgICBpbm5lclByb3BzID0gcHJvcHMuaW5uZXJQcm9wcyxcbiAgICAgIGlzTW9kYWwgPSBwcm9wcy5pc01vZGFsLFxuICAgICAgbW9kYWxQcm9wcyA9IHByb3BzLm1vZGFsUHJvcHM7XG5cblxuICBpZiAoIWlzTW9kYWwpIHJldHVybiBudWxsO1xuXG4gIHZhciBhbGxvd0Z1bGxzY3JlZW4gPSBtb2RhbFByb3BzLmFsbG93RnVsbHNjcmVlbixcbiAgICAgIGlzRnVsbHNjcmVlbiA9IG1vZGFsUHJvcHMuaXNGdWxsc2NyZWVuLFxuICAgICAgb25DbG9zZSA9IG1vZGFsUHJvcHMub25DbG9zZSxcbiAgICAgIHRvZ2dsZUZ1bGxzY3JlZW4gPSBtb2RhbFByb3BzLnRvZ2dsZUZ1bGxzY3JlZW47XG5cbiAgdmFyIEZzSWNvbiA9IGlzRnVsbHNjcmVlbiA/IEZ1bGxzY3JlZW5FeGl0IDogRnVsbHNjcmVlbkVudGVyO1xuICB2YXIgQ2xvc2VCdXR0b24gPSBjb21wb25lbnRzLkNsb3NlQnV0dG9uLFxuICAgICAgRnVsbHNjcmVlbkJ1dHRvbiA9IGNvbXBvbmVudHMuRnVsbHNjcmVlbkJ1dHRvbjtcblxuICB2YXIgc3RhdGUgPSB7IGlzRnVsbHNjcmVlbjogaXNGdWxsc2NyZWVuLCBpc01vZGFsOiBpc01vZGFsIH07XG5cbiAgcmV0dXJuIGdsYW0oXG4gICAgRGl2LFxuICAgIF9leHRlbmRzKHtcbiAgICAgIGNzczogZ2V0U3R5bGVzKGhlYWRlckJhc2VDbGFzc05hbWUsIHByb3BzKSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lKGhlYWRlckJhc2VDbGFzc05hbWUsIHN0YXRlKVxuICAgICAgLy8gVE9ETyBnbGFtIHByZWZpeGVyIGZhaWxzIG9uIGdyYWRpZW50c1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3RocmVlcG9pbnRvbmUvZ2xhbS9pc3N1ZXMvMzVcbiAgICAgICwgc3R5bGU6IHtcbiAgICAgICAgYmFja2dyb3VuZDogJ2xpbmVhci1ncmFkaWVudChyZ2JhKDAsMCwwLDAuMzMpLCByZ2JhKDAsMCwwLDApKSdcbiAgICAgIH1cbiAgICB9LCBpbm5lclByb3BzKSxcbiAgICBnbGFtKCdzcGFuJywgbnVsbCksXG4gICAgZ2xhbShcbiAgICAgICdzcGFuJyxcbiAgICAgIG51bGwsXG4gICAgICBhbGxvd0Z1bGxzY3JlZW4gPyBnbGFtKFxuICAgICAgICBGdWxsc2NyZWVuQnV0dG9uLFxuICAgICAgICB7XG4gICAgICAgICAgZ2V0U3R5bGVzOiBnZXRTdHlsZXMsXG4gICAgICAgICAgaW5uZXJQcm9wczoge1xuICAgICAgICAgICAgb25DbGljazogdG9nZ2xlRnVsbHNjcmVlbixcbiAgICAgICAgICAgIHRpdGxlOiBnZXRGdWxsc2NyZWVuTGFiZWwoc3RhdGUpXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnbGFtKEZzSWNvbiwgeyBzaXplOiAzMiB9KVxuICAgICAgKSA6IG51bGwsXG4gICAgICBnbGFtKFxuICAgICAgICBDbG9zZUJ1dHRvbixcbiAgICAgICAge1xuICAgICAgICAgIGdldFN0eWxlczogZ2V0U3R5bGVzLFxuICAgICAgICAgIGlubmVyUHJvcHM6IHtcbiAgICAgICAgICAgIG9uQ2xpY2s6IG9uQ2xvc2UsXG4gICAgICAgICAgICB0aXRsZTogZ2V0Q2xvc2VMYWJlbChzdGF0ZSlcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdsYW0oQ2xvc2UsIHsgc2l6ZTogMzIgfSlcbiAgICAgIClcbiAgICApXG4gICk7XG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEhlYWRlciBCdXR0b25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxudmFyIGhlYWRlckJ1dHRvbkNTUyA9IGZ1bmN0aW9uIGhlYWRlckJ1dHRvbkNTUygpIHtcbiAgcmV0dXJuIHtcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBiYWNrZ3JvdW5kOiAwLFxuICAgIGJvcmRlcjogMCxcbiAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC43NSknLFxuICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgIGRpc3BsYXk6ICdpbmxpbmUtZmxleCAnLFxuICAgIGhlaWdodDogNDQsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgIG91dGxpbmU6IDAsXG4gICAgcGFkZGluZzogMCxcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICB3aWR0aDogNDQsXG5cbiAgICAnJjpob3Zlcic6IHtcbiAgICAgIGNvbG9yOiAnd2hpdGUnXG4gICAgfVxuICB9O1xufTtcblxudmFyIGhlYWRlckZ1bGxzY3JlZW5DU1MgPSBoZWFkZXJCdXR0b25DU1M7XG52YXIgSGVhZGVyRnVsbHNjcmVlbiA9IGZ1bmN0aW9uIEhlYWRlckZ1bGxzY3JlZW4ocHJvcHMpIHtcbiAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBnZXRTdHlsZXMgPSBwcm9wcy5nZXRTdHlsZXMsXG4gICAgICBpbm5lclByb3BzID0gcHJvcHMuaW5uZXJQcm9wcztcblxuXG4gIHJldHVybiBnbGFtKFxuICAgIEJ1dHRvbixcbiAgICBfZXh0ZW5kcyh7XG4gICAgICBjc3M6IGdldFN0eWxlcygnaGVhZGVyRnVsbHNjcmVlbicsIHByb3BzKSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lKFsnaGVhZGVyX2J1dHRvbicsICdoZWFkZXJfYnV0dG9uLS1mdWxsc2NyZWVuJ10pLFxuICAgICAgdHlwZTogJ2J1dHRvbidcbiAgICB9LCBpbm5lclByb3BzKSxcbiAgICBjaGlsZHJlblxuICApO1xufTtcblxudmFyIGhlYWRlckNsb3NlQ1NTID0gaGVhZGVyQnV0dG9uQ1NTO1xudmFyIEhlYWRlckNsb3NlID0gZnVuY3Rpb24gSGVhZGVyQ2xvc2UocHJvcHMpIHtcbiAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBnZXRTdHlsZXMgPSBwcm9wcy5nZXRTdHlsZXMsXG4gICAgICBpbm5lclByb3BzID0gcHJvcHMuaW5uZXJQcm9wcztcblxuXG4gIHJldHVybiBnbGFtKFxuICAgIEJ1dHRvbixcbiAgICBfZXh0ZW5kcyh7XG4gICAgICBjc3M6IGdldFN0eWxlcygnaGVhZGVyQ2xvc2UnLCBwcm9wcyksXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZShbJ2hlYWRlcl9idXR0b24nLCAnaGVhZGVyX2J1dHRvbi0tY2xvc2UnXSksXG4gICAgICB0eXBlOiAnYnV0dG9uJ1xuICAgIH0sIGlubmVyUHJvcHMpLFxuICAgIGNoaWxkcmVuXG4gICk7XG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE5hdmlnYXRpb25cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG52YXIgbmF2aWdhdGlvbkNTUyA9IGZ1bmN0aW9uIG5hdmlnYXRpb25DU1MoX3JlZikge1xuICB2YXIgaW50ZXJhY3Rpb25Jc0lkbGUgPSBfcmVmLmludGVyYWN0aW9uSXNJZGxlO1xuICByZXR1cm4ge1xuICAgIGRpc3BsYXk6ICdmbGV4ICcsXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyxcbiAgICBvcGFjaXR5OiBpbnRlcmFjdGlvbklzSWRsZSA/IDAgOiAxLFxuICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDMwMG1zJyxcbiAgICAnJiAqOmZvY3VzJzoge1xuICAgICAgb3V0bGluZTogJzEuNXB4IHNvbGlkIG9yYW5nZSdcbiAgICB9XG4gIH07XG59O1xuXG52YXIgTmF2aWdhdGlvbiA9IGZ1bmN0aW9uIE5hdmlnYXRpb24ocHJvcHMpIHtcbiAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBnZXRTdHlsZXMgPSBwcm9wcy5nZXRTdHlsZXMsXG4gICAgICBpc0Z1bGxzY3JlZW4gPSBwcm9wcy5pc0Z1bGxzY3JlZW4sXG4gICAgICBpc01vZGFsID0gcHJvcHMuaXNNb2RhbCxcbiAgICAgIHNob3dOYXZpZ2F0aW9uT25Ub3VjaERldmljZSA9IHByb3BzLnNob3dOYXZpZ2F0aW9uT25Ub3VjaERldmljZTtcblxuICByZXR1cm4gIWlzVG91Y2goKSB8fCBpc1RvdWNoKCkgJiYgc2hvd05hdmlnYXRpb25PblRvdWNoRGV2aWNlID8gZ2xhbShcbiAgICBOYXYsXG4gICAge1xuICAgICAgY3NzOiBnZXRTdHlsZXMoJ25hdmlnYXRpb24nLCBwcm9wcyksXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSgnbmF2aWdhdGlvbicsIHsgaXNGdWxsc2NyZWVuOiBpc0Z1bGxzY3JlZW4sIGlzTW9kYWw6IGlzTW9kYWwgfSlcbiAgICB9LFxuICAgIGNoaWxkcmVuXG4gICkgOiBudWxsO1xufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBOYXYgSXRlbVxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbnZhciBCVVRUT05fU0laRSA9IDUwO1xuXG52YXIgbmF2aWdhdGlvbkl0ZW1DU1MgPSBmdW5jdGlvbiBuYXZpZ2F0aW9uSXRlbUNTUyhfcmVmMikge1xuICB2YXIgX3JlZjM7XG5cbiAgdmFyIGFsaWduID0gX3JlZjIuYWxpZ247XG4gIHJldHVybiBfcmVmMyA9IHtcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBiYWNrZ3JvdW5kOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyxcbiAgICBib3JkZXI6IDAsXG4gICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICBjb2xvcjogJ3doaXRlJyxcbiAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICBkaXNwbGF5OiAnZmxleCAnLFxuICAgIGZvbnRTaXplOiAnaW5oZXJpdCcsXG4gICAgaGVpZ2h0OiBCVVRUT05fU0laRSxcbiAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgbWFyZ2luVG9wOiAtKEJVVFRPTl9TSVpFIC8gMiksXG4gICAgb3V0bGluZTogMCxcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB0b3A6ICc1MCUnLFxuICAgIHRyYW5zaXRpb246ICdiYWNrZ3JvdW5kLWNvbG9yIDIwMG1zJyxcbiAgICB3aWR0aDogQlVUVE9OX1NJWkVcbiAgfSwgZGVmaW5lUHJvcGVydHkoX3JlZjMsIGFsaWduLCAyMCksIGRlZmluZVByb3BlcnR5KF9yZWYzLCAnJjpob3ZlcicsIHtcbiAgICBiYWNrZ3JvdW5kOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpJ1xuICB9KSwgZGVmaW5lUHJvcGVydHkoX3JlZjMsICcmOmFjdGl2ZScsIHtcbiAgICBiYWNrZ3JvdW5kOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJ1xuICB9KSwgX3JlZjM7XG59O1xuXG52YXIgbmF2aWdhdGlvblByZXZDU1MgPSBuYXZpZ2F0aW9uSXRlbUNTUztcbnZhciBOYXZpZ2F0aW9uUHJldiA9IGZ1bmN0aW9uIE5hdmlnYXRpb25QcmV2KHByb3BzKSB7XG4gIHZhciBfcHJvcHMkY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIGNoaWxkcmVuID0gX3Byb3BzJGNoaWxkcmVuID09PSB1bmRlZmluZWQgPyBnbGFtKENoZXZyb25MZWZ0LCB7IHNpemU6IDQ4IH0pIDogX3Byb3BzJGNoaWxkcmVuLFxuICAgICAgZ2V0U3R5bGVzID0gcHJvcHMuZ2V0U3R5bGVzLFxuICAgICAgaW5uZXJQcm9wcyA9IHByb3BzLmlubmVyUHJvcHM7XG5cblxuICByZXR1cm4gZ2xhbShcbiAgICBCdXR0b24sXG4gICAgX2V4dGVuZHMoe1xuICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICBjc3M6IGdldFN0eWxlcygnbmF2aWdhdGlvblByZXYnLCBwcm9wcylcbiAgICB9LCBpbm5lclByb3BzKSxcbiAgICBjaGlsZHJlblxuICApO1xufTtcblxudmFyIG5hdmlnYXRpb25OZXh0Q1NTID0gbmF2aWdhdGlvbkl0ZW1DU1M7XG52YXIgTmF2aWdhdGlvbk5leHQgPSBmdW5jdGlvbiBOYXZpZ2F0aW9uTmV4dChwcm9wcykge1xuICB2YXIgX3Byb3BzJGNoaWxkcmVuMiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgY2hpbGRyZW4gPSBfcHJvcHMkY2hpbGRyZW4yID09PSB1bmRlZmluZWQgPyBnbGFtKENoZXZyb25SaWdodCwgeyBzaXplOiA0OCB9KSA6IF9wcm9wcyRjaGlsZHJlbjIsXG4gICAgICBnZXRTdHlsZXMgPSBwcm9wcy5nZXRTdHlsZXMsXG4gICAgICBpbm5lclByb3BzID0gcHJvcHMuaW5uZXJQcm9wcztcblxuXG4gIHJldHVybiBnbGFtKFxuICAgIEJ1dHRvbixcbiAgICBfZXh0ZW5kcyh7XG4gICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgIGNzczogZ2V0U3R5bGVzKCduYXZpZ2F0aW9uTmV4dCcsIHByb3BzKVxuICAgIH0sIGlubmVyUHJvcHMpLFxuICAgIGNoaWxkcmVuXG4gICk7XG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEJsYW5rZXRcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG52YXIgYmxhbmtldENTUyA9IGZ1bmN0aW9uIGJsYW5rZXRDU1MoX3JlZikge1xuICB2YXIgaXNGdWxsc2NyZWVuID0gX3JlZi5pc0Z1bGxzY3JlZW47XG4gIHJldHVybiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiBpc0Z1bGxzY3JlZW4gPyAnYmxhY2snIDogJ3JnYmEoMCwgMCwgMCwgMC44KScsXG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgcmlnaHQ6IDAsXG4gICAgdG9wOiAwLFxuICAgIHpJbmRleDogMTE5OVxuICB9O1xufTtcblxudmFyIEJsYW5rZXQgPSBmdW5jdGlvbiBCbGFua2V0KHByb3BzKSB7XG4gIHZhciBnZXRTdHlsZXMgPSBwcm9wcy5nZXRTdHlsZXMsXG4gICAgICBpbm5lclByb3BzID0gcHJvcHMuaW5uZXJQcm9wcyxcbiAgICAgIGlzRnVsbHNjcmVlbiA9IHByb3BzLmlzRnVsbHNjcmVlbjtcblxuICByZXR1cm4gZ2xhbShEaXYsIF9leHRlbmRzKHtcbiAgICBjc3M6IGdldFN0eWxlcygnYmxhbmtldCcsIHByb3BzKSxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSgnYmxhbmtldCcsIHsgaXNGdWxsc2NyZWVuOiBpc0Z1bGxzY3JlZW4gfSlcbiAgfSwgaW5uZXJQcm9wcykpO1xufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQb3NpdGlvbmVyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxudmFyIHBvc2l0aW9uZXJDU1MgPSBmdW5jdGlvbiBwb3NpdGlvbmVyQ1NTKCkge1xuICByZXR1cm4ge1xuICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgIGJvdHRvbTogMCxcbiAgICBkaXNwbGF5OiAnZmxleCAnLFxuICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICBsZWZ0OiAwLFxuICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgIHJpZ2h0OiAwLFxuICAgIHRvcDogMCxcbiAgICB6SW5kZXg6IDEyMDBcbiAgfTtcbn07XG5cbnZhciBQb3NpdGlvbmVyID0gZnVuY3Rpb24gUG9zaXRpb25lcihwcm9wcykge1xuICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIGdldFN0eWxlcyA9IHByb3BzLmdldFN0eWxlcyxcbiAgICAgIGlubmVyUHJvcHMgPSBwcm9wcy5pbm5lclByb3BzLFxuICAgICAgaXNGdWxsc2NyZWVuID0gcHJvcHMuaXNGdWxsc2NyZWVuO1xuXG4gIHJldHVybiBnbGFtKFxuICAgIERpdixcbiAgICBfZXh0ZW5kcyh7XG4gICAgICBjc3M6IGdldFN0eWxlcyhjb21wb25lbnRCYXNlQ2xhc3NOYW1lcy5Qb3NpdGlvbmVyLCBwcm9wcyksXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZShjb21wb25lbnRCYXNlQ2xhc3NOYW1lcy5Qb3NpdGlvbmVyLCB7IGlzRnVsbHNjcmVlbjogaXNGdWxsc2NyZWVuIH0pXG4gICAgfSwgaW5uZXJQcm9wcyksXG4gICAgY2hpbGRyZW5cbiAgKTtcbn07XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gRGlhbG9nXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxudmFyIGRpYWxvZ0NTUyA9IGZ1bmN0aW9uIGRpYWxvZ0NTUygpIHtcbiAgcmV0dXJuIHtcbiAgICB3aWR0aDogJzEwMCUnXG4gIH07XG59O1xuXG52YXIgRGlhbG9nID0gZnVuY3Rpb24gRGlhbG9nKHByb3BzKSB7XG4gIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgZ2V0U3R5bGVzID0gcHJvcHMuZ2V0U3R5bGVzLFxuICAgICAgaW5uZXJQcm9wcyA9IHByb3BzLmlubmVyUHJvcHMsXG4gICAgICBpc0Z1bGxzY3JlZW4gPSBwcm9wcy5pc0Z1bGxzY3JlZW4sXG4gICAgICByZW1vdmVGb2N1c09uID0gcHJvcHMucmVtb3ZlRm9jdXNPbjtcblxuXG4gIHJldHVybiByZW1vdmVGb2N1c09uID8gZ2xhbShcbiAgICBEaXYsXG4gICAgX2V4dGVuZHMoe1xuICAgICAgY3NzOiBnZXRTdHlsZXMoJ2RpYWxvZycsIHByb3BzKSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lKCdkaWFsb2cnLCB7IGlzRnVsbHNjcmVlbjogaXNGdWxsc2NyZWVuIH0pXG4gICAgfSwgaW5uZXJQcm9wcyksXG4gICAgY2hpbGRyZW5cbiAgKSA6IGdsYW0oXG4gICAgRm9jdXNPbixcbiAgICBudWxsLFxuICAgIGdsYW0oXG4gICAgICBEaXYsXG4gICAgICBfZXh0ZW5kcyh7XG4gICAgICAgIGNzczogZ2V0U3R5bGVzKCdkaWFsb2cnLCBwcm9wcyksXG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lKCdkaWFsb2cnLCB7IGlzRnVsbHNjcmVlbjogaXNGdWxsc2NyZWVuIH0pXG4gICAgICB9LCBpbm5lclByb3BzKSxcbiAgICAgIGNoaWxkcmVuXG4gICAgKVxuICApO1xufTtcblxuZnVuY3Rpb24gZ2V0U291cmNlKF9yZWYpIHtcbiAgdmFyIGRhdGEgPSBfcmVmLmRhdGEsXG4gICAgICBpc0Z1bGxzY3JlZW4gPSBfcmVmLmlzRnVsbHNjcmVlbjtcbiAgdmFyIF9kYXRhJHNvdXJjZSA9IGRhdGEuc291cmNlLFxuICAgICAgc291cmNlID0gX2RhdGEkc291cmNlID09PSB1bmRlZmluZWQgPyBkYXRhLnNyYyA6IF9kYXRhJHNvdXJjZTtcblxuICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpIHJldHVybiBzb3VyY2U7XG5cbiAgcmV0dXJuIGlzRnVsbHNjcmVlbiA/IHNvdXJjZS5mdWxsc2NyZWVuIDogc291cmNlLnJlZ3VsYXI7XG59XG5cbnZhciB2aWV3Q1NTID0gZnVuY3Rpb24gdmlld0NTUygpIHtcbiAgcmV0dXJuIHtcbiAgICBsaW5lSGVpZ2h0OiAwLFxuICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgfTtcbn07XG5cbnZhciB2aWV3QmFzZUNsYXNzTmFtZSA9IGNvbXBvbmVudEJhc2VDbGFzc05hbWVzLlZpZXc7XG5cbnZhciBWaWV3ID0gZnVuY3Rpb24gVmlldyhwcm9wcykge1xuICB2YXIgZGF0YSA9IHByb3BzLmRhdGEsXG4gICAgICBmb3JtYXR0ZXJzID0gcHJvcHMuZm9ybWF0dGVycyxcbiAgICAgIGdldFN0eWxlcyA9IHByb3BzLmdldFN0eWxlcyxcbiAgICAgIGluZGV4ID0gcHJvcHMuaW5kZXgsXG4gICAgICBpc0Z1bGxzY3JlZW4gPSBwcm9wcy5pc0Z1bGxzY3JlZW4sXG4gICAgICBpc01vZGFsID0gcHJvcHMuaXNNb2RhbDtcblxuICB2YXIgaW5uZXJQcm9wcyA9IHtcbiAgICBhbHQ6IGZvcm1hdHRlcnMuZ2V0QWx0VGV4dCh7IGRhdGE6IGRhdGEsIGluZGV4OiBpbmRleCB9KSxcbiAgICBzcmM6IGdldFNvdXJjZSh7IGRhdGE6IGRhdGEsIGlzRnVsbHNjcmVlbjogaXNGdWxsc2NyZWVuIH0pXG4gIH07XG5cbiAgcmV0dXJuIGdsYW0oXG4gICAgRGl2LFxuICAgIHtcbiAgICAgIGNzczogZ2V0U3R5bGVzKHZpZXdCYXNlQ2xhc3NOYW1lLCBwcm9wcyksXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSh2aWV3QmFzZUNsYXNzTmFtZSwgeyBpc0Z1bGxzY3JlZW46IGlzRnVsbHNjcmVlbiwgaXNNb2RhbDogaXNNb2RhbCB9KVxuICAgIH0sXG4gICAgZ2xhbShJbWcsIF9leHRlbmRzKHt9LCBpbm5lclByb3BzLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSgndmlldy1pbWFnZScsIHsgaXNGdWxsc2NyZWVuOiBpc0Z1bGxzY3JlZW4sIGlzTW9kYWw6IGlzTW9kYWwgfSksXG4gICAgICBjc3M6IHtcbiAgICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICAgIG1heEhlaWdodDogJzEwMCUnLFxuICAgICAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICAgIG1hcmdpbjogJ2F1dG8nXG4gICAgICB9XG4gICAgfSkpXG4gICk7XG59O1xuXG52YXIgY2Fyb3VzZWxDb21wb25lbnRzID0ge1xuICBDb250YWluZXI6IENvbnRhaW5lcixcbiAgRm9vdGVyOiBGb290ZXIsXG4gIEZvb3RlckNhcHRpb246IEZvb3RlckNhcHRpb24sXG4gIEZvb3RlckNvdW50OiBGb290ZXJDb3VudCxcbiAgSGVhZGVyOiBIZWFkZXIsXG4gIEhlYWRlckNsb3NlOiBIZWFkZXJDbG9zZSxcbiAgSGVhZGVyRnVsbHNjcmVlbjogSGVhZGVyRnVsbHNjcmVlbixcbiAgTmF2aWdhdGlvbjogTmF2aWdhdGlvbixcbiAgTmF2aWdhdGlvblByZXY6IE5hdmlnYXRpb25QcmV2LFxuICBOYXZpZ2F0aW9uTmV4dDogTmF2aWdhdGlvbk5leHQsXG4gIFZpZXc6IFZpZXdcbn07XG5cbnZhciBkZWZhdWx0Q2Fyb3VzZWxDb21wb25lbnRzID0gZnVuY3Rpb24gZGVmYXVsdENhcm91c2VsQ29tcG9uZW50cyhwcm92aWRlZENvbXBvbmVudHMpIHtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBjYXJvdXNlbENvbXBvbmVudHMsIHByb3ZpZGVkQ29tcG9uZW50cyk7XG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE1vZGFsXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxudmFyIG1vZGFsQ29tcG9uZW50cyA9IHtcbiAgQmxhbmtldDogQmxhbmtldCxcbiAgUG9zaXRpb25lcjogUG9zaXRpb25lcixcbiAgRGlhbG9nOiBEaWFsb2dcbn07XG5cbnZhciBkZWZhdWx0TW9kYWxDb21wb25lbnRzID0gZnVuY3Rpb24gZGVmYXVsdE1vZGFsQ29tcG9uZW50cyhwcm92aWRlZENvbXBvbmVudHMpIHtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBtb2RhbENvbXBvbmVudHMsIHByb3ZpZGVkQ29tcG9uZW50cyk7XG59O1xuXG52YXIgZGVmYXVsdENhcm91c2VsU3R5bGVzID0ge1xuICBjb250YWluZXI6IGNvbnRhaW5lckNTUyxcbiAgZm9vdGVyOiBmb290ZXJDU1MsXG4gIGZvb3RlckNhcHRpb246IGZvb3RlckNhcHRpb25DU1MsXG4gIGZvb3RlckNvdW50OiBmb290ZXJDb3VudENTUyxcbiAgaGVhZGVyOiBoZWFkZXJDU1MsXG4gIGhlYWRlckNsb3NlOiBoZWFkZXJDbG9zZUNTUyxcbiAgaGVhZGVyRnVsbHNjcmVlbjogaGVhZGVyRnVsbHNjcmVlbkNTUyxcbiAgbmF2aWdhdGlvbjogbmF2aWdhdGlvbkNTUyxcbiAgbmF2aWdhdGlvblByZXY6IG5hdmlnYXRpb25QcmV2Q1NTLFxuICBuYXZpZ2F0aW9uTmV4dDogbmF2aWdhdGlvbk5leHRDU1MsXG4gIHZpZXc6IHZpZXdDU1Ncbn07XG52YXIgZGVmYXVsdE1vZGFsU3R5bGVzID0ge1xuICBibGFua2V0OiBibGFua2V0Q1NTLFxuICBkaWFsb2c6IGRpYWxvZ0NTUyxcbiAgcG9zaXRpb25lcjogcG9zaXRpb25lckNTU1xufTtcblxudmFyIGVhc2luZyA9ICdjdWJpYy1iZXppZXIoMC4yMywgMSwgMC4zMiwgMSknOyAvLyBlYXNlT3V0UXVpbnRcbnZhciB2ZXJ0aWNhbE9mZnNldCA9IDQwO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEZhZGVcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG52YXIgRmFkZSA9IGZ1bmN0aW9uIEZhZGUoX3JlZikge1xuICB2YXIgVGFnID0gX3JlZi5jb21wb25lbnQsXG4gICAgICBvbkVudGVyZWQgPSBfcmVmLm9uRW50ZXJlZCxcbiAgICAgIG9uRXhpdGVkID0gX3JlZi5vbkV4aXRlZCxcbiAgICAgIGluUHJvcCA9IF9yZWYuaW4sXG4gICAgICBvcmlnaW5hbFByb3BzID0gX3JlZi5pbm5lclByb3BzLFxuICAgICAgcHJvcHMgPSBvYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbJ2NvbXBvbmVudCcsICdvbkVudGVyZWQnLCAnb25FeGl0ZWQnLCAnaW4nLCAnaW5uZXJQcm9wcyddKTtcblxuICB2YXIgZW50ZXIgPSAzMDA7XG4gIHZhciBleGl0ID0gNTAwO1xuICB2YXIgZmFkZVN0eWxlID0ge1xuICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDIwMG1zJyxcbiAgICBvcGFjaXR5OiAwXG4gIH07XG4gIHZhciBmYWRlVHJhbnNpdGlvbiA9IHtcbiAgICBlbnRlcmluZzogeyBvcGFjaXR5OiAwIH0sXG4gICAgZW50ZXJlZDogeyBvcGFjaXR5OiAxIH0sXG4gICAgZXhpdGluZzogeyBvcGFjaXR5OiAwLCB0cmFuc2l0aW9uRHVyYXRpb246IGV4aXQgKyAnbXMnIH1cbiAgfTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICBUcmFuc2l0aW9uLFxuICAgIHtcbiAgICAgIGFwcGVhcjogdHJ1ZSxcbiAgICAgIG1vdW50T25FbnRlcjogdHJ1ZSxcbiAgICAgIHVubW91bnRPbkV4aXQ6IHRydWUsXG4gICAgICBvbkVudGVyZWQ6IG9uRW50ZXJlZCxcbiAgICAgIG9uRXhpdGVkOiBvbkV4aXRlZCxcbiAgICAgIGtleTogJ2ZhZGUnLFxuICAgICAgJ2luJzogaW5Qcm9wLFxuICAgICAgdGltZW91dDogeyBlbnRlcjogZW50ZXIsIGV4aXQ6IGV4aXQgfVxuICAgIH0sXG4gICAgZnVuY3Rpb24gKHN0YXR1cykge1xuICAgICAgdmFyIGlubmVyUHJvcHMgPSBfZXh0ZW5kcyh7fSwgb3JpZ2luYWxQcm9wcywge1xuICAgICAgICBzdHlsZTogX2V4dGVuZHMoe30sIGZhZGVTdHlsZSwgZmFkZVRyYW5zaXRpb25bc3RhdHVzXSlcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoc3RhdHVzID09PSAnZXhpdGVkJykgcmV0dXJuIG51bGw7XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFRhZywgX2V4dGVuZHMoeyBpbm5lclByb3BzOiBpbm5lclByb3BzIH0sIHByb3BzKSk7XG4gICAgfVxuICApO1xufTtcbnZhciBTbGlkZVVwID0gZnVuY3Rpb24gU2xpZGVVcChfcmVmMikge1xuICB2YXIgVGFnID0gX3JlZjIuY29tcG9uZW50LFxuICAgICAgb25FbnRlcmVkID0gX3JlZjIub25FbnRlcmVkLFxuICAgICAgb25FeGl0ZWQgPSBfcmVmMi5vbkV4aXRlZCxcbiAgICAgIGluUHJvcCA9IF9yZWYyLmluLFxuICAgICAgb3JpZ2luYWxQcm9wcyA9IF9yZWYyLmlubmVyUHJvcHMsXG4gICAgICBwcm9wcyA9IG9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYyLCBbJ2NvbXBvbmVudCcsICdvbkVudGVyZWQnLCAnb25FeGl0ZWQnLCAnaW4nLCAnaW5uZXJQcm9wcyddKTtcblxuICB2YXIgZW50ZXIgPSAzMDA7XG4gIHZhciBleGl0ID0gNTAwO1xuICB2YXIgcmVzdGluZ1RyYW5zZm9ybSA9ICd0cmFuc2xhdGUzZCgwLCAwLCAwKSc7XG4gIHZhciBzbGlkZVN0eWxlID0ge1xuICAgIHRyYW5zaXRpb246ICd0cmFuc2Zvcm0gJyArIGVudGVyICsgJ21zICcgKyBlYXNpbmcgKyAnLCBvcGFjaXR5ICcgKyBlbnRlciArICdtcyAnICsgZWFzaW5nLFxuICAgIHRyYW5zZm9ybTogcmVzdGluZ1RyYW5zZm9ybVxuICB9O1xuICB2YXIgc2xpZGVUcmFuc2l0aW9uID0ge1xuICAgIGVudGVyaW5nOiB7XG4gICAgICBvcGFjaXR5OiAwLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoMCwgJyArIHZlcnRpY2FsT2Zmc2V0ICsgJ3B4LCAwKSBzY2FsZSgwLjkpJ1xuICAgIH0sXG4gICAgZW50ZXJlZDoge1xuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIHRyYW5zZm9ybTogcmVzdGluZ1RyYW5zZm9ybVxuICAgIH0sXG4gICAgZXhpdGluZzoge1xuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKDAsICcgKyB2ZXJ0aWNhbE9mZnNldCArICdweCwgMCkgc2NhbGUoMC45KScsXG4gICAgICB0cmFuc2l0aW9uOiAndHJhbnNmb3JtICcgKyBleGl0ICsgJ21zICcgKyBlYXNpbmcgKyAnLCBvcGFjaXR5ICcgKyBleGl0ICsgJ21zICcgKyBlYXNpbmdcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgVHJhbnNpdGlvbixcbiAgICB7XG4gICAgICBhcHBlYXI6IHRydWUsXG4gICAgICAnaW4nOiBpblByb3AsXG4gICAgICBtb3VudE9uRW50ZXI6IHRydWUsXG4gICAgICBvbkVudGVyZWQ6IG9uRW50ZXJlZCxcbiAgICAgIG9uRXhpdGVkOiBvbkV4aXRlZCxcbiAgICAgIHRpbWVvdXQ6IHsgZW50ZXI6IGVudGVyLCBleGl0OiBleGl0IH0sXG4gICAgICB1bm1vdW50T25FeGl0OiB0cnVlXG4gICAgfSxcbiAgICBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICBpZiAoc3RhdHVzID09PSAnZXhpdGVkJykgcmV0dXJuIG51bGw7XG5cbiAgICAgIHZhciBpbm5lclByb3BzID0gX2V4dGVuZHMoe30sIG9yaWdpbmFsUHJvcHMsIHtcbiAgICAgICAgc3R5bGU6IF9leHRlbmRzKHt9LCBzbGlkZVN0eWxlLCBzbGlkZVRyYW5zaXRpb25bc3RhdHVzXSlcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUYWcsIF9leHRlbmRzKHsgaW5uZXJQcm9wczogaW5uZXJQcm9wcyB9LCBwcm9wcykpO1xuICAgIH1cbiAgKTtcbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGFsbG93RnVsbHNjcmVlbjogIWlzVG91Y2goKSxcbiAgY2xvc2VPbkJhY2tkcm9wQ2xpY2s6IHRydWUsXG4gIGNsb3NlT25Fc2M6IHRydWUsXG4gIHByZXZlbnRTY3JvbGw6IHRydWUsXG4gIHN0eWxlczoge31cbn07XG5cbi8qKiBDbGFzc2VzIHRoYXQgd2hlbiBjbGlja2VkIG9uLCBjbG9zZSB0aGUgYmFja2Ryb3AgKi9cbnZhciBiYWNrZHJvcENsYXNzTmFtZXMgPSBuZXcgU2V0KFtjb21wb25lbnRCYXNlQ2xhc3NOYW1lcy5WaWV3LCBjb21wb25lbnRCYXNlQ2xhc3NOYW1lcy5IZWFkZXIsIGNvbXBvbmVudEJhc2VDbGFzc05hbWVzLkZvb3RlciwgY29tcG9uZW50QmFzZUNsYXNzTmFtZXMuVHJhY2ssIGNvbXBvbmVudEJhc2VDbGFzc05hbWVzLlBvc2l0aW9uZXJdLm1hcChjbGFzc05hbWUpKTtcblxudmFyIE1vZGFsID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgaW5oZXJpdHMoTW9kYWwsIF9Db21wb25lbnQpO1xuXG4gIC8vIFRPRE9cbiAgZnVuY3Rpb24gTW9kYWwocHJvcHMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBNb2RhbCk7XG5cbiAgICB2YXIgX3RoaXMgPSBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChNb2RhbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1vZGFsKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgIF90aGlzLmNhY2hlQ29tcG9uZW50cyhwcm9wcy5jb21wb25lbnRzKTtcblxuICAgIF90aGlzLnN0YXRlID0geyBpc0Z1bGxzY3JlZW46IGZhbHNlLCBpc0Nsb3Npbmc6IGZhbHNlIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoTW9kYWwsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgaWYgKHByZXZQcm9wcy5jb21wb25lbnRzICE9PSB0aGlzLnByb3BzLmNvbXBvbmVudHMpIHtcbiAgICAgICAgdGhpcy5jYWNoZUNvbXBvbmVudHMocHJldlByb3BzLmNvbXBvbmVudHMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGVtdWxhdGUgYGNvbXBvbmVudERpZE1vdW50YCAmIGBjb21wb25lbnRXaWxsVW5tb3VudGBcbiAgICAvLyBjYWxsZWQgb24gY29tcGxldGUgb2YgZW50ZXIgJiBleGl0IHRyYW5zaXRpb25zIHJlc3BlY3RpdmVseVxuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRDb21tb25Qcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbW1vblByb3BzKCkge1xuICAgICAgdmFyIGlzRnVsbHNjcmVlbiA9IHRoaXMuc3RhdGUuaXNGdWxsc2NyZWVuO1xuXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdldFN0eWxlczogdGhpcy5nZXRTdHlsZXMsXG4gICAgICAgIGlzRnVsbHNjcmVlbjogaXNGdWxsc2NyZWVuLFxuICAgICAgICBtb2RhbFByb3BzOiB0aGlzLnByb3BzXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfY29tcG9uZW50cyA9IHRoaXMuY29tcG9uZW50cyxcbiAgICAgICAgICBCbGFua2V0ID0gX2NvbXBvbmVudHMuQmxhbmtldCxcbiAgICAgICAgICBQb3NpdGlvbmVyID0gX2NvbXBvbmVudHMuUG9zaXRpb25lcixcbiAgICAgICAgICBEaWFsb2cgPSBfY29tcG9uZW50cy5EaWFsb2c7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBhbGxvd0Z1bGxzY3JlZW4gPSBfcHJvcHMuYWxsb3dGdWxsc2NyZWVuLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuO1xuICAgICAgdmFyIGlzRnVsbHNjcmVlbiA9IHRoaXMuc3RhdGUuaXNGdWxsc2NyZWVuO1xuXG4gICAgICB2YXIgY29tbW9uUHJvcHMgPSB0aGlzLmNvbW1vblByb3BzID0gdGhpcy5nZXRDb21tb25Qcm9wcygpO1xuXG4gICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICB2YXIgdHJhbnNpdGlvbkluID0gdGhpcy5wcm9wcy5pbjtcblxuICAgICAgLy8gZm9yd2FyZCBwcm9wcyB0byBtb2RhbCBmb3IgdXNlIGluIGludGVybmFsIGNvbXBvbmVudHNcbiAgICAgIHZhciBtb2RhbFByb3BzID0ge1xuICAgICAgICBhbGxvd0Z1bGxzY3JlZW46IGFsbG93RnVsbHNjcmVlbixcbiAgICAgICAgaXNGdWxsc2NyZWVuOiBpc0Z1bGxzY3JlZW4sXG4gICAgICAgIG9uQ2xvc2U6IHRoaXMuaGFuZGxlQ2xvc2UsXG4gICAgICAgIHByZXZlbnRTY3JvbGw6IHRoaXMucHJldmVudFNjcm9sbCxcbiAgICAgICAgdG9nZ2xlRnVsbHNjcmVlbjogdGhpcy50b2dnbGVGdWxsc2NyZWVuXG4gICAgICB9O1xuXG4gICAgICAvLyBhdWdtZW50IHVzZXIgY2Fyb3VzZWwgd2l0aCBtb2RhbCBwcm9wc1xuICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgdmFyIGNhcm91c2VsQ29tcG9uZW50ID0gY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB7XG4gICAgICAgIGlzTW9kYWw6IHRydWUsXG4gICAgICAgIG1vZGFsUHJvcHM6IG1vZGFsUHJvcHNcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZ2xhbShcbiAgICAgICAgRnVsbHNjcmVlbixcbiAgICAgICAgeyBlbmFibGVkOiBpc0Z1bGxzY3JlZW4sIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UgfSxcbiAgICAgICAgZ2xhbShGYWRlLCBfZXh0ZW5kcyh7fSwgY29tbW9uUHJvcHMsIHsgY29tcG9uZW50OiBCbGFua2V0LCAnaW4nOiB0cmFuc2l0aW9uSW4gfSkpLFxuICAgICAgICBnbGFtKFxuICAgICAgICAgIFNsaWRlVXAsXG4gICAgICAgICAgX2V4dGVuZHMoe30sIGNvbW1vblByb3BzLCB7XG4gICAgICAgICAgICBjb21wb25lbnQ6IFBvc2l0aW9uZXIsXG4gICAgICAgICAgICAnaW4nOiB0cmFuc2l0aW9uSW4sXG4gICAgICAgICAgICBpbm5lclByb3BzOiB7XG4gICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuc3RhdGUuaXNDbG9zaW5nID8gbnVsbCA6IHRoaXMuaGFuZGxlQmFja2Ryb3BDbGlja1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRW50ZXJlZDogdGhpcy5tb2RhbERpZE1vdW50LFxuICAgICAgICAgICAgb25FeGl0ZWQ6IHRoaXMubW9kYWxXaWxsVW5tb3VudFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGdsYW0oXG4gICAgICAgICAgICBEaWFsb2csXG4gICAgICAgICAgICBfZXh0ZW5kcyh7IHJlbW92ZUZvY3VzT246IHRoaXMuc3RhdGUuaXNDbG9zaW5nIH0sIGNvbW1vblByb3BzKSxcbiAgICAgICAgICAgIGNhcm91c2VsQ29tcG9uZW50XG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gTW9kYWw7XG59KENvbXBvbmVudCk7XG5cbk1vZGFsLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICB2YXIgX3RoaXMyID0gdGhpcztcblxuICB0aGlzLm1vZGFsRGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBfdGhpczIuaGFuZGxlS2V5VXApO1xuICAgIGZvY3VzU3RvcmUuc3RvcmVGb2N1cygpO1xuICB9O1xuXG4gIHRoaXMubW9kYWxXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIF90aGlzMi5oYW5kbGVLZXlVcCk7XG4gICAgZm9jdXNTdG9yZS5yZXN0b3JlRm9jdXMoKTtcbiAgICBfdGhpczIuc2V0U3RhdGUoeyBpc0Nsb3Npbmc6IGZhbHNlIH0pO1xuICB9O1xuXG4gIHRoaXMuY2FjaGVDb21wb25lbnRzID0gZnVuY3Rpb24gKGNvbXBzKSB7XG4gICAgX3RoaXMyLmNvbXBvbmVudHMgPSBkZWZhdWx0TW9kYWxDb21wb25lbnRzKGNvbXBzKTtcbiAgfTtcblxuICB0aGlzLmhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UgPSBmdW5jdGlvbiAoaXNGdWxsc2NyZWVuKSB7XG4gICAgX3RoaXMyLnNldFN0YXRlKHsgaXNGdWxsc2NyZWVuOiBpc0Z1bGxzY3JlZW4gfSk7XG4gIH07XG5cbiAgdGhpcy5oYW5kbGVLZXlVcCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBfcHJvcHMyID0gX3RoaXMyLnByb3BzLFxuICAgICAgICBhbGxvd0Z1bGxzY3JlZW4gPSBfcHJvcHMyLmFsbG93RnVsbHNjcmVlbixcbiAgICAgICAgY2xvc2VPbkVzYyA9IF9wcm9wczIuY2xvc2VPbkVzYztcbiAgICB2YXIgaXNGdWxsc2NyZWVuID0gX3RoaXMyLnN0YXRlLmlzRnVsbHNjcmVlbjtcblxuICAgIHZhciBhbGxvd0Nsb3NlID0gZXZlbnQua2V5ID09PSAnRXNjYXBlJyAmJiBjbG9zZU9uRXNjICYmICFpc0Z1bGxzY3JlZW47XG5cbiAgICAvLyB0b2dnbGUgZnVsbHNjcmVlblxuICAgIGlmIChhbGxvd0Z1bGxzY3JlZW4gJiYgZXZlbnQua2V5ID09PSAnZicpIHtcbiAgICAgIF90aGlzMi50b2dnbGVGdWxsc2NyZWVuKCk7XG4gICAgfVxuXG4gICAgLy8gY2xvc2Ugb24gZXNjYXBlIHdoZW4gbm90IGZ1bGxzY3JlZW5cbiAgICBpZiAoYWxsb3dDbG9zZSkgX3RoaXMyLmhhbmRsZUNsb3NlKGV2ZW50KTtcbiAgfTtcblxuICB0aGlzLmhhbmRsZUJhY2tkcm9wQ2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgaGFzQmFja2Ryb3BDbGFzc05hbWUgPSBmYWxzZTtcbiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGV2ZW50LnRhcmdldC5jbGFzc0xpc3RbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgIHZhciB0YXJnZXRDbGFzcyA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgIGlmIChiYWNrZHJvcENsYXNzTmFtZXMuaGFzKHRhcmdldENsYXNzKSkge1xuICAgICAgICAgIGhhc0JhY2tkcm9wQ2xhc3NOYW1lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaGFzQmFja2Ryb3BDbGFzc05hbWUgfHwgIV90aGlzMi5wcm9wcy5jbG9zZU9uQmFja2Ryb3BDbGljaykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIF90aGlzMi5oYW5kbGVDbG9zZShldmVudCk7XG4gIH07XG5cbiAgdGhpcy50b2dnbGVGdWxsc2NyZWVuID0gZnVuY3Rpb24gKCkge1xuICAgIF90aGlzMi5zZXRTdGF0ZShmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgIHJldHVybiB7IGlzRnVsbHNjcmVlbjogIXN0YXRlLmlzRnVsbHNjcmVlbiB9O1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuaGFuZGxlQ2xvc2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgb25DbG9zZSA9IF90aGlzMi5wcm9wcy5vbkNsb3NlO1xuICAgIHZhciBpc0Z1bGxzY3JlZW4gPSBfdGhpczIuc3RhdGUuaXNGdWxsc2NyZWVuO1xuXG5cbiAgICBfdGhpczIuc2V0U3RhdGUoeyBpc0Nsb3Npbmc6IHRydWUgfSk7XG5cbiAgICAvLyBmb3JjZSBleGl0IGZ1bGxzY3JlZW4gbW9kZSBvbiBjbG9zZVxuICAgIGlmIChpc0Z1bGxzY3JlZW4pIHtcbiAgICAgIF90aGlzMi50b2dnbGVGdWxsc2NyZWVuKCk7XG4gICAgfVxuXG4gICAgLy8gY2FsbCB0aGUgY29uc3VtZXIncyBvbkNsb3NlIGZ1bmNcbiAgICBvbkNsb3NlKGV2ZW50KTtcbiAgfTtcblxuICB0aGlzLmdldFN0eWxlcyA9IGZ1bmN0aW9uIChrZXksIHByb3BzKSB7XG4gICAgdmFyIGJhc2UgPSBkZWZhdWx0TW9kYWxTdHlsZXNba2V5XShwcm9wcyk7XG4gICAgYmFzZS5ib3hTaXppbmcgPSAnYm9yZGVyLWJveCc7XG4gICAgdmFyIGN1c3RvbSA9IF90aGlzMi5wcm9wcy5zdHlsZXNba2V5XTtcbiAgICByZXR1cm4gY3VzdG9tID8gY3VzdG9tKGJhc2UsIHByb3BzKSA6IGJhc2U7XG4gIH07XG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE5hdmlnYXRpb25cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKiBBUklBIGxhYmVsIGZvciB0aGUgbmV4dCBidXR0b24gKi9cblxuXG4vLyBOT1RFOiBwcm9wcyBhcmVuJ3QgdXNlZCBieSBkZWZhdWx0IGZvciBzb21lIGdldHRlcnMgYnV0IGNvbnN1bWVycyBtYXkgbmVlZFxuLy8gdGhlbSwgdGhpcyBuZWVkcyB0byBiZSByZWZsZWN0ZWQgaW4gdGhlIGZsb3cgdHlwZS5cblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblxuZnVuY3Rpb24gZ2V0TmV4dExhYmVsKF9yZWYpIHtcbiAgdmFyIGN1cnJlbnRJbmRleCA9IF9yZWYuY3VycmVudEluZGV4LFxuICAgICAgdmlld3MgPSBfcmVmLnZpZXdzO1xuXG4gIHJldHVybiAnU2hvdyBzbGlkZSAnICsgKGN1cnJlbnRJbmRleCArIDIpICsgJyBvZiAnICsgdmlld3MubGVuZ3RoO1xufVxuXG4vKiBBUklBIGxhYmVsIGZvciB0aGUgcHJldmlvdXMgYnV0dG9uICovXG5mdW5jdGlvbiBnZXRQcmV2TGFiZWwoX3JlZjIpIHtcbiAgdmFyIGN1cnJlbnRJbmRleCA9IF9yZWYyLmN1cnJlbnRJbmRleCxcbiAgICAgIHZpZXdzID0gX3JlZjIudmlld3M7XG5cbiAgcmV0dXJuICdTaG93IHNsaWRlICcgKyBjdXJyZW50SW5kZXggKyAnIG9mICcgKyB2aWV3cy5sZW5ndGg7XG59XG5cbi8qIEhUTUwgdGl0bGUgZm9yIHRoZSBuZXh0IGJ1dHRvbiAqL1xuZnVuY3Rpb24gZ2V0TmV4dFRpdGxlKHByb3BzKSB7XG4gIHJldHVybiAnTmV4dCAocmlnaHQgYXJyb3cpJztcbn1cblxuLyogSFRNTCB0aXRsZSBmb3IgdGhlIHByZXZpb3VzIGJ1dHRvbiAqL1xuZnVuY3Rpb24gZ2V0UHJldlRpdGxlKHByb3BzKSB7XG4gIHJldHVybiAnUHJldmlvdXMgKGxlZnQgYXJyb3cpJztcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBIZWFkZXJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKiBBUklBIGxhYmVsIGZvciB0aGUgY2xvc2UgYnV0dG9uICovXG5mdW5jdGlvbiBnZXRDbG9zZUxhYmVsKHByb3BzKSB7XG4gIHJldHVybiAnQ2xvc2UgKGVzYyknO1xufVxuLyogQVJJQSBsYWJlbCBmb3IgdGhlIGZ1bGxzY3JlZW4gYnV0dG9uICovXG5mdW5jdGlvbiBnZXRGdWxsc2NyZWVuTGFiZWwoX3JlZjMpIHtcbiAgdmFyIGlzRnVsbHNjcmVlbiA9IF9yZWYzLmlzRnVsbHNjcmVlbjtcblxuICByZXR1cm4gaXNGdWxsc2NyZWVuID8gJ0V4aXQgZnVsbHNjcmVlbiAoZiknIDogJ0VudGVyIGZ1bGxzY3JlZW4gKGYpJztcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBWaWV3XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyogYWx0IHRleHQgZm9yIGVhY2ggaW1hZ2UgaW4gdGhlIGNhcm91c2VsICovXG5mdW5jdGlvbiBnZXRBbHRUZXh0KF9yZWY0KSB7XG4gIHZhciBkYXRhID0gX3JlZjQuZGF0YSxcbiAgICAgIGluZGV4ID0gX3JlZjQuaW5kZXg7XG5cbiAgaWYgKGRhdGEuY2FwdGlvbikgcmV0dXJuIGRhdGEuY2FwdGlvbjtcblxuICByZXR1cm4gJ0ltYWdlICcgKyAoaW5kZXggKyAxKTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBFeHBvcnRzXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxudmFyIGZvcm1hdHRlcnMgPSB7XG4gIGdldEFsdFRleHQ6IGdldEFsdFRleHQsXG4gIGdldE5leHRMYWJlbDogZ2V0TmV4dExhYmVsLFxuICBnZXRQcmV2TGFiZWw6IGdldFByZXZMYWJlbCxcbiAgZ2V0TmV4dFRpdGxlOiBnZXROZXh0VGl0bGUsXG4gIGdldFByZXZUaXRsZTogZ2V0UHJldlRpdGxlLFxuICBnZXRDbG9zZUxhYmVsOiBnZXRDbG9zZUxhYmVsLFxuICBnZXRGdWxsc2NyZWVuTGFiZWw6IGdldEZ1bGxzY3JlZW5MYWJlbFxufTtcblxudmFyIHZpZXdQYWdlclN0eWxlcyA9IHtcbiAgZmxleDogJzEgMSBhdXRvJyxcbiAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbn07XG52YXIgZnJhbWVTdHlsZXMgPSB7IG91dGxpbmU6IDAgfTtcblxudmFyIGRlZmF1bHRQcm9wcyQxID0ge1xuICBjdXJyZW50SW5kZXg6IDAsXG4gIGZvcm1hdHRlcnM6IGZvcm1hdHRlcnMsXG4gIGhpZGVDb250cm9sc1doZW5JZGxlOiAzMDAwLFxuICBzaG93TmF2aWdhdGlvbk9uVG91Y2hEZXZpY2U6IGZhbHNlLFxuICBzdHlsZXM6IHt9LFxuICB0cmFja1Byb3BzOiB7XG4gICAgaW5zdGFudDogIWlzVG91Y2goKSxcbiAgICBzd2lwZTogJ3RvdWNoJ1xuICB9XG59O1xuXG52YXIgdHJhY2tCYXNlQ2xhc3NOYW1lID0gY29tcG9uZW50QmFzZUNsYXNzTmFtZXMuVHJhY2s7XG5cbnZhciBDYXJvdXNlbCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIGluaGVyaXRzKENhcm91c2VsLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYXJvdXNlbChwcm9wcykge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIENhcm91c2VsKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENhcm91c2VsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2Fyb3VzZWwpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfaW5pdGlhbGlzZVByb3BzJDEuY2FsbChfdGhpcyk7XG5cbiAgICBfdGhpcy5jYWNoZUNvbXBvbmVudHMocHJvcHMuY29tcG9uZW50cyk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGN1cnJlbnRJbmRleDogcHJvcHMuY3VycmVudEluZGV4LFxuICAgICAgaW50ZXJhY3Rpb25Jc0lkbGU6IGlzVG91Y2goKVxuICAgIH07XG4gICAgcmV0dXJuIF90aGlzO1xuICB9IC8vIFRPRE9cblxuXG4gIGNyZWF0ZUNsYXNzKENhcm91c2VsLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBoaWRlQ29udHJvbHNXaGVuSWRsZSA9IF9wcm9wcy5oaWRlQ29udHJvbHNXaGVuSWRsZSxcbiAgICAgICAgICBtb2RhbFByb3BzID0gX3Byb3BzLm1vZGFsUHJvcHM7XG5cbiAgICAgIHZhciBpc01vZGFsID0gQm9vbGVhbihtb2RhbFByb3BzKTtcblxuICAgICAgdGhpcy5tb3VudGVkID0gdHJ1ZTtcblxuICAgICAgaWYgKGhpZGVDb250cm9sc1doZW5JZGxlICYmIHRoaXMuY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuaGFuZGxlTW91c2VBY3Rpdml0eSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuaGFuZGxlTW91c2VBY3Rpdml0eSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuaGFuZGxlTW91c2VBY3Rpdml0eSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNNb2RhbCkge1xuICAgICAgICB0aGlzLmZvY3VzVmlld0ZyYW1lKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgaWYgKHByZXZQcm9wcy5jb21wb25lbnRzICE9PSB0aGlzLnByb3BzLmNvbXBvbmVudHMpIHtcbiAgICAgICAgdGhpcy5jYWNoZUNvbXBvbmVudHMocHJldlByb3BzLmNvbXBvbmVudHMpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wcm9wcy5jdXJyZW50SW5kZXggIT09IHByZXZQcm9wcy5jdXJyZW50SW5kZXgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGN1cnJlbnRJbmRleDogdGhpcy5wcm9wcy5jdXJyZW50SW5kZXggfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMubW91bnRlZCA9IGZhbHNlO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5oaWRlQ29udHJvbHNXaGVuSWRsZSAmJiB0aGlzLmNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmhhbmRsZU1vdXNlQWN0aXZpdHkpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZU1vdXNlQWN0aXZpdHkpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLmhhbmRsZU1vdXNlQWN0aXZpdHkpO1xuICAgICAgICB0aGlzLmhhbmRsZU1vdXNlQWN0aXZpdHkuY2FuY2VsKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gUmVmc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gVXRpbGl0aWVzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICAvLyBjb21iaW5lIGRlZmF1bHRQcm9wcyB3aXRoIGNvbnN1bWVyIHByb3BzIHRvIG1haW50YWluIGV4cGVjdGVkIGJlaGF2aW91clxuXG4gICAgLy8gY29tYmluZSBkZWZhdWx0UHJvcHMgd2l0aCBjb25zdW1lciBwcm9wcyB0byBtYWludGFpbiBleHBlY3RlZCBiZWhhdmlvdXJcblxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gSGFuZGxlcnNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIFJlbmRlcmVyc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRDb21tb25Qcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbW1vblByb3BzKCkge1xuICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGZyYW1lUHJvcHMgPSBfcHJvcHMyLmZyYW1lUHJvcHMsXG4gICAgICAgICAgdHJhY2tQcm9wcyA9IF9wcm9wczIudHJhY2tQcm9wcyxcbiAgICAgICAgICBtb2RhbFByb3BzID0gX3Byb3BzMi5tb2RhbFByb3BzLFxuICAgICAgICAgIHZpZXdzID0gX3Byb3BzMi52aWV3cyxcbiAgICAgICAgICBzaG93TmF2aWdhdGlvbk9uVG91Y2hEZXZpY2UgPSBfcHJvcHMyLnNob3dOYXZpZ2F0aW9uT25Ub3VjaERldmljZTtcblxuICAgICAgdmFyIGlzTW9kYWwgPSBCb29sZWFuKG1vZGFsUHJvcHMpO1xuICAgICAgdmFyIGlzRnVsbHNjcmVlbiA9IEJvb2xlYW4obW9kYWxQcm9wcyAmJiBtb2RhbFByb3BzLmlzRnVsbHNjcmVlbik7XG4gICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBjdXJyZW50SW5kZXggPSBfc3RhdGUuY3VycmVudEluZGV4LFxuICAgICAgICAgIGludGVyYWN0aW9uSXNJZGxlID0gX3N0YXRlLmludGVyYWN0aW9uSXNJZGxlO1xuXG4gICAgICB2YXIgY3VycmVudFZpZXcgPSB0aGlzLmdldFZpZXdEYXRhKCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNhcm91c2VsUHJvcHM6IHRoaXMucHJvcHMsXG4gICAgICAgIGN1cnJlbnRJbmRleDogY3VycmVudEluZGV4LFxuICAgICAgICBjdXJyZW50VmlldzogY3VycmVudFZpZXcsXG4gICAgICAgIGZvcm1hdHRlcnM6IHRoaXMucHJvcHMuZm9ybWF0dGVycyxcbiAgICAgICAgZnJhbWVQcm9wczogZnJhbWVQcm9wcyxcbiAgICAgICAgZ2V0U3R5bGVzOiB0aGlzLmdldFN0eWxlcyxcbiAgICAgICAgc2hvd05hdmlnYXRpb25PblRvdWNoRGV2aWNlOiBzaG93TmF2aWdhdGlvbk9uVG91Y2hEZXZpY2UsXG4gICAgICAgIGlzRnVsbHNjcmVlbjogaXNGdWxsc2NyZWVuLFxuICAgICAgICBpc01vZGFsOiBpc01vZGFsLFxuICAgICAgICBtb2RhbFByb3BzOiBtb2RhbFByb3BzLFxuICAgICAgICBpbnRlcmFjdGlvbklzSWRsZTogaW50ZXJhY3Rpb25Jc0lkbGUsXG4gICAgICAgIHRyYWNrUHJvcHM6IHRyYWNrUHJvcHMsXG4gICAgICAgIHZpZXdzOiB2aWV3c1xuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX2NvbXBvbmVudHMgPSB0aGlzLmNvbXBvbmVudHMsXG4gICAgICAgICAgQ29udGFpbmVyID0gX2NvbXBvbmVudHMuQ29udGFpbmVyLFxuICAgICAgICAgIFZpZXcgPSBfY29tcG9uZW50cy5WaWV3O1xuICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuc3RhdGUuY3VycmVudEluZGV4O1xuICAgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGZyYW1lUHJvcHMgPSBfcHJvcHMzLmZyYW1lUHJvcHMsXG4gICAgICAgICAgdmlld3MgPSBfcHJvcHMzLnZpZXdzO1xuXG4gICAgICB2YXIgY29tbW9uUHJvcHMgPSB0aGlzLmNvbW1vblByb3BzID0gdGhpcy5nZXRDb21tb25Qcm9wcygpO1xuXG4gICAgICByZXR1cm4gZ2xhbShcbiAgICAgICAgQ29udGFpbmVyLFxuICAgICAgICBfZXh0ZW5kcyh7fSwgY29tbW9uUHJvcHMsIHsgaW5uZXJQcm9wczogeyBpbm5lclJlZjogdGhpcy5nZXRDb250YWluZXIgfSB9KSxcbiAgICAgICAgdGhpcy5yZW5kZXJIZWFkZXIoKSxcbiAgICAgICAgZ2xhbShcbiAgICAgICAgICBWaWV3UGFnZXIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgdGFnOiAnbWFpbicsXG4gICAgICAgICAgICBzdHlsZTogdmlld1BhZ2VyU3R5bGVzLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUoJ3BhZ2VyJylcbiAgICAgICAgICB9LFxuICAgICAgICAgIGdsYW0oXG4gICAgICAgICAgICBGcmFtZSxcbiAgICAgICAgICAgIF9leHRlbmRzKHt9LCBmcmFtZVByb3BzLCB7XG4gICAgICAgICAgICAgIHJlZjogdGhpcy5nZXRGcmFtZSxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUoJ2ZyYW1lJyksXG4gICAgICAgICAgICAgIHN0eWxlOiBmcmFtZVN0eWxlcyxcbiAgICAgICAgICAgICAgdGFiSW5kZXg6ICctMSdcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZ2xhbShcbiAgICAgICAgICAgICAgVHJhY2ssXG4gICAgICAgICAgICAgIF9leHRlbmRzKHt9LCB0aGlzLmdldFRyYWNrUHJvcHModGhpcy5wcm9wcyksIHtcbiAgICAgICAgICAgICAgICBzdHlsZTogeyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInIH0sXG4gICAgICAgICAgICAgICAgY3VycmVudFZpZXc6IGN1cnJlbnRJbmRleCxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSh0cmFja0Jhc2VDbGFzc05hbWUpLFxuICAgICAgICAgICAgICAgIG9uVmlld0NoYW5nZTogdGhpcy5oYW5kbGVWaWV3Q2hhbmdlLFxuICAgICAgICAgICAgICAgIHJlZjogdGhpcy5nZXRUcmFja1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgdmlld3MgJiYgdmlld3MubWFwKGZ1bmN0aW9uIChkYXRhLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnbGFtKFxuICAgICAgICAgICAgICAgICAgVmlldyQxLFxuICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSgndmlldy13cmFwcGVyJyksIGtleTogaW5kZXggfSxcbiAgICAgICAgICAgICAgICAgIGdsYW0oVmlldywgX2V4dGVuZHMoe30sIGNvbW1vblByb3BzLCB7IGRhdGE6IGRhdGEsIGluZGV4OiBpbmRleCB9KSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICksXG4gICAgICAgICAgdGhpcy5yZW5kZXJOYXZpZ2F0aW9uKClcbiAgICAgICAgKSxcbiAgICAgICAgdGhpcy5yZW5kZXJGb290ZXIoKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIENhcm91c2VsO1xufShDb21wb25lbnQpO1xuXG5DYXJvdXNlbC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHMkMTtcblxudmFyIF9pbml0aWFsaXNlUHJvcHMkMSA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG4gIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gIHRoaXMubW91bnRlZCA9IGZhbHNlO1xuXG4gIHRoaXMuY2FjaGVDb21wb25lbnRzID0gZnVuY3Rpb24gKGNvbXBzKSB7XG4gICAgX3RoaXMyLmNvbXBvbmVudHMgPSBkZWZhdWx0Q2Fyb3VzZWxDb21wb25lbnRzKGNvbXBzKTtcbiAgfTtcblxuICB0aGlzLmdldENvbnRhaW5lciA9IGZ1bmN0aW9uIChyZWYpIHtcbiAgICBfdGhpczIuY29udGFpbmVyID0gcmVmO1xuICB9O1xuXG4gIHRoaXMuZ2V0Rm9vdGVyID0gZnVuY3Rpb24gKHJlZikge1xuICAgIF90aGlzMi5mb290ZXIgPSByZWY7XG4gIH07XG5cbiAgdGhpcy5nZXRGcmFtZSA9IGZ1bmN0aW9uIChyZWYpIHtcbiAgICBfdGhpczIuZnJhbWUgPSBmaW5kRE9NTm9kZShyZWYpO1xuICB9O1xuXG4gIHRoaXMuZ2V0SGVhZGVyID0gZnVuY3Rpb24gKHJlZikge1xuICAgIF90aGlzMi5oZWFkZXIgPSByZWY7XG4gIH07XG5cbiAgdGhpcy5nZXRUcmFjayA9IGZ1bmN0aW9uIChyZWYpIHtcbiAgICBfdGhpczIudHJhY2sgPSByZWY7XG4gIH07XG5cbiAgdGhpcy5oYXNQcmV2aW91c1ZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRyYWNrUHJvcHMgPSBfdGhpczIucHJvcHMudHJhY2tQcm9wcztcbiAgICB2YXIgY3VycmVudEluZGV4ID0gX3RoaXMyLnN0YXRlLmN1cnJlbnRJbmRleDtcblxuXG4gICAgcmV0dXJuIHRyYWNrUHJvcHMuaW5maW5pdGUgfHwgY3VycmVudEluZGV4ICE9PSAwO1xuICB9O1xuXG4gIHRoaXMuaGFzTmV4dFZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9wcm9wczQgPSBfdGhpczIucHJvcHMsXG4gICAgICAgIHRyYWNrUHJvcHMgPSBfcHJvcHM0LnRyYWNrUHJvcHMsXG4gICAgICAgIHZpZXdzID0gX3Byb3BzNC52aWV3cztcbiAgICB2YXIgY3VycmVudEluZGV4ID0gX3RoaXMyLnN0YXRlLmN1cnJlbnRJbmRleDtcblxuXG4gICAgcmV0dXJuIHRyYWNrUHJvcHMuaW5maW5pdGUgfHwgY3VycmVudEluZGV4ICE9PSB2aWV3cy5sZW5ndGggLSAxO1xuICB9O1xuXG4gIHRoaXMuZ2V0U3R5bGVzID0gZnVuY3Rpb24gKGtleSwgcHJvcHMpIHtcbiAgICB2YXIgYmFzZSA9IGRlZmF1bHRDYXJvdXNlbFN0eWxlc1trZXldKHByb3BzKTtcbiAgICBiYXNlLmJveFNpemluZyA9ICdib3JkZXItYm94JztcbiAgICB2YXIgY3VzdG9tID0gX3RoaXMyLnByb3BzLnN0eWxlc1trZXldO1xuICAgIHJldHVybiBjdXN0b20gPyBjdXN0b20oYmFzZSwgcHJvcHMpIDogYmFzZTtcbiAgfTtcblxuICB0aGlzLmdldFRyYWNrUHJvcHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIGRlZmF1bHRQcm9wcyQxLnRyYWNrUHJvcHMsIHByb3BzLnRyYWNrUHJvcHMpO1xuICB9O1xuXG4gIHRoaXMuZ2V0Rm9ybWF0dGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIGRlZmF1bHRQcm9wcyQxLmZvcm1hdHRlcnMsIF90aGlzMi5wcm9wcy5mb3JtYXR0ZXJzKTtcbiAgfTtcblxuICB0aGlzLmdldFZpZXdEYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB2aWV3cyA9IF90aGlzMi5wcm9wcy52aWV3cztcbiAgICB2YXIgY3VycmVudEluZGV4ID0gX3RoaXMyLnN0YXRlLmN1cnJlbnRJbmRleDtcblxuXG4gICAgcmV0dXJuIHZpZXdzW2N1cnJlbnRJbmRleF07XG4gIH07XG5cbiAgdGhpcy5mb2N1c1ZpZXdGcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoX3RoaXMyLmZyYW1lICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IF90aGlzMi5mcmFtZSkge1xuICAgICAgX3RoaXMyLmZyYW1lLmZvY3VzKCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucHJldiA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIF90aGlzMi50cmFjay5wcmV2KCk7XG4gICAgX3RoaXMyLmZvY3VzVmlld0ZyYW1lKCk7XG4gIH07XG5cbiAgdGhpcy5uZXh0ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgX3RoaXMyLnRyYWNrLm5leHQoKTtcbiAgICBfdGhpczIuZm9jdXNWaWV3RnJhbWUoKTtcbiAgfTtcblxuICB0aGlzLmhhbmRsZU1vdXNlQWN0aXZpdHkgPSByYWZTY2hlZHVsZXIoZnVuY3Rpb24gKCkge1xuICAgIGNsZWFyVGltZW91dChfdGhpczIudGltZXIpO1xuXG4gICAgaWYgKF90aGlzMi5zdGF0ZS5pbnRlcmFjdGlvbklzSWRsZSkge1xuICAgICAgX3RoaXMyLnNldFN0YXRlKHsgaW50ZXJhY3Rpb25Jc0lkbGU6IGZhbHNlIH0pO1xuICAgIH1cblxuICAgIF90aGlzMi50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKF90aGlzMi5tb3VudGVkKSB7XG4gICAgICAgIF90aGlzMi5zZXRTdGF0ZSh7IGludGVyYWN0aW9uSXNJZGxlOiB0cnVlIH0pO1xuICAgICAgfVxuICAgIH0sIF90aGlzMi5wcm9wcy5oaWRlQ29udHJvbHNXaGVuSWRsZSk7XG4gIH0pO1xuXG4gIHRoaXMuaGFuZGxlVmlld0NoYW5nZSA9IGZ1bmN0aW9uIChpbmRpY2llcykge1xuICAgIHZhciB0cmFja1Byb3BzID0gX3RoaXMyLnByb3BzLnRyYWNrUHJvcHM7XG5cbiAgICAvLyBzaW1wbGlmeSBieSBlbmZvcmNpbmcgbnVtYmVyXG5cbiAgICB2YXIgY3VycmVudEluZGV4ID0gaW5kaWNpZXNbMF07XG5cbiAgICBfdGhpczIuc2V0U3RhdGUoeyBjdXJyZW50SW5kZXg6IGN1cnJlbnRJbmRleCB9KTtcblxuICAgIC8vIGNhbGwgdGhlIGNvbnN1bWVyJ3Mgb25WaWV3Q2hhbmdlIGZuXG4gICAgaWYgKHRyYWNrUHJvcHMgJiYgdHJhY2tQcm9wcy5vblZpZXdDaGFuZ2UpIHtcbiAgICAgIHRyYWNrUHJvcHMub25WaWV3Q2hhbmdlKGN1cnJlbnRJbmRleCk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucmVuZGVyTmF2aWdhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2dldEZvcm1hdHRlcnMgPSBfdGhpczIuZ2V0Rm9ybWF0dGVycygpLFxuICAgICAgICBnZXROZXh0TGFiZWwgPSBfZ2V0Rm9ybWF0dGVycy5nZXROZXh0TGFiZWwsXG4gICAgICAgIGdldFByZXZMYWJlbCA9IF9nZXRGb3JtYXR0ZXJzLmdldFByZXZMYWJlbCxcbiAgICAgICAgZ2V0TmV4dFRpdGxlID0gX2dldEZvcm1hdHRlcnMuZ2V0TmV4dFRpdGxlLFxuICAgICAgICBnZXRQcmV2VGl0bGUgPSBfZ2V0Rm9ybWF0dGVycy5nZXRQcmV2VGl0bGU7XG5cbiAgICB2YXIgX2NvbXBvbmVudHMyID0gX3RoaXMyLmNvbXBvbmVudHMsXG4gICAgICAgIE5hdmlnYXRpb24gPSBfY29tcG9uZW50czIuTmF2aWdhdGlvbixcbiAgICAgICAgTmF2aWdhdGlvblByZXYgPSBfY29tcG9uZW50czIuTmF2aWdhdGlvblByZXYsXG4gICAgICAgIE5hdmlnYXRpb25OZXh0ID0gX2NvbXBvbmVudHMyLk5hdmlnYXRpb25OZXh0O1xuICAgIHZhciBjb21tb25Qcm9wcyA9IF90aGlzMi5jb21tb25Qcm9wcztcblxuXG4gICAgdmFyIHNob3dQcmV2ID0gX3RoaXMyLmhhc1ByZXZpb3VzVmlldygpO1xuICAgIHZhciBzaG93TmV4dCA9IF90aGlzMi5oYXNOZXh0VmlldygpO1xuICAgIHZhciBzaG93TmF2ID0gKHNob3dQcmV2IHx8IHNob3dOZXh0KSAmJiBOYXZpZ2F0aW9uO1xuXG4gICAgcmV0dXJuIHNob3dOYXYgPyBnbGFtKFxuICAgICAgTmF2aWdhdGlvbixcbiAgICAgIGNvbW1vblByb3BzLFxuICAgICAgc2hvd1ByZXYgJiYgZ2xhbShOYXZpZ2F0aW9uUHJldiwgX2V4dGVuZHMoe30sIGNvbW1vblByb3BzLCB7XG4gICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIGlubmVyUHJvcHM6IHtcbiAgICAgICAgICAnYXJpYS1sYWJlbCc6IGdldFByZXZMYWJlbChjb21tb25Qcm9wcyksXG4gICAgICAgICAgb25DbGljazogX3RoaXMyLnByZXYsXG4gICAgICAgICAgdGl0bGU6IGdldFByZXZUaXRsZShjb21tb25Qcm9wcylcbiAgICAgICAgfVxuICAgICAgfSkpLFxuICAgICAgc2hvd05leHQgJiYgZ2xhbShOYXZpZ2F0aW9uTmV4dCwgX2V4dGVuZHMoe30sIGNvbW1vblByb3BzLCB7XG4gICAgICAgIGFsaWduOiAncmlnaHQnLFxuICAgICAgICBpbm5lclByb3BzOiB7XG4gICAgICAgICAgJ2FyaWEtbGFiZWwnOiBnZXROZXh0TGFiZWwoY29tbW9uUHJvcHMpLFxuICAgICAgICAgIG9uQ2xpY2s6IF90aGlzMi5uZXh0LFxuICAgICAgICAgIHRpdGxlOiBnZXROZXh0VGl0bGUoY29tbW9uUHJvcHMpXG4gICAgICAgIH1cbiAgICAgIH0pKVxuICAgICkgOiBudWxsO1xuICB9O1xuXG4gIHRoaXMucmVuZGVyRm9vdGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfY29tcG9uZW50czMgPSBfdGhpczIuY29tcG9uZW50cyxcbiAgICAgICAgRm9vdGVyID0gX2NvbXBvbmVudHMzLkZvb3RlcixcbiAgICAgICAgRm9vdGVyQ2FwdGlvbiA9IF9jb21wb25lbnRzMy5Gb290ZXJDYXB0aW9uLFxuICAgICAgICBGb290ZXJDb3VudCA9IF9jb21wb25lbnRzMy5Gb290ZXJDb3VudDtcbiAgICB2YXIgY29tbW9uUHJvcHMgPSBfdGhpczIuY29tbW9uUHJvcHM7XG5cblxuICAgIHJldHVybiBGb290ZXIgPyBnbGFtKEZvb3RlciwgX2V4dGVuZHMoe30sIGNvbW1vblByb3BzLCB7XG4gICAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIENhcHRpb246IEZvb3RlckNhcHRpb24sXG4gICAgICAgIENvdW50OiBGb290ZXJDb3VudFxuICAgICAgfSxcbiAgICAgIGlubmVyUHJvcHM6IHsgaW5uZXJSZWY6IF90aGlzMi5nZXRGb290ZXIgfVxuICAgIH0pKSA6IG51bGw7XG4gIH07XG5cbiAgdGhpcy5yZW5kZXJIZWFkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9jb21wb25lbnRzNCA9IF90aGlzMi5jb21wb25lbnRzLFxuICAgICAgICBIZWFkZXIgPSBfY29tcG9uZW50czQuSGVhZGVyLFxuICAgICAgICBIZWFkZXJDbG9zZSA9IF9jb21wb25lbnRzNC5IZWFkZXJDbG9zZSxcbiAgICAgICAgSGVhZGVyRnVsbHNjcmVlbiA9IF9jb21wb25lbnRzNC5IZWFkZXJGdWxsc2NyZWVuO1xuXG4gICAgdmFyIF9nZXRGb3JtYXR0ZXJzMiA9IF90aGlzMi5nZXRGb3JtYXR0ZXJzKCksXG4gICAgICAgIGdldENsb3NlTGFiZWwgPSBfZ2V0Rm9ybWF0dGVyczIuZ2V0Q2xvc2VMYWJlbCxcbiAgICAgICAgZ2V0RnVsbHNjcmVlbkxhYmVsID0gX2dldEZvcm1hdHRlcnMyLmdldEZ1bGxzY3JlZW5MYWJlbDtcblxuICAgIHZhciBjb21tb25Qcm9wcyA9IF90aGlzMi5jb21tb25Qcm9wcztcblxuXG4gICAgcmV0dXJuIEhlYWRlciA/IGdsYW0oSGVhZGVyLCBfZXh0ZW5kcyh7fSwgY29tbW9uUHJvcHMsIHtcbiAgICAgIGdldENsb3NlTGFiZWw6IGdldENsb3NlTGFiZWwsXG4gICAgICBnZXRGdWxsc2NyZWVuTGFiZWw6IGdldEZ1bGxzY3JlZW5MYWJlbCxcbiAgICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgQ2xvc2VCdXR0b246IEhlYWRlckNsb3NlLFxuICAgICAgICBGdWxsc2NyZWVuQnV0dG9uOiBIZWFkZXJGdWxsc2NyZWVuXG4gICAgICB9LFxuICAgICAgZGF0YTogX3RoaXMyLmdldFZpZXdEYXRhKCksXG4gICAgICBpbm5lclByb3BzOiB7IGlubmVyUmVmOiBfdGhpczIuZ2V0SGVhZGVyIH1cbiAgICB9KSkgOiBudWxsO1xuICB9O1xufTtcblxudmFyIEZpcnN0Q2hpbGQgPSBmdW5jdGlvbiBGaXJzdENoaWxkKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcbiAgcmV0dXJuIENoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pWzBdIHx8IG51bGw7XG59O1xuXG52YXIgTW9kYWxHYXRld2F5ID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgaW5oZXJpdHMoTW9kYWxHYXRld2F5LCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBNb2RhbEdhdGV3YXkoKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgTW9kYWxHYXRld2F5KTtcbiAgICByZXR1cm4gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTW9kYWxHYXRld2F5Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTW9kYWxHYXRld2F5KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhNb2RhbEdhdGV3YXksIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHRhcmdldCA9IF9wcm9wcy50YXJnZXQsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW47XG5cbiAgICAgIHJldHVybiBjcmVhdGVQb3J0YWwoUmVhY3QuY3JlYXRlRWxlbWVudChUcmFuc2l0aW9uR3JvdXAsIHsgY29tcG9uZW50OiBGaXJzdENoaWxkLCBjaGlsZHJlbjogY2hpbGRyZW4gfSksIHRhcmdldCk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBNb2RhbEdhdGV3YXk7XG59KENvbXBvbmVudCk7XG5cbk1vZGFsR2F0ZXdheS5kZWZhdWx0UHJvcHMgPSB7XG4gIHRhcmdldDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudC5ib2R5IDogbnVsbFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2Fyb3VzZWw7XG5leHBvcnQgeyBNb2RhbCwgTW9kYWxHYXRld2F5LCBjYXJvdXNlbENvbXBvbmVudHMsIG1vZGFsQ29tcG9uZW50cyB9O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///687\n")}}]);