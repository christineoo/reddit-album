(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{517:function(t,n,e){(function(n){(function(){var e,r,o;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:null!=n&&n.hrtime?(t.exports=function(){return(e()-o)/1e6},r=n.hrtime,o=(e=function(){var t;return 1e9*(t=r())[0]+t[1]})()):Date.now?(t.exports=function(){return Date.now()-o},o=Date.now()):(t.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,e(539))},685:function(t,n,e){"use strict";e.r(n),e.d(n,"Photo",function(){return g});var r=e(1),o=e.n(r),i=e(6),a=e.n(i),c=e(551);function u(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function f(){return(f=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function s(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){u(t,n,e[n])})}return t}function h(t,n){if(null==t)return{};var e,r,o=function(t,n){if(null==t)return{};var e,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||(o[e]=t[e]);return o}(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)e=i[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}function l(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p={cursor:"pointer"},g=function(t){var n=t.index,e=t.onClick,r=t.photo,i=t.margin,a=t.direction,c=t.top,u=t.left,h=t.key,l={margin:i,display:"block"};"column"===a&&(l.position="absolute",l.left=u,l.top=c);return o.a.createElement("img",f({key:h,style:e?s({},l,p):l},r,{onClick:e?function(t){e(t,{photo:r,index:n})}:null}))},d=a.a.shape({key:a.a.string,src:a.a.string.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired,alt:a.a.string,title:a.a.string,srcSet:a.a.oneOfType([a.a.string,a.a.array]),sizes:a.a.oneOfType([a.a.string,a.a.array])});g.propTypes={index:a.a.number.isRequired,onClick:a.a.func,photo:d.isRequired,margin:a.a.number,top:function(t){if("column"===t.direction&&"number"!=typeof t.top)return new Error("top is a required number when direction is set to `column`")},left:function(t){if("column"===t.direction&&"number"!=typeof t.left)return new Error("left is a required number when direction is set to `column`")},direction:a.a.string};var m=function(t,n){return n||(n=0),Number(Math.round(t+"e"+n)+"e-"+n)},v=function(t){var n=t.width,e=t.height;return m(n/e,2)};function w(t){this.content=[],this.scoreFunction=t}w.prototype={push:function(t){this.content.push(t),this.bubbleUp(this.content.length-1)},pop:function(){var t=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.sinkDown(0)),t},remove:function(t){for(var n=this.content.length,e=0;e<n;e++)if(this.content[e]==t){var r=this.content.pop();if(e==n-1)break;this.content[e]=r,this.bubbleUp(e),this.sinkDown(e);break}},size:function(){return this.content.length},bubbleUp:function(t){for(var n=this.content[t],e=this.scoreFunction(n);t>0;){var r=Math.floor((t+1)/2)-1,o=this.content[r];if(e>=this.scoreFunction(o))break;this.content[r]=n,this.content[t]=o,t=r}},sinkDown:function(t){for(var n=this.content.length,e=this.content[t],r=this.scoreFunction(e);;){var o=2*(t+1),i=o-1,a=null;if(i<n){var c=this.content[i],u=this.scoreFunction(c);u<r&&(a=i)}if(o<n){var f=this.content[o];this.scoreFunction(f)<(null==a?r:u)&&(a=o)}if(null==a)break;this.content[t]=this.content[a],this.content[a]=e,t=a}}};var b=function(t,n,e){return function(t,n){for(var e=[],r=n;r;)e.push(r),t[r],r=t[r];return e.reverse()}(function(t,n,e){var r={},o={},i={};i[n]=0;var a=new w(function(t){return t.weight});for(a.push({id:n,weight:0});a.size();){var c=a.pop(),u=c.id;if(!o[u]){var f=t(u)||{};for(var s in o[u]=1,f){var h=c.weight+f[s];(void 0===i[s]||i[s]>h)&&(i[s]=h,a.push({id:s,weight:h}),r[s]=u)}}}if(void 0===i[e])throw new Error("There is no path from ".concat(n," to ").concat(e));return r}(t,n,e),e)},y=function(t,n,e){return(n-t.length*(2*e))/t.reduce(function(t,n){return t+v(n)},0)},O=function(t,n,e,r,o,i){var a=t.slice(n,e),c=y(a,r,i);return Math.pow(Math.abs(c-o),2)},k=function(t){var n=t.containerWidth,e=t.limitNodeSearch,r=t.targetRowHeight,o=t.margin,i=t.photos,a=function(t,n,e,r,o){return function(i){var a={};a[+(i=+i)]=0;for(var c=i+1;c<e.length+1&&!(c-i>r);++c)a[c.toString()]=O(e,i,c,n,t,o);return a}}(r,n,i,e,o),c=b(a,"0",i.length);c=c.map(function(t){return+t});for(var u=1;u<c.length;++u)for(var f=i.slice(c[u-1],c[u]),s=y(f,n,o),h=c[u-1];h<c[u];++h)i[h].width=m(s*v(i[h]),1),i[h].height=s;return i},x=o.a.memo(function(t){var n=t.photos,e=t.onClick,i=t.direction,a=t.margin,u=t.limitNodeSearch,f=t.targetRowHeight,p=t.columns,d=t.renderImage,v=l(Object(r.useState)(0),2),w=v[0],b=v[1],y=Object(r.useRef)(null);Object(r.useLayoutEffect)(function(){var t=null,n=new c.a(function(n){var e=n[0].contentRect.width;w!==e&&(t=window.requestAnimationFrame(function(){b(Math.floor(e))}))});return n.observe(y.current),function(){n.disconnect(),window.cancelAnimationFrame(t)}});var O=function(t,r){var o=r.index;e(t,{index:o,photo:n[o],previous:n[o-1]||null,next:n[o+1]||null})};if(!w)return o.a.createElement("div",{ref:y},"Â ");var x,R,j=w-1;"row"===i&&("function"==typeof u&&(u=u(w)),"function"==typeof f&&(f=f(w)),void 0===u&&(u=2,w>=450&&(u=function(t){var n=t.targetRowHeight,e=t.containerWidth;return m(e/n/1.5)+8}({containerWidth:w,targetRowHeight:f}))),x={display:"flex",flexWrap:"wrap",flexDirection:"row"},R=k({containerWidth:j,limitNodeSearch:u,targetRowHeight:f,margin:a,photos:n})),"column"===i&&("function"==typeof p&&(p=p(w)),void 0===p&&(p=1,w>=500&&(p=2),w>=900&&(p=3),w>=1500&&(p=4)),x={position:"relative"},R=function(t){for(var n=t.photos,e=t.columns,r=t.containerWidth,o=t.margin,i=(r-2*o*e)/e,a=n.map(function(t){var n=t.height/t.width*i;return s({},t,{width:m(i,1),height:m(n,1)})}),c=[],u=[],f=0;f<e;f++)c[f]=m(f*(i+2*o),1),u[f]=0;return a.map(function(t){var n=u.reduce(function(t,n,e){return t=n<u[t]?e:t},0);t.top=u[n],t.left=c[n],u[n]=u[n]+t.height+2*o;var e=u.reduce(function(t,n,e){return t=n>u[t]?e:t},0);return t.containerHeight=u[e],t})}({containerWidth:j,columns:p,margin:a,photos:n}),x.height=R[R.length-1].containerHeight);var H=d||g;return o.a.createElement("div",{className:"react-photo-gallery--gallery"},o.a.createElement("div",{ref:y,style:x},R.map(function(t,n){var r=t.left,o=t.top,c=t.containerHeight,u=h(t,["left","top","containerHeight"]);return H({left:r,top:o,key:t.key||t.src,containerHeight:c,index:n,margin:a,direction:i,onClick:e?O:null,photo:u})})))});x.propTypes={photos:a.a.arrayOf(d).isRequired,direction:a.a.string,onClick:a.a.func,columns:a.a.oneOfType([a.a.func,a.a.number]),targetRowHeight:a.a.oneOfType([a.a.func,a.a.number]),limitNodeSearch:a.a.oneOfType([a.a.func,a.a.number]),margin:a.a.number,renderImage:a.a.func},x.defaultProps={margin:2,direction:"row",targetRowHeight:300},n.default=x}}]);