(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{531:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.App=t.ErrorPage=t.NotFound=void 0;var r=n(548),a=n(680),o=n(1),l=n(681),i=n(682);n(762);var u=function(){return o.createElement(r.Link,{to:"/r/itookapicture"},"Back to Photography")};t.NotFound=function(e){return o.createElement("div",{className:"centered-container"},o.createElement("h1",null,"The page you're looking for doesn't seem to exist 🦄"),o.createElement(u,null))},t.ErrorPage=function(e){return o.createElement("div",{className:"centered-container"},o.createElement("h1",null,"uh oh, something unexpected happened 🌈🦄"),o.createElement(u,null))};var c=function(e){var t=e.error;return o.createElement("div",{className:"centered-container"},o.createElement("h1",null,"Oops, an error occurred!"),o.createElement("p",null,"Here’s what we know…"),o.createElement("p",null,t&&t.toString()),o.createElement(u,null))},s=r.createHistory(a.createHashSource());t.App=function(){return o.createElement(l.ErrorBoundary,{FallbackComponent:c},o.createElement(r.LocationProvider,{history:s},o.createElement(r.Router,null,o.createElement(r.Redirect,{noThrow:!0,from:"/",to:"r/itookapicture"}),o.createElement(i.default,{path:"r/:subreddit"}),o.createElement(t.NotFound,{default:!0}))))}},670:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(76),o=n(531);a.render(r.createElement(o.App,null),document.getElementById("root"))},682:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function l(e){try{u(r.next(e))}catch(e){o(e)}}function i(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(l,i)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),i=n(683),u=n(684),c=n(756),s=n(757),d=n(758),f=n(531),h=n(760),p=n(761);t.default=function(e){var t=e.subreddit,n=l.useState([]),v=n[0],m=n[1],g=l.useState(!1),E=g[0],w=g[1],b=l.useState(""),y=b[0],k=b[1],_=l.useState(!1),P=_[0],S=_[1],j=l.useState(!1),O=j[0],N=j[1],D=l.useState(0),M=D[0],x=D[1],H=l.useState(!1),F=H[0],I=H[1],C=l.useCallback(function(){var e=!!s.SUBREDDITS.find(function(e){return e.value===t});return S(e),e},[t]),L=p.default(function(){return a(void 0,void 0,void 0,function(){var e,n,r;return o(this,function(a){switch(a.label){case 0:if(!t||!C())return[3,5];L(!0),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch("https://www.reddit.com/r/"+t+".json?after="+y)];case 2:if(!(e=a.sent()).ok)throw Error("fetch error");return[4,e.json()];case 3:return n=a.sent(),L(!1),r=h.filteredData(n.data.children),m(function(e){return e.concat(r)}),k(n.data.after),[3,5];case 4:return a.sent(),I(!0),[3,5];case 5:return[2]}})})}).setIsFetchingMore;l.useEffect(function(){a(void 0,void 0,void 0,function(){var e,n;return o(this,function(r){switch(r.label){case 0:return t&&C()?(w(!0),[4,fetch("https://www.reddit.com/r/"+t+".json")]):[3,3];case 1:return[4,r.sent().json()];case 2:e=r.sent(),w(!1),n=h.filteredData(e.data.children),m(n),k(e.data.after),r.label=3;case 3:return[2]}})})},[t,C]);var R=l.useCallback(function(e){N(!0),x(e)},[]);return F?l.createElement(f.ErrorPage,null):l.createElement("div",{className:"gallery"},l.createElement(s.default,null),P?l.createElement(l.Fragment,null,E&&l.createElement(d.default,null),!E&&v&&0==v.length&&l.createElement("div",{className:"centered-container"},l.createElement("h1",null,"No photos yet 🏖️ ")),!E&&v&&v.length>0&&l.createElement(i.default,{photos:v,renderImage:function(e){return l.createElement(c.default,{key:e.index,photo:e.photo,index:e.index,onClick:R})}})):l.createElement(f.NotFound,null),l.createElement(u.ModalGateway,null,O?l.createElement(u.Modal,{onClose:function(){N(!1)}},l.createElement(u.default,{currentIndex:M,views:v.map(function(e){return r(r({},e),{caption:e.title,src:e.url})})})):null))}},756:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(547),a=n(1);t.default=function(e){var t=e.photo,n=e.index,o=e.onClick,l=a.useState("loading"),i=l[0],u=l[1],c=t,s=c.url,d=c.width,f=c.height,h=c.alt,p=c.title,v=r.default({"img-container":!0,"load-error":"error"===i,loaded:"loaded"===i});return a.createElement("div",{className:v,onClick:function(){return o(n)}},a.createElement("div",{className:"content"},a.createElement("img",{src:s,height:f,width:d,alt:h,onLoad:function(){u("loaded")},onError:function(){u("error")}}),a.createElement("div",{className:"content-details"},a.createElement("span",null,p))))}},757:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.SUBREDDITS=void 0;var a=n(548),o=n(547),l=n(1);t.SUBREDDITS=[{value:"itookapicture",label:"Photography"},{value:"pic",label:"General"},{value:"foodporn",label:"Food"},{value:"DessertPorn",label:"Dessert"},{value:"cityporn",label:"City"},{value:"JapanPics",label:"Japan"},{value:"EarthPorn",label:"Earth"},{value:"lakeporn",label:"Lakes"},{value:"RoomPorn",label:"Room"},{value:"AbandonedPorn",label:"Abandoned"},{value:"waterporn",label:"Water"},{value:"WinterPorn",label:"Winter"},{value:"ImaginaryLeviathans",label:"Art"}];var i=function(e){return l.createElement(a.Link,r({},e,{getProps:function(e){var t=e.isCurrent;return{className:o.default({active:t})}}}))};t.default=l.memo(function(){return l.createElement("nav",{className:"nav-subreddit"},l.createElement("ul",null,t.SUBREDDITS.map(function(e){return l.createElement("li",{key:e.value},l.createElement(i,{"data-testid":e.value,to:"/r/"+e.value},e.label))})))})},758:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=n(759);t.default=function(){return r.createElement("div",{className:"loading-container"},r.createElement(a.default,{type:"bars",color:"#b9c8d0"}))}},760:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.filteredData=void 0;var a=n(765);t.filteredData=function(e){return e.filter(function(e){return null!=e.data.url.match(/\.(jpeg|jpg|gif|png)$/)&&!!e.data.preview}).map(function(e){var t={height:0,width:0},n=e.data.preview.images[0].resolutions.length,o="";e.data.preview.images[0].resolutions.length>4?(t={height:e.data.preview.images[0].resolutions[3].height,width:e.data.preview.images[0].resolutions[3].width},o=e.data.preview.images[0].resolutions[3].url):(t={height:e.data.preview.images[0].resolutions[n-1].height,width:e.data.preview.images[0].resolutions[n-1].width},o=e.data.preview.images[0].resolutions[n-1].url);var l=o.replace(/amp;/g,"");return r(r({},a.pick(e.data,"name","title")),{height:t.height,url:e.data.url,src:l,width:t.width})})}},761:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.default=function(e){var t=r.useState(!1),n=t[0],a=t[1];return r.useEffect(function(){var e=function(){var e="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,t=document.body,n=document.documentElement,r=Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),o=e+window.pageYOffset+500;a(o>=r)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}},[n]),r.useEffect(function(){n&&e()},[e,n]),{isFetchingMore:n,setIsFetchingMore:a}}},762:function(e,t,n){}},[[781,46,37,7,11,5,29,21,27,34,8,26,25,33,12,41,6,0,2,10,19,42,43,39,24,23,18,14,16,36,20,45,44,3,17,28,35,40,38,32,30,31,15,22,9,13,4]]]);