{"version":3,"sources":["webpack:///./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js","webpack:///./node_modules/react-full-screen/dist/index.js","webpack:///./node_modules/react-images/dist/react-images.es.js"],"names":["componentWillMount","state","this","constructor","getDerivedStateFromProps","props","setState","componentWillReceiveProps","nextProps","prevState","bind","componentWillUpdate","nextState","prevProps","__reactInternalSnapshotFlag","__reactInternalSnapshot","getSnapshotBeforeUpdate","polyfill","Component","prototype","isReactComponent","Error","foundWillMountName","foundWillReceivePropsName","foundWillUpdateName","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","UNSAFE_componentWillUpdate","componentName","displayName","name","newApiName","componentDidUpdate","maybeSnapshot","snapshot","call","__suppressDeprecationWarning","Object","defineProperty","exports","value","_createClass","defineProperties","target","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","_react","_react2","_interopRequireDefault","_propTypes2","_fscreen2","obj","__esModule","default","FullScreen","_Component","instance","TypeError","_classCallCheck","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","detectFullScreen","subClass","superClass","create","setPrototypeOf","_inherits","addEventListener","removeEventListener","handleProps","enabled","fullscreenElement","node","leaveFullScreen","enterFullScreen","onChange","fullscreenEnabled","requestFullscreen","exitFullscreen","_this2","className","push","createElement","join","ref","style","height","width","undefined","children","propTypes","isRequired","bool","func","defaultProps","classCallCheck","createClass","_extends","assign","arguments","source","hasOwnProperty","inherits","objectWithoutProperties","keys","indexOf","possibleConstructorReturn","Base","_ref","css","innerRef","Tag","tag","boxSizing","Button","Div","Img","Nav","Span","CLASS_PREFIX","arr","Array","isArray","_key","map","cn","isTouch","document","createEvent","e","componentBaseClassNames","Header","Footer","View","Track","Positioner","footerBaseClassName","Svg","size","role","viewBox","display","fill","stroke","strokeWidth","ChevronLeft","_ref2","_ref2$size","d","ChevronRight","_ref3","_ref3$size","Close","_ref4","_ref4$size","FullscreenEnter","_ref5","_ref5$size","FullscreenExit","_ref6","_ref6$size","headerBaseClassName","headerButtonCSS","alignItems","background","border","color","cursor","justifyContent","outline","padding","position","headerFullscreenCSS","headerCloseCSS","navigationItemCSS","align","borderRadius","fontSize","marginTop","top","transition","navigationPrevCSS","navigationNextCSS","getSource","data","isFullscreen","_data$source","src","fullscreen","regular","viewBaseClassName","carouselComponents","Container","getStyles","isModal","innerProps","components","container","caption","count","Caption","Count","FooterCaption","currentView","FooterCount","currentIndex","activeView","totalViews","views","getCloseLabel","getFullscreenLabel","modalProps","allowFullscreen","onClose","toggleFullscreen","FsIcon","CloseButton","FullscreenButton","onClick","title","HeaderClose","type","HeaderFullscreen","Navigation","showNavigationOnTouchDevice","NavigationPrev","_props$children","NavigationNext","_props$children2","formatters","index","alt","getAltText","maxHeight","maxWidth","userSelect","margin","modalComponents","Blanket","Dialog","removeFocusOn","defaultCarouselStyles","backgroundColor","flexDirection","footer","interactionIsIdle","bottom","flex","left","opacity","right","transform","zIndex","footerCaption","footerCount","flexShrink","marginLeft","header","paddingBottom","headerClose","headerFullscreen","navigation","navigationPrev","navigationNext","view","lineHeight","textAlign","defaultModalStyles","blanket","dialog","positioner","easing","Fade","component","onEntered","onExited","inProp","in","originalProps","fadeStyle","fadeTransition","entering","entered","exiting","transitionDuration","exit","appear","mountOnEnter","unmountOnExit","timeout","enter","status","SlideUp","slideStyle","slideTransition","closeOnBackdropClick","closeOnEsc","preventScroll","styles","backdropClassNames","Set","Modal","_initialiseProps","cacheComponents","isClosing","_components","_props","commonProps","getCommonProps","transitionIn","handleClose","carouselComponent","handleFullscreenChange","handleBackdropClick","modalDidMount","modalWillUnmount","handleKeyUp","storeFocus","restoreFocus","comps","event","_props2","allowClose","hasBackdropClassName","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","classList","Symbol","iterator","next","done","targetClass","has","err","return","base","custom","viewPagerStyles","frameStyles","defaultProps$1","getNextLabel","getPrevLabel","getNextTitle","getPrevTitle","hideControlsWhenIdle","trackProps","instant","swipe","trackBaseClassName","Carousel","_initialiseProps$1","Boolean","mounted","handleMouseActivity","focusViewFrame","cancel","frameProps","_state","getViewData","carouselProps","_props3","getContainer","renderHeader","getFrame","tabIndex","getTrackProps","onViewChange","handleViewChange","getTrack","renderNavigation","renderFooter","getFooter","frame","getHeader","track","hasPreviousView","infinite","hasNextView","_props4","getFormatters","activeElement","focus","prev","stopPropagation","clearTimeout","timer","setTimeout","indicies","_getFormatters","_components2","showPrev","showNext","_components3","_components4","_getFormatters2","FirstChild","toArray","ModalGateway","apply","window","body"],"mappings":"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","file":"main~62bec46e.69a96558cd82f345bf33.chunk.js","sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  }\n  // Binding \"this\" is important for shallow renderer support.\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(\n      prevProps,\n      prevState\n    );\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n}\n\n// React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (\n    typeof Component.getDerivedStateFromProps !== 'function' &&\n    typeof prototype.getSnapshotBeforeUpdate !== 'function'\n  ) {\n    return Component;\n  }\n\n  // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n  if (\n    foundWillMountName !== null ||\n    foundWillReceivePropsName !== null ||\n    foundWillUpdateName !== null\n  ) {\n    var componentName = Component.displayName || Component.name;\n    var newApiName =\n      typeof Component.getDerivedStateFromProps === 'function'\n        ? 'getDerivedStateFromProps()'\n        : 'getSnapshotBeforeUpdate()';\n\n    throw Error(\n      'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n        componentName +\n        ' uses ' +\n        newApiName +\n        ' but also contains the following legacy lifecycles:' +\n        (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') +\n        (foundWillReceivePropsName !== null\n          ? '\\n  ' + foundWillReceivePropsName\n          : '') +\n        (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') +\n        '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' +\n        'https://fb.me/react-async-component-lifecycle-hooks'\n    );\n  }\n\n  // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  }\n\n  // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error(\n        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'\n      );\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(\n      prevProps,\n      prevState,\n      maybeSnapshot\n    ) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag\n        ? this.__reactInternalSnapshot\n        : maybeSnapshot;\n\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component;\n}\n\nexport { polyfill };\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _fscreen = require(\"fscreen\");\n\nvar _fscreen2 = _interopRequireDefault(_fscreen);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FullScreen = function (_Component) {\n  _inherits(FullScreen, _Component);\n\n  function FullScreen(props) {\n    _classCallCheck(this, FullScreen);\n\n    var _this = _possibleConstructorReturn(this, (FullScreen.__proto__ || Object.getPrototypeOf(FullScreen)).call(this, props));\n\n    _this.detectFullScreen = _this.detectFullScreen.bind(_this);\n    return _this;\n  }\n\n  _createClass(FullScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      _fscreen2.default.addEventListener(\"fullscreenchange\", this.detectFullScreen);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      _fscreen2.default.removeEventListener(\"fullscreenchange\", this.detectFullScreen);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.handleProps(this.props);\n    }\n  }, {\n    key: \"handleProps\",\n    value: function handleProps(props) {\n      var enabled = _fscreen2.default.fullscreenElement === this.node;\n      if (enabled && !props.enabled) {\n        this.leaveFullScreen();\n      } else if (!enabled && props.enabled) {\n        this.enterFullScreen();\n      }\n    }\n  }, {\n    key: \"detectFullScreen\",\n    value: function detectFullScreen() {\n      if (this.props.onChange) {\n        this.props.onChange(_fscreen2.default.fullscreenElement === this.node);\n      }\n    }\n  }, {\n    key: \"enterFullScreen\",\n    value: function enterFullScreen() {\n      if (_fscreen2.default.fullscreenEnabled) {\n        _fscreen2.default.requestFullscreen(this.node);\n      }\n    }\n  }, {\n    key: \"leaveFullScreen\",\n    value: function leaveFullScreen() {\n      if (_fscreen2.default.fullscreenEnabled) {\n        _fscreen2.default.exitFullscreen();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var className = [\"fullscreen\"];\n      if (this.props.enabled) {\n        className.push(\"fullscreen-enabled\");\n      }\n\n      return _react2.default.createElement(\n        \"div\",\n        {\n          className: className.join(\" \"),\n          ref: function ref(node) {\n            return _this2.node = node;\n          },\n          style: this.props.enabled ? { height: \"100%\", width: \"100%\" } : undefined\n        },\n        this.props.children\n      );\n    }\n  }]);\n\n  return FullScreen;\n}(_react.Component);\n\nFullScreen.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  enabled: _propTypes2.default.bool.isRequired,\n  onChange: _propTypes2.default.func\n};\nFullScreen.defaultProps = {\n  enabled: false\n};\nexports.default = FullScreen;","import React, { cloneElement, Component, Children } from 'react';\nimport { findDOMNode, createPortal } from 'react-dom';\nimport glam from 'glam';\nimport rafScheduler from 'raf-schd';\nimport { ViewPager, Frame, Track, View as View$1 } from 'react-view-pager';\nimport ParseHtml from 'html-react-parser';\nimport { FocusOn } from 'react-focus-on';\nimport Fullscreen from 'react-full-screen';\nimport focusStore from 'a11y-focus-store';\nimport { Transition, TransitionGroup } from 'react-transition-group';\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar Base = function Base(_ref) {\n  var css = _ref.css,\n      innerRef = _ref.innerRef,\n      Tag = _ref.tag,\n      props = objectWithoutProperties(_ref, ['css', 'innerRef', 'tag']);\n  return glam(Tag, _extends({\n    ref: innerRef,\n    css: _extends({\n      boxSizing: 'border-box'\n    }, css)\n  }, props));\n};\nvar Button = function Button(props) {\n  return glam(Base, _extends({ tag: 'button' }, props));\n};\nvar Div = function Div(props) {\n  return glam(Base, _extends({ tag: 'div' }, props));\n};\nvar Img = function Img(props) {\n  return glam(Base, _extends({ tag: 'img' }, props));\n};\nvar Nav = function Nav(props) {\n  return glam(Base, _extends({ tag: 'nav' }, props));\n};\nvar Span = function Span(props) {\n  return glam(Base, _extends({ tag: 'span' }, props));\n};\n\n// ==============================\n// Class Name Prefixer\n// ==============================\n\nvar CLASS_PREFIX = 'react-images';\n\n/**\r\n String representation of component state for styling with class names.\r\n\r\n Expects an array of strings OR a string/object pair:\r\n - className(['comp', 'comp-arg', 'comp-arg-2'])\r\n   @returns 'react-images__comp react-images__comp-arg react-images__comp-arg-2'\r\n - className('comp', { some: true, state: false })\r\n   @returns 'react-images__comp react-images__comp--some'\r\n*/\nfunction className(name, state) {\n  var arr = Array.isArray(name) ? name : [name];\n\n  // loop through state object, remove falsey values and combine with name\n  if (state && typeof name === 'string') {\n    for (var _key in state) {\n      if (state.hasOwnProperty(_key) && state[_key]) {\n        arr.push(name + '--' + _key);\n      }\n    }\n  }\n\n  // prefix everything and return a string\n  return arr.map(function (cn) {\n    return CLASS_PREFIX + '__' + cn;\n  }).join(' ');\n}\n\n// ==============================\n// Touch Capability Detector\n// ==============================\n\nfunction isTouch() {\n  try {\n    document.createEvent('TouchEvent');\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar containerCSS = function containerCSS(_ref) {\n  var isFullscreen = _ref.isFullscreen;\n  return {\n    backgroundColor: isFullscreen ? 'black' : null,\n    display: 'flex ',\n    flexDirection: 'column',\n    height: '100%'\n  };\n};\n\nvar Container = function Container(props) {\n  var children = props.children,\n      getStyles = props.getStyles,\n      isFullscreen = props.isFullscreen,\n      isModal = props.isModal,\n      innerProps = props.innerProps;\n\n  return glam(\n    Div,\n    _extends({\n      css: getStyles('container', props),\n      className: className('container', { isFullscreen: isFullscreen, isModal: isModal })\n    }, innerProps),\n    children\n  );\n};\n\nvar smallDevice = '@media (max-width: 769px)';\n\n/**\r\n * Used to get the HTML class to select specific components.\r\n * We call `className()` in utils with each of these to get the full className,\r\n * with prefixes.\r\n */\nvar componentBaseClassNames = {\n  Header: 'header',\n  Footer: 'footer',\n  View: 'view',\n  Track: 'track',\n  Positioner: 'positioner'\n};\n\nvar footerCSS = function footerCSS(_ref) {\n  var isModal = _ref.isModal,\n      interactionIsIdle = _ref.interactionIsIdle;\n  return defineProperty({\n    alignItems: 'top',\n    bottom: isModal ? 0 : null,\n    color: isModal ? 'rgba(255, 255, 255, 0.9)' : '#666',\n    display: 'flex ',\n    flex: '0 0 auto',\n    fontSize: 13,\n    justifyContent: 'space-between',\n    left: isModal ? 0 : null,\n    opacity: interactionIsIdle && isModal ? 0 : 1,\n    padding: isModal ? '30px 20px 20px' : '10px 0',\n    position: isModal ? 'absolute' : null,\n    right: isModal ? 0 : null,\n    transform: isModal ? 'translateY(' + (interactionIsIdle ? 10 : 0) + 'px)' : null,\n    transition: 'opacity 300ms, transform 300ms',\n    zIndex: isModal ? 1 : null,\n\n    '& *:focus': {\n      outline: '1.5px solid orange'\n    }\n\n  }, smallDevice, {\n    padding: isModal ? '20px 15px 15px' : '5px 0'\n  });\n};\n\nvar footerBaseClassName = componentBaseClassNames.Footer;\n\nvar Footer = function Footer(props) {\n  var components = props.components,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps,\n      isFullscreen = props.isFullscreen,\n      isModal = props.isModal;\n\n\n  var style = isModal ? { background: 'linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.33))' } : null;\n\n  var state = { isFullscreen: isFullscreen, isModal: isModal };\n  var cn = {\n    container: className(footerBaseClassName, state),\n    caption: className('footer__caption', state),\n    count: className('footer__count', state)\n  };\n  var css = {\n    container: getStyles(footerBaseClassName, props),\n    caption: getStyles('footerCaption', props),\n    count: getStyles('footerCount', props)\n  };\n  var Caption = components.Caption,\n      Count = components.Count;\n\n\n  return glam(\n    Div,\n    _extends({\n      css: css.container,\n      className: cn.container\n      // TODO glam prefixer fails on gradients\n      // https://github.com/threepointone/glam/issues/35\n      , style: style\n    }, innerProps),\n    glam(Caption, props),\n    glam(Count, props)\n  );\n};\n\n// ==============================\n// Inner Elements\n// ==============================\n\nvar footerCaptionCSS = function footerCaptionCSS() {\n  return {};\n};\n\nvar FooterCaption = function FooterCaption(props) {\n  var currentView = props.currentView,\n      getStyles = props.getStyles,\n      isFullscreen = props.isFullscreen,\n      isModal = props.isModal;\n  var caption = currentView.caption;\n\n  var state = { isFullscreen: isFullscreen, isModal: isModal };\n\n  return glam(\n    Span,\n    {\n      css: getStyles('footerCaption', props),\n      className: className('footer__caption', state)\n    },\n    typeof caption === 'string' ? ParseHtml('<span>' + caption + '</span>') : caption\n  );\n};\n\nvar footerCountCSS = function footerCountCSS() {\n  return { flexShrink: 0, marginLeft: '1em' };\n};\n\nvar FooterCount = function FooterCount(props) {\n  var currentIndex = props.currentIndex,\n      getStyles = props.getStyles,\n      isFullscreen = props.isFullscreen,\n      isModal = props.isModal,\n      views = props.views;\n\n  var state = { isFullscreen: isFullscreen, isModal: isModal };\n  var activeView = currentIndex + 1;\n  var totalViews = views.length;\n\n  if (!activeView || !totalViews) return null;\n\n  return glam(\n    Span,\n    {\n      css: getStyles('footerCount', props),\n      className: className('footer__count', state)\n    },\n    activeView,\n    ' of ',\n    totalViews\n  );\n};\n\nvar Svg = function Svg(_ref) {\n  var size = _ref.size,\n      props = objectWithoutProperties(_ref, ['size']);\n  return glam('svg', _extends({\n    role: 'presentation',\n    viewBox: '0 0 24 24',\n    css: {\n      display: 'inline-block',\n      fill: 'currentColor',\n      height: size,\n      stroke: 'currentColor',\n      strokeWidth: 0,\n      width: size\n    }\n  }, props));\n};\n\nvar ChevronLeft = function ChevronLeft(_ref2) {\n  var _ref2$size = _ref2.size,\n      size = _ref2$size === undefined ? 32 : _ref2$size,\n      props = objectWithoutProperties(_ref2, ['size']);\n  return glam(\n    Svg,\n    _extends({ size: size }, props),\n    glam('path', { d: 'M15.422 16.078l-1.406 1.406-6-6 6-6 1.406 1.406-4.594 4.594z' })\n  );\n};\nvar ChevronRight = function ChevronRight(_ref3) {\n  var _ref3$size = _ref3.size,\n      size = _ref3$size === undefined ? 32 : _ref3$size,\n      props = objectWithoutProperties(_ref3, ['size']);\n  return glam(\n    Svg,\n    _extends({ size: size }, props),\n    glam('path', { d: 'M9.984 6l6 6-6 6-1.406-1.406 4.594-4.594-4.594-4.594z' })\n  );\n};\nvar Close = function Close(_ref4) {\n  var _ref4$size = _ref4.size,\n      size = _ref4$size === undefined ? 32 : _ref4$size,\n      props = objectWithoutProperties(_ref4, ['size']);\n  return glam(\n    Svg,\n    _extends({ size: size }, props),\n    glam('path', { d: 'M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z' })\n  );\n};\nvar FullscreenEnter = function FullscreenEnter(_ref5) {\n  var _ref5$size = _ref5.size,\n      size = _ref5$size === undefined ? 32 : _ref5$size,\n      props = objectWithoutProperties(_ref5, ['size']);\n  return glam(\n    Svg,\n    _extends({ size: size }, props),\n    glam('path', { d: 'M14.016 5.016h4.969v4.969h-1.969v-3h-3v-1.969zM17.016 17.016v-3h1.969v4.969h-4.969v-1.969h3zM5.016 9.984v-4.969h4.969v1.969h-3v3h-1.969zM6.984 14.016v3h3v1.969h-4.969v-4.969h1.969z' })\n  );\n};\nvar FullscreenExit = function FullscreenExit(_ref6) {\n  var _ref6$size = _ref6.size,\n      size = _ref6$size === undefined ? 32 : _ref6$size,\n      props = objectWithoutProperties(_ref6, ['size']);\n  return glam(\n    Svg,\n    _extends({ size: size }, props),\n    glam('path', { d: 'M15.984 8.016h3v1.969h-4.969v-4.969h1.969v3zM14.016 18.984v-4.969h4.969v1.969h-3v3h-1.969zM8.016 8.016v-3h1.969v4.969h-4.969v-1.969h3zM5.016 15.984v-1.969h4.969v4.969h-1.969v-3h-3z' })\n  );\n};\n\nvar headerCSS = function headerCSS(_ref) {\n  var interactionIsIdle = _ref.interactionIsIdle;\n  return {\n    alignItems: 'center',\n    display: 'flex ',\n    flex: '0 0 auto',\n    justifyContent: 'space-between',\n    opacity: interactionIsIdle ? 0 : 1,\n    padding: 10,\n    paddingBottom: 20,\n    position: 'absolute',\n    transform: 'translateY(' + (interactionIsIdle ? -10 : 0) + 'px)',\n    transition: 'opacity 300ms, transform 300ms',\n    top: 0,\n    left: 0,\n    right: 0,\n    zIndex: 1,\n    '& *:focus': {\n      outline: '1.5px solid orange'\n    }\n  };\n};\n\nvar headerBaseClassName = componentBaseClassNames.Header;\n\nvar Header = function Header(props) {\n  var components = props.components,\n      getStyles = props.getStyles,\n      getCloseLabel = props.getCloseLabel,\n      getFullscreenLabel = props.getFullscreenLabel,\n      innerProps = props.innerProps,\n      isModal = props.isModal,\n      modalProps = props.modalProps;\n\n\n  if (!isModal) return null;\n\n  var allowFullscreen = modalProps.allowFullscreen,\n      isFullscreen = modalProps.isFullscreen,\n      onClose = modalProps.onClose,\n      toggleFullscreen = modalProps.toggleFullscreen;\n\n  var FsIcon = isFullscreen ? FullscreenExit : FullscreenEnter;\n  var CloseButton = components.CloseButton,\n      FullscreenButton = components.FullscreenButton;\n\n  var state = { isFullscreen: isFullscreen, isModal: isModal };\n\n  return glam(\n    Div,\n    _extends({\n      css: getStyles(headerBaseClassName, props),\n      className: className(headerBaseClassName, state)\n      // TODO glam prefixer fails on gradients\n      // https://github.com/threepointone/glam/issues/35\n      , style: {\n        background: 'linear-gradient(rgba(0,0,0,0.33), rgba(0,0,0,0))'\n      }\n    }, innerProps),\n    glam('span', null),\n    glam(\n      'span',\n      null,\n      allowFullscreen ? glam(\n        FullscreenButton,\n        {\n          getStyles: getStyles,\n          innerProps: {\n            onClick: toggleFullscreen,\n            title: getFullscreenLabel(state)\n          }\n        },\n        glam(FsIcon, { size: 32 })\n      ) : null,\n      glam(\n        CloseButton,\n        {\n          getStyles: getStyles,\n          innerProps: {\n            onClick: onClose,\n            title: getCloseLabel(state)\n          }\n        },\n        glam(Close, { size: 32 })\n      )\n    )\n  );\n};\n\n// ==============================\n// Header Buttons\n// ==============================\n\nvar headerButtonCSS = function headerButtonCSS() {\n  return {\n    alignItems: 'center',\n    background: 0,\n    border: 0,\n    color: 'rgba(255, 255, 255, 0.75)',\n    cursor: 'pointer',\n    display: 'inline-flex ',\n    height: 44,\n    justifyContent: 'center',\n    outline: 0,\n    padding: 0,\n    position: 'relative',\n    width: 44,\n\n    '&:hover': {\n      color: 'white'\n    }\n  };\n};\n\nvar headerFullscreenCSS = headerButtonCSS;\nvar HeaderFullscreen = function HeaderFullscreen(props) {\n  var children = props.children,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n\n\n  return glam(\n    Button,\n    _extends({\n      css: getStyles('headerFullscreen', props),\n      className: className(['header_button', 'header_button--fullscreen']),\n      type: 'button'\n    }, innerProps),\n    children\n  );\n};\n\nvar headerCloseCSS = headerButtonCSS;\nvar HeaderClose = function HeaderClose(props) {\n  var children = props.children,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n\n\n  return glam(\n    Button,\n    _extends({\n      css: getStyles('headerClose', props),\n      className: className(['header_button', 'header_button--close']),\n      type: 'button'\n    }, innerProps),\n    children\n  );\n};\n\n// ==============================\n// Navigation\n// ==============================\n\nvar navigationCSS = function navigationCSS(_ref) {\n  var interactionIsIdle = _ref.interactionIsIdle;\n  return {\n    display: 'flex ',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    opacity: interactionIsIdle ? 0 : 1,\n    transition: 'opacity 300ms',\n    '& *:focus': {\n      outline: '1.5px solid orange'\n    }\n  };\n};\n\nvar Navigation = function Navigation(props) {\n  var children = props.children,\n      getStyles = props.getStyles,\n      isFullscreen = props.isFullscreen,\n      isModal = props.isModal,\n      showNavigationOnTouchDevice = props.showNavigationOnTouchDevice;\n\n  return !isTouch() || isTouch() && showNavigationOnTouchDevice ? glam(\n    Nav,\n    {\n      css: getStyles('navigation', props),\n      className: className('navigation', { isFullscreen: isFullscreen, isModal: isModal })\n    },\n    children\n  ) : null;\n};\n\n// ==============================\n// Nav Item\n// ==============================\n\nvar BUTTON_SIZE = 50;\n\nvar navigationItemCSS = function navigationItemCSS(_ref2) {\n  var _ref3;\n\n  var align = _ref2.align;\n  return _ref3 = {\n    alignItems: 'center',\n    background: 'rgba(255, 255, 255, 0.2)',\n    border: 0,\n    borderRadius: '50%',\n    color: 'white',\n    cursor: 'pointer',\n    display: 'flex ',\n    fontSize: 'inherit',\n    height: BUTTON_SIZE,\n    justifyContent: 'center',\n    marginTop: -(BUTTON_SIZE / 2),\n    outline: 0,\n    position: 'absolute',\n    top: '50%',\n    transition: 'background-color 200ms',\n    width: BUTTON_SIZE\n  }, defineProperty(_ref3, align, 20), defineProperty(_ref3, '&:hover', {\n    background: 'rgba(255, 255, 255, 0.3)'\n  }), defineProperty(_ref3, '&:active', {\n    background: 'rgba(255, 255, 255, 0.2)'\n  }), _ref3;\n};\n\nvar navigationPrevCSS = navigationItemCSS;\nvar NavigationPrev = function NavigationPrev(props) {\n  var _props$children = props.children,\n      children = _props$children === undefined ? glam(ChevronLeft, { size: 48 }) : _props$children,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n\n\n  return glam(\n    Button,\n    _extends({\n      type: 'button',\n      css: getStyles('navigationPrev', props)\n    }, innerProps),\n    children\n  );\n};\n\nvar navigationNextCSS = navigationItemCSS;\nvar NavigationNext = function NavigationNext(props) {\n  var _props$children2 = props.children,\n      children = _props$children2 === undefined ? glam(ChevronRight, { size: 48 }) : _props$children2,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps;\n\n\n  return glam(\n    Button,\n    _extends({\n      type: 'button',\n      css: getStyles('navigationNext', props)\n    }, innerProps),\n    children\n  );\n};\n\n// ==============================\n// Blanket\n// ==============================\n\nvar blanketCSS = function blanketCSS(_ref) {\n  var isFullscreen = _ref.isFullscreen;\n  return {\n    backgroundColor: isFullscreen ? 'black' : 'rgba(0, 0, 0, 0.8)',\n    bottom: 0,\n    left: 0,\n    position: 'fixed',\n    right: 0,\n    top: 0,\n    zIndex: 1199\n  };\n};\n\nvar Blanket = function Blanket(props) {\n  var getStyles = props.getStyles,\n      innerProps = props.innerProps,\n      isFullscreen = props.isFullscreen;\n\n  return glam(Div, _extends({\n    css: getStyles('blanket', props),\n    className: className('blanket', { isFullscreen: isFullscreen })\n  }, innerProps));\n};\n\n// ==============================\n// Positioner\n// ==============================\n\nvar positionerCSS = function positionerCSS() {\n  return {\n    alignItems: 'center',\n    bottom: 0,\n    display: 'flex ',\n    justifyContent: 'center',\n    left: 0,\n    position: 'fixed',\n    right: 0,\n    top: 0,\n    zIndex: 1200\n  };\n};\n\nvar Positioner = function Positioner(props) {\n  var children = props.children,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps,\n      isFullscreen = props.isFullscreen;\n\n  return glam(\n    Div,\n    _extends({\n      css: getStyles(componentBaseClassNames.Positioner, props),\n      className: className(componentBaseClassNames.Positioner, { isFullscreen: isFullscreen })\n    }, innerProps),\n    children\n  );\n};\n\n// ==============================\n// Dialog\n// ==============================\n\nvar dialogCSS = function dialogCSS() {\n  return {\n    width: '100%'\n  };\n};\n\nvar Dialog = function Dialog(props) {\n  var children = props.children,\n      getStyles = props.getStyles,\n      innerProps = props.innerProps,\n      isFullscreen = props.isFullscreen,\n      removeFocusOn = props.removeFocusOn;\n\n\n  return removeFocusOn ? glam(\n    Div,\n    _extends({\n      css: getStyles('dialog', props),\n      className: className('dialog', { isFullscreen: isFullscreen })\n    }, innerProps),\n    children\n  ) : glam(\n    FocusOn,\n    null,\n    glam(\n      Div,\n      _extends({\n        css: getStyles('dialog', props),\n        className: className('dialog', { isFullscreen: isFullscreen })\n      }, innerProps),\n      children\n    )\n  );\n};\n\nfunction getSource(_ref) {\n  var data = _ref.data,\n      isFullscreen = _ref.isFullscreen;\n  var _data$source = data.source,\n      source = _data$source === undefined ? data.src : _data$source;\n\n  if (typeof source === 'string') return source;\n\n  return isFullscreen ? source.fullscreen : source.regular;\n}\n\nvar viewCSS = function viewCSS() {\n  return {\n    lineHeight: 0,\n    position: 'relative',\n    textAlign: 'center'\n  };\n};\n\nvar viewBaseClassName = componentBaseClassNames.View;\n\nvar View = function View(props) {\n  var data = props.data,\n      formatters = props.formatters,\n      getStyles = props.getStyles,\n      index = props.index,\n      isFullscreen = props.isFullscreen,\n      isModal = props.isModal;\n\n  var innerProps = {\n    alt: formatters.getAltText({ data: data, index: index }),\n    src: getSource({ data: data, isFullscreen: isFullscreen })\n  };\n\n  return glam(\n    Div,\n    {\n      css: getStyles(viewBaseClassName, props),\n      className: className(viewBaseClassName, { isFullscreen: isFullscreen, isModal: isModal })\n    },\n    glam(Img, _extends({}, innerProps, {\n      className: className('view-image', { isFullscreen: isFullscreen, isModal: isModal }),\n      css: {\n        height: 'auto',\n        maxHeight: '100%',\n        maxWidth: '100%',\n        userSelect: 'none',\n        margin: 'auto'\n      }\n    }))\n  );\n};\n\nvar carouselComponents = {\n  Container: Container,\n  Footer: Footer,\n  FooterCaption: FooterCaption,\n  FooterCount: FooterCount,\n  Header: Header,\n  HeaderClose: HeaderClose,\n  HeaderFullscreen: HeaderFullscreen,\n  Navigation: Navigation,\n  NavigationPrev: NavigationPrev,\n  NavigationNext: NavigationNext,\n  View: View\n};\n\nvar defaultCarouselComponents = function defaultCarouselComponents(providedComponents) {\n  return _extends({}, carouselComponents, providedComponents);\n};\n\n// ==============================\n// Modal\n// ==============================\n\nvar modalComponents = {\n  Blanket: Blanket,\n  Positioner: Positioner,\n  Dialog: Dialog\n};\n\nvar defaultModalComponents = function defaultModalComponents(providedComponents) {\n  return _extends({}, modalComponents, providedComponents);\n};\n\nvar defaultCarouselStyles = {\n  container: containerCSS,\n  footer: footerCSS,\n  footerCaption: footerCaptionCSS,\n  footerCount: footerCountCSS,\n  header: headerCSS,\n  headerClose: headerCloseCSS,\n  headerFullscreen: headerFullscreenCSS,\n  navigation: navigationCSS,\n  navigationPrev: navigationPrevCSS,\n  navigationNext: navigationNextCSS,\n  view: viewCSS\n};\nvar defaultModalStyles = {\n  blanket: blanketCSS,\n  dialog: dialogCSS,\n  positioner: positionerCSS\n};\n\nvar easing = 'cubic-bezier(0.23, 1, 0.32, 1)'; // easeOutQuint\nvar verticalOffset = 40;\n\n// ==============================\n// Fade\n// ==============================\n\nvar Fade = function Fade(_ref) {\n  var Tag = _ref.component,\n      onEntered = _ref.onEntered,\n      onExited = _ref.onExited,\n      inProp = _ref.in,\n      originalProps = _ref.innerProps,\n      props = objectWithoutProperties(_ref, ['component', 'onEntered', 'onExited', 'in', 'innerProps']);\n\n  var enter = 300;\n  var exit = 500;\n  var fadeStyle = {\n    transition: 'opacity 200ms',\n    opacity: 0\n  };\n  var fadeTransition = {\n    entering: { opacity: 0 },\n    entered: { opacity: 1 },\n    exiting: { opacity: 0, transitionDuration: exit + 'ms' }\n  };\n\n  return React.createElement(\n    Transition,\n    {\n      appear: true,\n      mountOnEnter: true,\n      unmountOnExit: true,\n      onEntered: onEntered,\n      onExited: onExited,\n      key: 'fade',\n      'in': inProp,\n      timeout: { enter: enter, exit: exit }\n    },\n    function (status) {\n      var innerProps = _extends({}, originalProps, {\n        style: _extends({}, fadeStyle, fadeTransition[status])\n      });\n\n      if (status === 'exited') return null;\n\n      return React.createElement(Tag, _extends({ innerProps: innerProps }, props));\n    }\n  );\n};\nvar SlideUp = function SlideUp(_ref2) {\n  var Tag = _ref2.component,\n      onEntered = _ref2.onEntered,\n      onExited = _ref2.onExited,\n      inProp = _ref2.in,\n      originalProps = _ref2.innerProps,\n      props = objectWithoutProperties(_ref2, ['component', 'onEntered', 'onExited', 'in', 'innerProps']);\n\n  var enter = 300;\n  var exit = 500;\n  var restingTransform = 'translate3d(0, 0, 0)';\n  var slideStyle = {\n    transition: 'transform ' + enter + 'ms ' + easing + ', opacity ' + enter + 'ms ' + easing,\n    transform: restingTransform\n  };\n  var slideTransition = {\n    entering: {\n      opacity: 0,\n      transform: 'translate3d(0, ' + verticalOffset + 'px, 0) scale(0.9)'\n    },\n    entered: {\n      opacity: 1,\n      transform: restingTransform\n    },\n    exiting: {\n      opacity: 0,\n      transform: 'translate3d(0, ' + verticalOffset + 'px, 0) scale(0.9)',\n      transition: 'transform ' + exit + 'ms ' + easing + ', opacity ' + exit + 'ms ' + easing\n    }\n  };\n\n  return React.createElement(\n    Transition,\n    {\n      appear: true,\n      'in': inProp,\n      mountOnEnter: true,\n      onEntered: onEntered,\n      onExited: onExited,\n      timeout: { enter: enter, exit: exit },\n      unmountOnExit: true\n    },\n    function (status) {\n      if (status === 'exited') return null;\n\n      var innerProps = _extends({}, originalProps, {\n        style: _extends({}, slideStyle, slideTransition[status])\n      });\n\n      return React.createElement(Tag, _extends({ innerProps: innerProps }, props));\n    }\n  );\n};\n\nvar defaultProps = {\n  allowFullscreen: !isTouch(),\n  closeOnBackdropClick: true,\n  closeOnEsc: true,\n  preventScroll: true,\n  styles: {}\n};\n\n/** Classes that when clicked on, close the backdrop */\nvar backdropClassNames = new Set([componentBaseClassNames.View, componentBaseClassNames.Header, componentBaseClassNames.Footer, componentBaseClassNames.Track, componentBaseClassNames.Positioner].map(className));\n\nvar Modal = function (_Component) {\n  inherits(Modal, _Component);\n\n  // TODO\n  function Modal(props) {\n    classCallCheck(this, Modal);\n\n    var _this = possibleConstructorReturn(this, (Modal.__proto__ || Object.getPrototypeOf(Modal)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.cacheComponents(props.components);\n\n    _this.state = { isFullscreen: false, isClosing: false };\n    return _this;\n  }\n\n  createClass(Modal, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.components !== this.props.components) {\n        this.cacheComponents(prevProps.components);\n      }\n    }\n\n    // emulate `componentDidMount` & `componentWillUnmount`\n    // called on complete of enter & exit transitions respectively\n\n  }, {\n    key: 'getCommonProps',\n    value: function getCommonProps() {\n      var isFullscreen = this.state.isFullscreen;\n\n\n      return {\n        getStyles: this.getStyles,\n        isFullscreen: isFullscreen,\n        modalProps: this.props\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _components = this.components,\n          Blanket = _components.Blanket,\n          Positioner = _components.Positioner,\n          Dialog = _components.Dialog;\n      var _props = this.props,\n          allowFullscreen = _props.allowFullscreen,\n          children = _props.children;\n      var isFullscreen = this.state.isFullscreen;\n\n      var commonProps = this.commonProps = this.getCommonProps();\n\n      // $FlowFixMe\n      var transitionIn = this.props.in;\n\n      // forward props to modal for use in internal components\n      var modalProps = {\n        allowFullscreen: allowFullscreen,\n        isFullscreen: isFullscreen,\n        onClose: this.handleClose,\n        preventScroll: this.preventScroll,\n        toggleFullscreen: this.toggleFullscreen\n      };\n\n      // augment user carousel with modal props\n      // $FlowFixMe\n      var carouselComponent = cloneElement(children, {\n        isModal: true,\n        modalProps: modalProps\n      });\n\n      return glam(\n        Fullscreen,\n        { enabled: isFullscreen, onChange: this.handleFullscreenChange },\n        glam(Fade, _extends({}, commonProps, { component: Blanket, 'in': transitionIn })),\n        glam(\n          SlideUp,\n          _extends({}, commonProps, {\n            component: Positioner,\n            'in': transitionIn,\n            innerProps: {\n              onClick: this.state.isClosing ? null : this.handleBackdropClick\n            },\n            onEntered: this.modalDidMount,\n            onExited: this.modalWillUnmount\n          }),\n          glam(\n            Dialog,\n            _extends({ removeFocusOn: this.state.isClosing }, commonProps),\n            carouselComponent\n          )\n        )\n      );\n    }\n  }]);\n  return Modal;\n}(Component);\n\nModal.defaultProps = defaultProps;\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.modalDidMount = function () {\n    document.addEventListener('keyup', _this2.handleKeyUp);\n    focusStore.storeFocus();\n  };\n\n  this.modalWillUnmount = function () {\n    document.removeEventListener('keyup', _this2.handleKeyUp);\n    focusStore.restoreFocus();\n    _this2.setState({ isClosing: false });\n  };\n\n  this.cacheComponents = function (comps) {\n    _this2.components = defaultModalComponents(comps);\n  };\n\n  this.handleFullscreenChange = function (isFullscreen) {\n    _this2.setState({ isFullscreen: isFullscreen });\n  };\n\n  this.handleKeyUp = function (event) {\n    var _props2 = _this2.props,\n        allowFullscreen = _props2.allowFullscreen,\n        closeOnEsc = _props2.closeOnEsc;\n    var isFullscreen = _this2.state.isFullscreen;\n\n    var allowClose = event.key === 'Escape' && closeOnEsc && !isFullscreen;\n\n    // toggle fullscreen\n    if (allowFullscreen && event.key === 'f') {\n      _this2.toggleFullscreen();\n    }\n\n    // close on escape when not fullscreen\n    if (allowClose) _this2.handleClose(event);\n  };\n\n  this.handleBackdropClick = function (event) {\n    var hasBackdropClassName = false;\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = event.target.classList[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var targetClass = _step.value;\n\n        if (backdropClassNames.has(targetClass)) {\n          hasBackdropClassName = true;\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    if (!hasBackdropClassName || !_this2.props.closeOnBackdropClick) {\n      return;\n    }\n\n    _this2.handleClose(event);\n  };\n\n  this.toggleFullscreen = function () {\n    _this2.setState(function (state) {\n      return { isFullscreen: !state.isFullscreen };\n    });\n  };\n\n  this.handleClose = function (event) {\n    var onClose = _this2.props.onClose;\n    var isFullscreen = _this2.state.isFullscreen;\n\n\n    _this2.setState({ isClosing: true });\n\n    // force exit fullscreen mode on close\n    if (isFullscreen) {\n      _this2.toggleFullscreen();\n    }\n\n    // call the consumer's onClose func\n    onClose(event);\n  };\n\n  this.getStyles = function (key, props) {\n    var base = defaultModalStyles[key](props);\n    base.boxSizing = 'border-box';\n    var custom = _this2.props.styles[key];\n    return custom ? custom(base, props) : base;\n  };\n};\n\n// ==============================\n// Navigation\n// ==============================\n\n/* ARIA label for the next button */\n\n\n// NOTE: props aren't used by default for some getters but consumers may need\n// them, this needs to be reflected in the flow type.\n\n/* eslint-disable no-unused-vars */\n\nfunction getNextLabel(_ref) {\n  var currentIndex = _ref.currentIndex,\n      views = _ref.views;\n\n  return 'Show slide ' + (currentIndex + 2) + ' of ' + views.length;\n}\n\n/* ARIA label for the previous button */\nfunction getPrevLabel(_ref2) {\n  var currentIndex = _ref2.currentIndex,\n      views = _ref2.views;\n\n  return 'Show slide ' + currentIndex + ' of ' + views.length;\n}\n\n/* HTML title for the next button */\nfunction getNextTitle(props) {\n  return 'Next (right arrow)';\n}\n\n/* HTML title for the previous button */\nfunction getPrevTitle(props) {\n  return 'Previous (left arrow)';\n}\n\n// ==============================\n// Header\n// ==============================\n\n/* ARIA label for the close button */\nfunction getCloseLabel(props) {\n  return 'Close (esc)';\n}\n/* ARIA label for the fullscreen button */\nfunction getFullscreenLabel(_ref3) {\n  var isFullscreen = _ref3.isFullscreen;\n\n  return isFullscreen ? 'Exit fullscreen (f)' : 'Enter fullscreen (f)';\n}\n\n// ==============================\n// View\n// ==============================\n\n/* alt text for each image in the carousel */\nfunction getAltText(_ref4) {\n  var data = _ref4.data,\n      index = _ref4.index;\n\n  if (data.caption) return data.caption;\n\n  return 'Image ' + (index + 1);\n}\n\n// ==============================\n// Exports\n// ==============================\n\nvar formatters = {\n  getAltText: getAltText,\n  getNextLabel: getNextLabel,\n  getPrevLabel: getPrevLabel,\n  getNextTitle: getNextTitle,\n  getPrevTitle: getPrevTitle,\n  getCloseLabel: getCloseLabel,\n  getFullscreenLabel: getFullscreenLabel\n};\n\nvar viewPagerStyles = {\n  flex: '1 1 auto',\n  position: 'relative'\n};\nvar frameStyles = { outline: 0 };\n\nvar defaultProps$1 = {\n  currentIndex: 0,\n  formatters: formatters,\n  hideControlsWhenIdle: 3000,\n  showNavigationOnTouchDevice: false,\n  styles: {},\n  trackProps: {\n    instant: !isTouch(),\n    swipe: 'touch'\n  }\n};\n\nvar trackBaseClassName = componentBaseClassNames.Track;\n\nvar Carousel = function (_Component) {\n  inherits(Carousel, _Component);\n\n  function Carousel(props) {\n    classCallCheck(this, Carousel);\n\n    var _this = possibleConstructorReturn(this, (Carousel.__proto__ || Object.getPrototypeOf(Carousel)).call(this, props));\n\n    _initialiseProps$1.call(_this);\n\n    _this.cacheComponents(props.components);\n\n    _this.state = {\n      currentIndex: props.currentIndex,\n      interactionIsIdle: isTouch()\n    };\n    return _this;\n  } // TODO\n\n\n  createClass(Carousel, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          hideControlsWhenIdle = _props.hideControlsWhenIdle,\n          modalProps = _props.modalProps;\n\n      var isModal = Boolean(modalProps);\n\n      this.mounted = true;\n\n      if (hideControlsWhenIdle && this.container) {\n        this.container.addEventListener('mousedown', this.handleMouseActivity);\n        this.container.addEventListener('mousemove', this.handleMouseActivity);\n        this.container.addEventListener('touchmove', this.handleMouseActivity);\n      }\n      if (isModal) {\n        this.focusViewFrame();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.components !== this.props.components) {\n        this.cacheComponents(prevProps.components);\n      }\n\n      if (this.props.currentIndex !== prevProps.currentIndex) {\n        this.setState({ currentIndex: this.props.currentIndex });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.mounted = false;\n\n      if (this.props.hideControlsWhenIdle && this.container) {\n        this.container.removeEventListener('mousedown', this.handleMouseActivity);\n        this.container.removeEventListener('mousemove', this.handleMouseActivity);\n        this.container.removeEventListener('touchmove', this.handleMouseActivity);\n        this.handleMouseActivity.cancel();\n      }\n    }\n\n    // ==============================\n    // Refs\n    // ==============================\n\n    // ==============================\n    // Utilities\n    // ==============================\n\n    // combine defaultProps with consumer props to maintain expected behaviour\n\n    // combine defaultProps with consumer props to maintain expected behaviour\n\n\n    // ==============================\n    // Handlers\n    // ==============================\n\n    // ==============================\n    // Renderers\n    // ==============================\n\n  }, {\n    key: 'getCommonProps',\n    value: function getCommonProps() {\n      var _props2 = this.props,\n          frameProps = _props2.frameProps,\n          trackProps = _props2.trackProps,\n          modalProps = _props2.modalProps,\n          views = _props2.views,\n          showNavigationOnTouchDevice = _props2.showNavigationOnTouchDevice;\n\n      var isModal = Boolean(modalProps);\n      var isFullscreen = Boolean(modalProps && modalProps.isFullscreen);\n      var _state = this.state,\n          currentIndex = _state.currentIndex,\n          interactionIsIdle = _state.interactionIsIdle;\n\n      var currentView = this.getViewData();\n\n      return {\n        carouselProps: this.props,\n        currentIndex: currentIndex,\n        currentView: currentView,\n        formatters: this.props.formatters,\n        frameProps: frameProps,\n        getStyles: this.getStyles,\n        showNavigationOnTouchDevice: showNavigationOnTouchDevice,\n        isFullscreen: isFullscreen,\n        isModal: isModal,\n        modalProps: modalProps,\n        interactionIsIdle: interactionIsIdle,\n        trackProps: trackProps,\n        views: views\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _components = this.components,\n          Container = _components.Container,\n          View = _components.View;\n      var currentIndex = this.state.currentIndex;\n      var _props3 = this.props,\n          frameProps = _props3.frameProps,\n          views = _props3.views;\n\n      var commonProps = this.commonProps = this.getCommonProps();\n\n      return glam(\n        Container,\n        _extends({}, commonProps, { innerProps: { innerRef: this.getContainer } }),\n        this.renderHeader(),\n        glam(\n          ViewPager,\n          {\n            tag: 'main',\n            style: viewPagerStyles,\n            className: className('pager')\n          },\n          glam(\n            Frame,\n            _extends({}, frameProps, {\n              ref: this.getFrame,\n              className: className('frame'),\n              style: frameStyles,\n              tabIndex: '-1'\n            }),\n            glam(\n              Track,\n              _extends({}, this.getTrackProps(this.props), {\n                style: { display: 'flex', alignItems: 'center' },\n                currentView: currentIndex,\n                className: className(trackBaseClassName),\n                onViewChange: this.handleViewChange,\n                ref: this.getTrack\n              }),\n              views && views.map(function (data, index) {\n                return glam(\n                  View$1,\n                  { className: className('view-wrapper'), key: index },\n                  glam(View, _extends({}, commonProps, { data: data, index: index }))\n                );\n              })\n            )\n          ),\n          this.renderNavigation()\n        ),\n        this.renderFooter()\n      );\n    }\n  }]);\n  return Carousel;\n}(Component);\n\nCarousel.defaultProps = defaultProps$1;\n\nvar _initialiseProps$1 = function _initialiseProps() {\n  var _this2 = this;\n\n  this.mounted = false;\n\n  this.cacheComponents = function (comps) {\n    _this2.components = defaultCarouselComponents(comps);\n  };\n\n  this.getContainer = function (ref) {\n    _this2.container = ref;\n  };\n\n  this.getFooter = function (ref) {\n    _this2.footer = ref;\n  };\n\n  this.getFrame = function (ref) {\n    _this2.frame = findDOMNode(ref);\n  };\n\n  this.getHeader = function (ref) {\n    _this2.header = ref;\n  };\n\n  this.getTrack = function (ref) {\n    _this2.track = ref;\n  };\n\n  this.hasPreviousView = function () {\n    var trackProps = _this2.props.trackProps;\n    var currentIndex = _this2.state.currentIndex;\n\n\n    return trackProps.infinite || currentIndex !== 0;\n  };\n\n  this.hasNextView = function () {\n    var _props4 = _this2.props,\n        trackProps = _props4.trackProps,\n        views = _props4.views;\n    var currentIndex = _this2.state.currentIndex;\n\n\n    return trackProps.infinite || currentIndex !== views.length - 1;\n  };\n\n  this.getStyles = function (key, props) {\n    var base = defaultCarouselStyles[key](props);\n    base.boxSizing = 'border-box';\n    var custom = _this2.props.styles[key];\n    return custom ? custom(base, props) : base;\n  };\n\n  this.getTrackProps = function (props) {\n    return _extends({}, defaultProps$1.trackProps, props.trackProps);\n  };\n\n  this.getFormatters = function () {\n    return _extends({}, defaultProps$1.formatters, _this2.props.formatters);\n  };\n\n  this.getViewData = function () {\n    var views = _this2.props.views;\n    var currentIndex = _this2.state.currentIndex;\n\n\n    return views[currentIndex];\n  };\n\n  this.focusViewFrame = function () {\n    if (_this2.frame && document.activeElement !== _this2.frame) {\n      _this2.frame.focus();\n    }\n  };\n\n  this.prev = function (event) {\n    event.stopPropagation();\n    _this2.track.prev();\n    _this2.focusViewFrame();\n  };\n\n  this.next = function (event) {\n    event.stopPropagation();\n    _this2.track.next();\n    _this2.focusViewFrame();\n  };\n\n  this.handleMouseActivity = rafScheduler(function () {\n    clearTimeout(_this2.timer);\n\n    if (_this2.state.interactionIsIdle) {\n      _this2.setState({ interactionIsIdle: false });\n    }\n\n    _this2.timer = setTimeout(function () {\n      if (_this2.mounted) {\n        _this2.setState({ interactionIsIdle: true });\n      }\n    }, _this2.props.hideControlsWhenIdle);\n  });\n\n  this.handleViewChange = function (indicies) {\n    var trackProps = _this2.props.trackProps;\n\n    // simplify by enforcing number\n\n    var currentIndex = indicies[0];\n\n    _this2.setState({ currentIndex: currentIndex });\n\n    // call the consumer's onViewChange fn\n    if (trackProps && trackProps.onViewChange) {\n      trackProps.onViewChange(currentIndex);\n    }\n  };\n\n  this.renderNavigation = function () {\n    var _getFormatters = _this2.getFormatters(),\n        getNextLabel = _getFormatters.getNextLabel,\n        getPrevLabel = _getFormatters.getPrevLabel,\n        getNextTitle = _getFormatters.getNextTitle,\n        getPrevTitle = _getFormatters.getPrevTitle;\n\n    var _components2 = _this2.components,\n        Navigation = _components2.Navigation,\n        NavigationPrev = _components2.NavigationPrev,\n        NavigationNext = _components2.NavigationNext;\n    var commonProps = _this2.commonProps;\n\n\n    var showPrev = _this2.hasPreviousView();\n    var showNext = _this2.hasNextView();\n    var showNav = (showPrev || showNext) && Navigation;\n\n    return showNav ? glam(\n      Navigation,\n      commonProps,\n      showPrev && glam(NavigationPrev, _extends({}, commonProps, {\n        align: 'left',\n        innerProps: {\n          'aria-label': getPrevLabel(commonProps),\n          onClick: _this2.prev,\n          title: getPrevTitle(commonProps)\n        }\n      })),\n      showNext && glam(NavigationNext, _extends({}, commonProps, {\n        align: 'right',\n        innerProps: {\n          'aria-label': getNextLabel(commonProps),\n          onClick: _this2.next,\n          title: getNextTitle(commonProps)\n        }\n      }))\n    ) : null;\n  };\n\n  this.renderFooter = function () {\n    var _components3 = _this2.components,\n        Footer = _components3.Footer,\n        FooterCaption = _components3.FooterCaption,\n        FooterCount = _components3.FooterCount;\n    var commonProps = _this2.commonProps;\n\n\n    return Footer ? glam(Footer, _extends({}, commonProps, {\n      components: {\n        Caption: FooterCaption,\n        Count: FooterCount\n      },\n      innerProps: { innerRef: _this2.getFooter }\n    })) : null;\n  };\n\n  this.renderHeader = function () {\n    var _components4 = _this2.components,\n        Header = _components4.Header,\n        HeaderClose = _components4.HeaderClose,\n        HeaderFullscreen = _components4.HeaderFullscreen;\n\n    var _getFormatters2 = _this2.getFormatters(),\n        getCloseLabel = _getFormatters2.getCloseLabel,\n        getFullscreenLabel = _getFormatters2.getFullscreenLabel;\n\n    var commonProps = _this2.commonProps;\n\n\n    return Header ? glam(Header, _extends({}, commonProps, {\n      getCloseLabel: getCloseLabel,\n      getFullscreenLabel: getFullscreenLabel,\n      components: {\n        CloseButton: HeaderClose,\n        FullscreenButton: HeaderFullscreen\n      },\n      data: _this2.getViewData(),\n      innerProps: { innerRef: _this2.getHeader }\n    })) : null;\n  };\n};\n\nvar FirstChild = function FirstChild(_ref) {\n  var children = _ref.children;\n  return Children.toArray(children)[0] || null;\n};\n\nvar ModalGateway = function (_Component) {\n  inherits(ModalGateway, _Component);\n\n  function ModalGateway() {\n    classCallCheck(this, ModalGateway);\n    return possibleConstructorReturn(this, (ModalGateway.__proto__ || Object.getPrototypeOf(ModalGateway)).apply(this, arguments));\n  }\n\n  createClass(ModalGateway, [{\n    key: 'render',\n    value: function render() {\n      if (typeof window === 'undefined') return null;\n      var _props = this.props,\n          target = _props.target,\n          children = _props.children;\n\n      return createPortal(React.createElement(TransitionGroup, { component: FirstChild, children: children }), target);\n    }\n  }]);\n  return ModalGateway;\n}(Component);\n\nModalGateway.defaultProps = {\n  target: typeof window !== 'undefined' ? document.body : null\n};\n\nexport default Carousel;\nexport { Modal, ModalGateway, carouselComponents, modalComponents };\n"],"sourceRoot":""}